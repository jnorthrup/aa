<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>aa: Parse.java Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">aa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d5/de9/a00176_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Parse.java</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/de9/a00176.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">package </span>com.cliffc.aa;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> <a class="code" href="../../df/d03/a00348.html">com</a>.<a class="code" href="../../d7/dfc/a00349.html">cliffc</a>.<a class="code" href="../../d1/dc6/a00347.html">aa</a>.<a class="code" href="../../d0/d48/a00351.html">node</a>.*;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">import</span> <a class="code" href="../../df/d03/a00348.html">com</a>.<a class="code" href="../../d7/dfc/a00349.html">cliffc</a>.<a class="code" href="../../d1/dc6/a00347.html">aa</a>.<a class="code" href="../../db/ddc/a00353.html">type</a>.*;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">import</span> <a class="code" href="../../df/d03/a00348.html">com</a>.<a class="code" href="../../d7/dfc/a00349.html">cliffc</a>.<a class="code" href="../../d1/dc6/a00347.html">aa</a>.<a class="code" href="../../d6/d9c/a00352.html">tvar</a>.<a class="code" href="../../dc/d25/a01406.html">TV2</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">import</span> <a class="code" href="../../df/d03/a00348.html">com</a>.<a class="code" href="../../d7/dfc/a00349.html">cliffc</a>.<a class="code" href="../../d1/dc6/a00347.html">aa</a>.<a class="code" href="../../d0/dc3/a00354.html">util</a>.*;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">import</span> org.jetbrains.annotations.<a class="code" href="../../d0/d1f/a01734.html">NotNull</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">import</span> java.text.NumberFormat;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">import</span> java.text.ParsePosition;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">import</span> java.util.*;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../df/d03/a00348.html">com</a>.<a class="code" href="../../d7/dfc/a00349.html">cliffc</a>.<a class="code" href="../../d1/dc6/a00347.html">aa</a>.<a class="code" href="../../d3/d30/a00370.html">AA</a>.*;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> <span class="keyword">static</span> <a class="code" href="../../df/d03/a00348.html">com</a>.<a class="code" href="../../d7/dfc/a00349.html">cliffc</a>.<a class="code" href="../../d1/dc6/a00347.html">aa</a>.<a class="code" href="../../db/ddc/a00353.html">type</a>.<a class="code" href="../../d7/dd1/a01458.html">TypeFld</a>.<a class="code" href="../../de/d36/a01462.html">Access</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html">   68</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="../../da/de3/a01398.html">Parse</a> <span class="keyword">implements</span> <a class="code" href="../../d6/de1/a02518.html">Comparable</a>&lt;Parse&gt; {</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">   69</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">final</span> String <a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>;            <span class="comment">// Source for error messages; usually a file name</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">   70</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d7/d08/a00378.html">Env</a> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>;                       <span class="comment">// Lookup context; pushed and popped as scopes come and go</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">   71</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">byte</span>[] <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>;            <span class="comment">// Bytes being parsed</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">   72</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;                       <span class="comment">// Parser index</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">   73</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a>;                 <span class="comment">// Index of last non-white-space char</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">   74</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="../../d8/daf/a01550.html">AryInt</a> <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>;          <span class="comment">// char offset of each line</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">   75</a></span>&#160;  <span class="keyword">public</span> <span class="keyword">final</span> <a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a> <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>;             <span class="comment">// Pessimistic types</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Fields strictly for Java number parsing</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">   78</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">final</span> NumberFormat <a class="code" href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">_nf</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">   79</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">final</span> ParsePosition <a class="code" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">_pp</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a79c35aa0cd7e64a7387204c55d1c2b35">   80</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">final</span> String <a class="code" href="../../da/de3/a01398.html#a79c35aa0cd7e64a7387204c55d1c2b35">_str</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#acbcb660e5a4a1dabeaadcfa84f078c06">   82</a></span>&#160;  <a class="code" href="../../da/de3/a01398.html#acbcb660e5a4a1dabeaadcfa84f078c06">Parse</a>( String src, <a class="code" href="../../d7/d08/a00378.html">Env</a> env, String str ) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a> = src;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>   = env;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a> = str.getBytes();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>   = 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Set fields strictly for Java number parsing</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">_nf</a> = NumberFormat.getInstance();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">_nf</a>.setGroupingUsed(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">_pp</a> = <span class="keyword">new</span> ParsePosition(0);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a79c35aa0cd7e64a7387204c55d1c2b35">_str</a> = str;           <span class="comment">// Keep a complete string copy for java number parsing</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a> = <span class="keyword">new</span> <a class="code" href="../../d8/daf/a01550.html">AryInt</a>();<span class="comment">//</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a00adc6b061b25a9099de7d225e814fa2">push</a>(0);       <span class="comment">// Line 0 at offset 0</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a> = <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>;       <span class="comment">// Pessimistic during parsing</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a2822b8d3da9670144f6b969a0018410f">   97</a></span>&#160;  String <a class="code" href="../../da/de3/a01398.html#a2822b8d3da9670144f6b969a0018410f">dump</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../df/db5/a01158.html#a7e1a61828c0c95c2036c0d455288cfe0">dump</a>(99); }<span class="comment">// debugging hook</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#af3523a5eae79462d511cf046ba65dcff">   98</a></span>&#160;  String <a class="code" href="../../da/de3/a01398.html#af3523a5eae79462d511cf046ba65dcff">dumprpo</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a26d4d3535afaa9351a166b3ff276bcb2">START</a>.<a class="code" href="../../df/db5/a01158.html#abd2c4dd527b2269e98a9b16a23f74d78">dumprpo</a>(<span class="keyword">false</span>,<span class="keyword">false</span>); }<span class="comment">// debugging hook</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// Parse the string in the given lookup context, and return an executable</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// program.  Called in a whole-program context; passed in an empty ScopeNode</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// and nothing survives since there is no next call.  Used by the Exec to do</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// whole-compilation-unit typing.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a7b1a6eaad3b721625612e7475ca9bf3b">  104</a></span>&#160;  <a class="code" href="../../dc/d2d/a01534.html">TypeEnv</a> <a class="code" href="../../da/de3/a01398.html#a7b1a6eaad3b721625612e7475ca9bf3b">go</a>( ) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a74b0cbbdb7a84d8562db343d38f7ea1a">prog</a>();                     <span class="comment">// Parse a program</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// Delete names at the top scope before starting optimization.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">_scope</a>.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a54c7a94b1a651c7df484420931090941">close_display</a>(<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a42d9a00a9163833e11b84dd2ad3a494f">iter</a>(<a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dad/a00394.html">Mode</a>.<a class="code" href="../../d9/dad/a00394.html#aae03322ee6fc74d419a3d77af3f098f5">PesiNoCG</a>); <span class="comment">// Pessimistic optimizations; might improve error situation</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a7b2471f9da6be7e33a2b5989e916956a">remove_unknown_callers</a>();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a30adb7d17b631cd35a2e994feaa511f1">gcp</a> (<a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dad/a00394.html">Mode</a>.<a class="code" href="../../d9/dad/a00394.html#a133301b3dd51a129eda1b2dc315e3fbe">Opto</a>,<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>()); <span class="comment">// Global Constant Propagation</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a42d9a00a9163833e11b84dd2ad3a494f">iter</a>(<a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dad/a00394.html">Mode</a>.<a class="code" href="../../d9/dad/a00394.html#afaa02e157a7faac463a02014d97aeb90">PesiCG</a>); <span class="comment">// Re-check all ideal calls now that types have been maximally lifted</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a30adb7d17b631cd35a2e994feaa511f1">gcp</a> (<a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dad/a00394.html">Mode</a>.<a class="code" href="../../d9/dad/a00394.html#a133301b3dd51a129eda1b2dc315e3fbe">Opto</a>,<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>()); <span class="comment">// Global Constant Propagation</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a42d9a00a9163833e11b84dd2ad3a494f">iter</a>(<a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dad/a00394.html">Mode</a>.<a class="code" href="../../d9/dad/a00394.html#afaa02e157a7faac463a02014d97aeb90">PesiCG</a>); <span class="comment">// Re-check all ideal calls now that types have been maximally lifted</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">_scope</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">//assert Type.intern_check();</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a5a7494d0c60ba6d3c725328025db99cc">gather_errors</a>();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a7b2471f9da6be7e33a2b5989e916956a">  120</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a7b2471f9da6be7e33a2b5989e916956a">remove_unknown_callers</a>() {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Node&gt;</a> uses = <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a2632f934894ac8f5b54c2a8f14bba771">ALL_CTRL</a>.<a class="code" href="../../df/db5/a01158.html#ab77f93542583141b30ea7cb2a04a07f7">_uses</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// For all unknown uses of functions, they will all be known after GCP.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// Remove the hyper-conservative ALL_CTRL edge.  Note that I canNOT run the</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// pessimistic iter() at this point, as GCP needs to discover all the</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// actual call-graph edges and install them directly on the FunNodes.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;uses.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>; i++ ) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> use = uses.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">if</span>( !use.<a class="code" href="../../df/db5/a01158.html#a1885051050eecedbe3143d9cdbcc7118">is_prim</a>() ) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        assert use instanceof <a class="code" href="../../d9/d8e/a01050.html">FunNode</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        assert use.<a class="code" href="../../df/db5/a01158.html#a9a46cea187559f94192aa6e09b91c60c">in</a>(1)==<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a2632f934894ac8f5b54c2a8f14bba771">ALL_CTRL</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        use.<a class="code" href="../../df/db5/a01158.html#a76827313ea74c03a0d11a9cbf9e11c6e">set_def</a>(1,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ae457bfb4d6edd390fdf59d374c8b6d93">XCTRL</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        i--;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// No longer force all memory alive</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>.<a class="code" href="../../df/db5/a01158.html#a655b9cd6940b27b6df92c555c8d0ed90">insert</a>(<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a2266a7c52c83d25a9ef2232e6b24d7e2">ANY</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a5a7494d0c60ba6d3c725328025db99cc">  140</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../dc/d2d/a01534.html">TypeEnv</a> <a class="code" href="../../da/de3/a01398.html#a5a7494d0c60ba6d3c725328025db99cc">gather_errors</a>() {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// Hunt for typing errors in the alive code</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    assert <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>==<span class="keyword">null</span>; <span class="comment">// Top-level only</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    HashSet&lt;<a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../dc/dee/a01166.html">ErrMsg</a>&gt; errs = <span class="keyword">new</span> HashSet&lt;&gt;();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="../../df/dee/a01646.html">VBitSet</a> bs = <span class="keyword">new</span> <a class="code" href="../../df/dee/a01646.html">VBitSet</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../df/db5/a01158.html#a20c127c310699e286ef53cb6d59f95b1">walkerr_def</a>(errs,bs);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>() != -1 ) errs.add(<a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../dc/dee/a01166.html">ErrMsg</a>.<a class="code" href="../../dc/dee/a01166.html#a6fef57ebe368caca0346f800fcad1d9f">trailingjunk</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    ArrayList&lt;<a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../dc/dee/a01166.html">ErrMsg</a>&gt; errs0 = <span class="keyword">new</span> ArrayList&lt;&gt;(errs);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    Collections.sort(errs0);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> res = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#ae042d31e0069bd9ff011bae450d21870">rez</a>().<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>; <span class="comment">// New and improved result</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a199043a64946784dc275e91423aa4076">mem</a>().<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../dc/d2d/a01534.html">TypeEnv</a>(res, <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> instanceof <a class="code" href="../../d6/d51/a01494.html">TypeMem</a> ? (<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>)<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> : <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>.oob(<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#a9367fd0f9f363574908dbbd4090ec53c">ALLMEM</a>),<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>,errs0.isEmpty() ? <span class="keyword">null</span> : errs0);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a74b0cbbdb7a84d8562db343d38f7ea1a">  157</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a74b0cbbdb7a84d8562db343d38f7ea1a">prog</a>() {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#afc12ab83b476735fbb3f66cb65a7630d">_opt_mode</a> = <a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dad/a00394.html">Mode</a>.<a class="code" href="../../d9/dad/a00394.html#aef4ee3741fae6e47b9275f60a1fd66d3">Parse</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> res = <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span>( res == <span class="keyword">null</span> ) res = <a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a66f9cd0071f284f8f4badb5eca904720">ANY</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#aa6f858c75c7f6a1eae52d071ebff53e3">set_rez</a>(res);  <span class="comment">// Hook result</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">  167</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>(<span class="keyword">false</span>); }</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#adf95c17fe0de5cfff574ee89b78f0d37">  168</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#adf95c17fe0de5cfff574ee89b78f0d37">stmts</a>(<span class="keywordtype">boolean</span> lookup_current_scope_only) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> = <a class="code" href="../../da/de3/a01398.html#a7de58cb94e034d32c45310fa8d87f292">tstmt</a>(), last = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> == <span class="keyword">null</span> ) <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> = <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(lookup_current_scope_only);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> != <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;;&#39;</span>) ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      last = <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> = <a class="code" href="../../da/de3/a01398.html#a7de58cb94e034d32c45310fa8d87f292">tstmt</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> == <span class="keyword">null</span> ) <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> = <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(lookup_current_scope_only);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#a195b2b7d0b8f0f1770422573c2cc22ff">add_flow</a>(last.unkeep());</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> == <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;;&#39;</span>) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>--; <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>=last; }   <span class="comment">// Ignore empty statement</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !last.is_dead() &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> != last) <a class="code" href="../../da/de3/a01398.html#a3ca46fab7edc640230d3f4221a48ca7c">kill</a>(last); <span class="comment">// prior expression result no longer alive in parser</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> last;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a7de58cb94e034d32c45310fa8d87f292">  195</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a7de58cb94e034d32c45310fa8d87f292">tstmt</a>() {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    String tvar = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();      <span class="comment">// Scan for tvar</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span>( tvar == <span class="keyword">null</span> || !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;=&#39;</span>) || !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;:&#39;</span>) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    tvar = tvar.intern();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Must be a type-variable assignment</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../da/de3/a01398.html#a1866c72f20e94e052d38e838d3205ba7">typev</a>();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span>( t==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing type after &#39;:&#39;&quot;</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;?&#39;</span>) ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Named types are never nil&quot;</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a82a2e60ef3169d3c09f4d66cff677100">lookup</a>(tvar) != <span class="keyword">null</span> ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Cannot re-assign val &#39;&quot;</span>+tvar+<span class="stringliteral">&quot;&#39; as a type&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Single-inheritance &amp; vtables &amp; RTTI:</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">//            &quot;Objects know thy Class&quot;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// Which means a TypeObj knows its Name.  It&#39;s baked into the vtable.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// Which means TypeObj is named and not the pointer-to-TypeObj.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// &quot;Point= :@{x,y}&quot; declares &quot;Point&quot; to be a type Name for &quot;@{x,y}&quot;.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> named = t.<a class="code" href="../../d0/de2/a01442.html#a70d1cf353683b4275921c0ca2e1a1005">set_name</a>((tvar+<span class="stringliteral">&quot;:&quot;</span>).intern()); <span class="comment">// Add a name</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="../../de/d02/a01026.html">ConTypeNode</a> tn = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a5187ee285ddef210e6175df4741058f3">lookup_type</a>(tvar);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">if</span>( tn == <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="comment">// If this is a primitive type, there is no recursion and</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="comment">// no special issues.  Make a constructor and be done.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span>( !(t instanceof <a class="code" href="../../de/dc6/a01502.html">TypeObj</a>) ) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">// Make a ConType with a named Type</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        tn = (<a class="code" href="../../de/d02/a01026.html">ConTypeNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d02/a01026.html">ConTypeNode</a>(tvar,named,<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>()));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ae5bc7211c97cda10bb65f9b1c0d1e2b5">add_type</a>(tvar,tn); <span class="comment">// Add a type mapping</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="../../d8/d11/a01178.html">PrimNode</a> cvt = <a class="code" href="../../d8/d11/a01178.html">PrimNode</a>.<a class="code" href="../../d8/d11/a01178.html#af2f4c455d1857fb363a0a64d2b6c2954">convertTypeName</a>(t,named,bad);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ac9290c58de1db41481b822fa8830097e">add_fun</a>(bad,tvar,<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(cvt.<a class="code" href="../../d8/d11/a01178.html#a4c691e5e8199666ba7e95e2df7d49b96">as_fun</a>(<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>)));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="comment">// Always wrap Objs with a TypeMemPtr and a unique alias.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a> tmp = <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#adeddf1e33c774f9440baf7aac978c090">make</a>(<a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#ae0d73dac2e3b7adf777530f28da037eb">type_alias</a>(<a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#abc3e9f75a45233a0727820b62ebecaeb">REC</a>),(<a class="code" href="../../de/dc6/a01502.html">TypeObj</a>)named);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="comment">// Make a ConType with a named Type</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      tn = (<a class="code" href="../../de/d02/a01026.html">ConTypeNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d02/a01026.html">ConTypeNode</a>(tvar,tmp,<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>()));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ae5bc7211c97cda10bb65f9b1c0d1e2b5">add_type</a>(tvar,tn); <span class="comment">// Add a type mapping</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// A forward-ref ConTypeNode.  Close the cycle.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    tn.<a class="code" href="../../de/d02/a01026.html#a0ecdc4e8c7d6ed0dd5577c234527dbe0">def_fref</a>(named,<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// Add a copy of constructor functions.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// Build a constructor taking a pointer-to-TypeObj - and the associated</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// memory state, i.e.  takes a ptr-to-@{x,y} and returns a ptr to</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// Named:@{x,y}.  This stores a v-table ptr into an object.  The alias#</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// does not change, but a TypeMem[alias#] would now map to the Named</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// variant.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="../../da/da6/a01522.html">TypeStruct</a> ts = (<a class="code" href="../../da/da6/a01522.html">TypeStruct</a>)((<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>)tn.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>)._obj;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> epi1 = <a class="code" href="../../d4/d8a/a01062.html">IntrinsicNode</a>.<a class="code" href="../../d4/d8a/a01062.html#a853db1516ae6ebb3231b33ff0da941d2">convertTypeName</a>(ts,bad,<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> rez = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ac9290c58de1db41481b822fa8830097e">add_fun</a>(bad,tvar,epi1); <span class="comment">// Return type-name constructor</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// Add a second constructor taking an expanded arg list</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> epi2 = <a class="code" href="../../d4/d8a/a01062.html">IntrinsicNode</a>.<a class="code" href="../../d4/d8a/a01062.html#a940f72f7e41cd0b0785d4a9e717d0d40">convertTypeNameStruct</a>(ts, tn.<a class="code" href="../../de/d02/a01026.html#a77df3963a660b14b1f33036821cc7ce9">alias</a>(), <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>());</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ac9290c58de1db41481b822fa8830097e">add_fun</a>(bad,tvar,epi2); <span class="comment">// type-name constructor with expanded arg list</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> rez;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">  268</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(<span class="keywordtype">boolean</span> lookup_current_scope_only) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;^&#39;</span>) ) {           <span class="comment">// Early function exit</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> = <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>==<span class="keyword">null</span> ) <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>=<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">XNIL</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>==<span class="keyword">null</span> )</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a70192f75ad0a11a31d41bb8871c90fc5">err_ctrl1</a>(<a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../dc/dee/a01166.html">ErrMsg</a>.<a class="code" href="../../dc/dee/a01166.html#a9da5350250b721d98bbaf209170df595">syntax</a>(<span class="keyword">this</span>,<span class="stringliteral">&quot;Function exit but outside any function&quot;</span>));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#adfa998cc8d33a1434e6d9cfe2330acec">early_exit</a>(<span class="keyword">this</span>,<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// Gather ids in x = y = z = ....</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;String&gt;</a> toks = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> String[1],0);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Type  &gt;</a> ts   = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../d0/de2/a01442.html">Type</a>  [1],0);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Parse &gt;</a> badfs= <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../da/de3/a01398.html">Parse</a> [1],0);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Parse &gt;</a> badts= <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../da/de3/a01398.html">Parse</a> [1],0);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    BitSet rs = <span class="keyword">new</span> BitSet();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">boolean</span> default_nil = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a312ee5e886fda4db94d92fe35264e593">nongen_push</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;            <span class="comment">// Unwind token parse point</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <a class="code" href="../../da/de3/a01398.html">Parse</a> badf = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();    <span class="comment">// Capture location in case of field error</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      String tok = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();     <span class="comment">// Scan for &#39;id = ...&#39;</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">if</span>( tok == <span class="keyword">null</span> ) <span class="keywordflow">break</span>;  <span class="comment">// Out of ids</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordtype">int</span> oldx2 = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;           <span class="comment">// Unwind assignment flavor point</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="comment">// x  =: ... type  assignment, handled before we get here</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="comment">// x  =  ... final assignment</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="comment">// x :=  ... var   assignment</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="comment">// x : type  = ... typed final assignment</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">// x : type := ... typed var   assignment</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// x : nontype = ... error, missing type</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="comment">// p? x : nontype ... part of trinary</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="../../da/de3/a01398.html">Parse</a> badt = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();    <span class="comment">// Capture location in case of type error</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;:=&quot;</span>) ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx2; <span class="comment">// Avoid confusion with typed assignment test</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;:&#39;</span>) &amp;&amp; (t=<a class="code" href="../../da/de3/a01398.html#a585d40edf74658ce6fbab8af8bb9c904">type</a>())==<span class="keyword">null</span> ) { <span class="comment">// Check for typed assignment</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().test_if() ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx2; <span class="comment">// Grammar ambiguity, resolve p?a:b from a:int</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="../../da/de3/a01398.html#a61ed0a2a96fb3fff98c605e0ba745ec0">err_ctrl0</a>(<span class="stringliteral">&quot;Missing type after &#39;:&#39;&quot;</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;:=&quot;</span>) ) rs.set(toks.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>);              <span class="comment">// Re-assignment parse</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a1d066bb2349df851b75b6bd7f3e3f20d">peek_not</a>(<span class="charliteral">&#39;=&#39;</span>,<span class="charliteral">&#39;=&#39;</span>) ) {                  <span class="comment">// Not any assignment</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">// For structs, allow a bare id as a default def of nil</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">if</span>( lookup_current_scope_only &amp;&amp; ts.<a class="code" href="../../d6/d02/a01542.html#ad20d8e8c23d027edf235bd54f85d3ea8">isEmpty</a>() &amp;&amp; (<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;;&#39;</span>) || <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;}&#39;</span>) ||</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="comment">// These next two tokens are syntactically invalid, but a semi-common error situation:</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="comment">//   @{ fld;fld;fld;...  fld );  // Incorrect closing paren.  Go ahead and allow a bare id.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                          <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;]&#39;</span>) || <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;)&#39;</span> ))) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;          <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>--;                                        <span class="comment">// Push back statement end</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          default_nil=<span class="keyword">true</span>;                            <span class="comment">// Shortcut def of nil</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;          rs.set(toks.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>);                           <span class="comment">// Shortcut mutable</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="comment">// Unwind the token parse, and try an expression parse</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          <span class="keywordflow">break</span>;     <span class="comment">// Done parsing assignment tokens</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      toks .<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>.<a class="code" href="../../d3/d45/a00382.html#a51facebfc1ad9583e2aa7a44ea5e5cf5">add_var</a>(tok.intern(),<a class="code" href="../../dc/d25/a01406.html">TV2</a>.<a class="code" href="../../dc/d25/a01406.html#a60bdc3571827136bffe84bddd53e8201">make_leaf_ns</a>(<span class="keyword">null</span>,<span class="stringliteral">&quot;Env.add_var&quot;</span>)));</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      ts   .<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(t  );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      badfs.<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(badf);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      badts.<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(badt);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// Normal statement value parse</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> = default_nil ? <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">XNIL</a> : <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>(); <span class="comment">// Parse an expression for the statement value</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// Check for no-statement after start of assignment, e.g. &quot;x = ;&quot;</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> == <span class="keyword">null</span> ) {        <span class="comment">// No statement?</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">if</span>( toks.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a> == 0 ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a66fd66e169d8ae0553cda1444fdcad76">nongen_pop</a>(<span class="keyword">null</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> = <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing ifex after assignment of &#39;&quot;</span>+toks.<a class="code" href="../../d6/d02/a01542.html#a9c5263f0aa1ca912bc471f540e1a84cb">last</a>()+<span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// Honor all type requests, all at once, by inserting type checks on the ifex.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;ts.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>; i++ )</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> = <a class="code" href="../../da/de3/a01398.html#a753450a3d7e0641177893a2f2036e19a">typechk</a>(<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>,ts.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i),<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),badts.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// Assign tokens to value</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;toks.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>; i++ ) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      String tok = toks.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i);               <span class="comment">// Token being assigned</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../de/d36/a01462.html">Access</a> <span class="keyword">mutable</span> = rs.get(i) ? <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a> : <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>;  <span class="comment">// Assignment is mutable or final</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="comment">// Find scope for token.  If not defining struct fields, look for any</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="comment">// prior def.  If defining a struct, tokens define a new field in this scope.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> = <a class="code" href="../../da/de3/a01398.html#a3ce3409203fa4d16cb65a708de63046b">lookup_scope</a>(tok,lookup_current_scope_only);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>==<span class="keyword">null</span> ) {                    <span class="comment">// Token not already bound at any scope</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> instanceof <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> &amp;&amp; !<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>.<a class="code" href="../../df/db5/a01158.html#a97d0187c871a8c81de4696742a9684cb">is_forward_ref</a>() )</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          ((<a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>)<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>).bind(tok); <span class="comment">// Debug only: give name to function</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a34c1264570204f1609dde3a64818a036">create</a>(tok,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">XNIL</a>,<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a>);  <span class="comment">// Create at top of scope as undefined</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>();                <span class="comment">// Scope is the current one</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#aad4e2b57d680508b96b22872ee102e95">def_if</a>(tok,<span class="keyword">mutable</span>,<span class="keyword">true</span>); <span class="comment">// Record if inside arm of if (partial def error check)</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">// Handle re-assignments and forward referenced function definitions.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> n = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">stk</a>().<a class="code" href="../../dd/de2/a01134.html#a964e91111d9edea48ebadbd8d89dd25c">get</a>(tok); <span class="comment">// Get prior direct binding</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span>( n.<a class="code" href="../../df/db5/a01158.html#a97d0187c871a8c81de4696742a9684cb">is_forward_ref</a>() ) {     <span class="comment">// Prior is a f-ref</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        assert !<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">stk</a>().<a class="code" href="../../dd/de2/a01134.html#aab8e6a60474b997f0f73f590b01b172e">is_mutable</a>(tok) &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> == <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> instanceof <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> )</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          ((<a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>)n).merge_ref_def(tok,(<a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>)<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>,<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">stk</a>());</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        else ; <span class="comment">// Can be here if already in-error</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// Store into scope/NewObjNode/display</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">// Assign into display, changing an existing def</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> ptr = <a class="code" href="../../da/de3/a01398.html#a41b27cb2a246284f113c118d37e45093">get_display_ptr</a>(<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>); <span class="comment">// Pointer, possibly loaded up the display-display</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="../../d2/dff/a01374.html">StoreNode</a> st = <span class="keyword">new</span> <a class="code" href="../../d2/dff/a01374.html">StoreNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),ptr,<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>,<span class="keyword">mutable</span>,tok,badfs.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a0e8b9662df99b6290a1204f31999873f">replace_mem</a>(st);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#aad4e2b57d680508b96b22872ee102e95">def_if</a>(tok,<span class="keyword">mutable</span>,<span class="keyword">false</span>); <span class="comment">// Note 1-side-of-if update</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a66fd66e169d8ae0553cda1444fdcad76">nongen_pop</a>(<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>());</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">  380</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>() {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a> = <a class="code" href="../../da/de3/a01398.html#a6e92b63110e4ed2e5bf7533656730f3f">apply</a>();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a> == <span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>; <span class="comment">// Expr is required, so missing expr implies not any ifex</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;?&#39;</span>) ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>;   <span class="comment">// No if-expression</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a5fdee2674d3c57c4bea3ae65cec5b7a4">push_if</a>();            <span class="comment">// Start if-expression tracking new defs</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a> = <a class="code" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">init</a>(<span class="keyword">new</span> <a class="code" href="../../d5/d4c/a01058.html">IfNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d41/a01030.html">CProjNode</a>(<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>,1))); <span class="comment">// Control for true branch</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> old_mem = <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);         <span class="comment">// Keep until parse false-side</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> tex = <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(<span class="keyword">false</span>);               <span class="comment">// Parse true expression</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span>( tex == <span class="keyword">null</span> ) tex = <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;missing expr after &#39;?&#39;&quot;</span>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    tex.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);                   <span class="comment">// Keep until merge point</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> t_ctrl= <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);   <span class="comment">// Keep until merge point</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> t_mem = <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> ().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);   <span class="comment">// Keep until merge point</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a39364f710b89a0792495a79f1471696e">flip_if</a>();          <span class="comment">// Flip side of tracking new defs</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#a7604d1a7a8281ef87e4af6c1939b0c85">add_work_all</a>(<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d41/a01030.html">CProjNode</a>(<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>,0))); <span class="comment">// Control for false branch</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#ad52b88a21b47c661e6f6a3bcfdbb3576">add_reduce</a>(<a class="code" href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">ifex</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>(old_mem.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2));    <span class="comment">// Reset memory to before the IF</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> fex = <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;:&#39;</span>) ? <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(<span class="keyword">false</span>) : <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">XNIL</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span>( fex == <span class="keyword">null</span> ) fex = <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;missing expr after &#39;:&#39;&quot;</span>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    fex.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);                   <span class="comment">// Keep until merge point</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> f_ctrl= <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);   <span class="comment">// Keep until merge point</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> f_mem = <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> ().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);   <span class="comment">// Keep until merge point</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    t_mem = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a651aeccabcd84dab0de9d4d49128f4d3">check_if</a>(<span class="keyword">true</span> ,bad,<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>,t_ctrl,t_mem); <span class="comment">// Insert errors if created only 1 side</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    f_mem = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a651aeccabcd84dab0de9d4d49128f4d3">check_if</a>(<span class="keyword">false</span>,bad,<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>,f_ctrl,f_mem); <span class="comment">// Insert errors if created only 1 side</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a9777a74a97f7ff4c215b0b00b51c4abc">pop_if</a>();         <span class="comment">// Pop the if-scope</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="../../da/d61/a01350.html">RegionNode</a> r = <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">init</a>(<span class="keyword">new</span> <a class="code" href="../../da/d61/a01350.html">RegionNode</a>(<span class="keyword">null</span>,t_ctrl.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),f_ctrl.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2))));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    r.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a> = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a42f0719f0fe6f4b56acbe5233e219b86">CTRL</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#ad52b88a21b47c661e6f6a3bcfdbb3576">add_reduce</a>(t_ctrl);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#ad52b88a21b47c661e6f6a3bcfdbb3576">add_reduce</a>(f_ctrl);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span>( t_ctrl.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>==<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a46ee539fa0da39c0825b259924a9c461">XCTRL</a> ) <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a195b2b7d0b8f0f1770422573c2cc22ff">add_flow</a>(t_mem);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span>( f_ctrl.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>==<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a46ee539fa0da39c0825b259924a9c461">XCTRL</a> ) <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a195b2b7d0b8f0f1770422573c2cc22ff">add_flow</a>(f_mem);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>(   <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/dfb/a01174.html">PhiNode</a>(<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#a8a020f104541afe75925e79c117864a6">FULL</a>,bad,r        ,t_mem.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),f_mem.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2))));</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> rez = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/dfb/a01174.html">PhiNode</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a> ,bad,r.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),tex.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),  fex.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2))) ; <span class="comment">// Ifex result</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a7604d1a7a8281ef87e4af6c1939b0c85">add_work_all</a>(r);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> rez;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a6e92b63110e4ed2e5bf7533656730f3f">  427</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a6e92b63110e4ed2e5bf7533656730f3f">apply</a>() {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a> = <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a> == <span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordtype">int</span> old_last = <a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);             <span class="comment">// Keep alive across argument parse</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> arg = <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">if</span>( arg==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="comment">// To avoid the common bug of forgetting a &#39;;&#39;, these must be on the same line.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordtype">int</span> line_last = <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a2802e74b1262d5693e3867bbcc4a0c9f">binary_search</a>(old_last);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordtype">int</span> line_now  = <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a2802e74b1262d5693e3867bbcc4a0c9f">binary_search</a>(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keywordflow">if</span>( line_last != line_now ) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx;  <a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a> = old_last;  <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>.<a class="code" href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">unhook</a>();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Lisp-like function application split between lines &quot;</span>+line_last+<span class="stringliteral">&quot; and &quot;</span>+line_now+<span class="stringliteral">&quot;, but must be on the same line; possible missing semicolon?&quot;</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a> = <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(oldx,oldx),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(<a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),arg)); <span class="comment">// Pass the 1 arg</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">  459</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">expr</a>() {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();         <span class="comment">// Invariant: WS already skipped before &amp; after each expr depth</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ac81c4d62901080f0883b0e984f7f0062">_expr</a>(1);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Invariant: WS already skipped before &amp; after each _expr depth</span></div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ac81c4d62901080f0883b0e984f7f0062">  465</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ac81c4d62901080f0883b0e984f7f0062">_expr</a>(<span class="keywordtype">int</span> prec) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordtype">int</span> lhsx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;              <span class="comment">// Invariant: WS already skipped</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> lhs = <a class="code" href="../../da/de3/a01398.html#a6397933ff168ada64e7209d9c82122de">_expr_higher</a>(prec,<span class="keyword">null</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span>( lhs==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {             <span class="comment">// Kleene star at this precedence</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="comment">// Look for a binop at this precedence level</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordtype">int</span> opx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;             <span class="comment">// Invariant: WS already skipped</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      String bintok = <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<a class="code" href="../../d8/d11/a01178.html">PrimNode</a>.<a class="code" href="../../d8/d11/a01178.html#a6017cb7890194d5e4449f853ac5f5f7f">PRIM_TOKS</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a475c6d3bbac6d7262fa44d9f34e24fc3">_good_prec_tok</a>(prec,bintok) ) <span class="keywordflow">return</span> lhs; <span class="comment">// No token at this precedence</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> += bintok.length();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordtype">int</span> rhsx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;            <span class="comment">// Invariant: WS already skipped</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      lhs.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="comment">// Get the matching FunPtr (or Unresolved).</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">// This is a primitive lookup and always returns a FRESH copy (see HM.Ident).</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a> op = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#af4bc5ac4070d80816f02ed287b24817e">lookup_filter_fresh</a>(bintok.intern(),2,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>()); <span class="comment">// BinOp, or null</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      assert op!=<span class="keyword">null</span>;          <span class="comment">// Since found valid token, must find matching primnode</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <a class="code" href="../../d9/d8e/a01050.html">FunNode</a> sfun = op.<a class="code" href="../../d3/deb/a01386.html#abfb2c975501644933081cf75a2ad47a5">funptr</a>().<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      assert sfun.<a class="code" href="../../d9/d8e/a01050.html#a6f4dd265c5a85c5ec0b97ade22327b1f">_op_prec</a> == prec;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// Check for Thunking the RHS</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span>( sfun.<a class="code" href="../../d9/d8e/a01050.html#a61f716b3e36146f3f56fc69dd8ab7cc8">_thunk_rhs</a> ) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        lhs = <a class="code" href="../../da/de3/a01398.html#ade4bf32252a86275a1ec393dea94ed6f">_short_circuit_expr</a>(lhs.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),prec,bintok,op,opx,lhsx,rhsx);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      } <span class="keywordflow">else</span> {                  <span class="comment">// Not a thunk!  Eager evaluation of RHS</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        op.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> rhs = <a class="code" href="../../da/de3/a01398.html#a58b0dba4e9b60d9e9639eea530b6077b">_expr_higher_require</a>(prec,bintok,lhs.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>());</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">// Emit the call to both terms</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// LHS in unhooked prior to optimizing/replacing.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        lhs = <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(opx,lhsx,rhsx), <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(op.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),lhs,rhs));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="comment">// Invariant: LHS is unhooked</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// Get an expr at the next higher precedence, or a term, or null</span></div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a6397933ff168ada64e7209d9c82122de">  499</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a6397933ff168ada64e7209d9c82122de">_expr_higher</a>( <span class="keywordtype">int</span> prec, <a class="code" href="../../df/db5/a01158.html">Node</a> lhs ) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span>( lhs != <span class="keyword">null</span> ) lhs.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> rhs = prec+1 == <a class="code" href="../../d8/d11/a01178.html">PrimNode</a>.<a class="code" href="../../d8/d11/a01178.html#a2c7b8ff948020bfb43bf59213723d013">PREC_TOKS</a>.length ? <a class="code" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">term</a>() : <a class="code" href="../../da/de3/a01398.html#ac81c4d62901080f0883b0e984f7f0062">_expr</a>(prec+1);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span>( lhs != <span class="keyword">null</span> ) lhs.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> rhs;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a58b0dba4e9b60d9e9639eea530b6077b">  505</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a58b0dba4e9b60d9e9639eea530b6077b">_expr_higher_require</a>( <span class="keywordtype">int</span> prec, String bintok, <a class="code" href="../../df/db5/a01158.html">Node</a> lhs ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> rhs = <a class="code" href="../../da/de3/a01398.html#a6397933ff168ada64e7209d9c82122de">_expr_higher</a>(prec,lhs);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">return</span> rhs==<span class="keyword">null</span> ? <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing term after &#39;&quot;</span>+bintok+<span class="stringliteral">&quot;&#39;&quot;</span>) : rhs;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// Check that this token is valid for this precedence level</span></div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a475c6d3bbac6d7262fa44d9f34e24fc3">  510</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a475c6d3bbac6d7262fa44d9f34e24fc3">_good_prec_tok</a>(<span class="keywordtype">int</span> prec, String bintok) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span>( bintok==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">for</span>( String tok : <a class="code" href="../../d8/d11/a01178.html">PrimNode</a>.<a class="code" href="../../d8/d11/a01178.html#a2c7b8ff948020bfb43bf59213723d013">PREC_TOKS</a>[prec] ) <span class="keywordflow">if</span>( <a class="code" href="../../dd/d55/a01638.html">Util</a>.<a class="code" href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">eq</a>(bintok,tok) ) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// Short-circuit &#39;thunks&#39; the RHS operator and passes it to a thunk-aware</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// primitive.  The primitive is required to fully inline &amp; optimize out the</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// Thunk before we exit here.  However, the primitive can do pretty much what</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// it wants with the Thunk (currently nil-check LHS, then optionally Call the</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// thunk).</span></div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ade4bf32252a86275a1ec393dea94ed6f">  521</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ade4bf32252a86275a1ec393dea94ed6f">_short_circuit_expr</a>(<a class="code" href="../../df/db5/a01158.html">Node</a> lhs, <span class="keywordtype">int</span> prec, String bintok, <a class="code" href="../../df/db5/a01158.html">Node</a> op, <span class="keywordtype">int</span> opx, <span class="keywordtype">int</span> lhsx, <span class="keywordtype">int</span> rhsx) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// Capture state so we can unwind after parsing delayed execution</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="../../dd/de2/a01134.html">NewObjNode</a> stk = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">stk</a>(); <span class="comment">// Display</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> old_ctrl = <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> old_mem  = <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> ().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    op.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="../../da/da6/a01522.html">TypeStruct</a> old_ts = stk.<a class="code" href="../../db/d1e/a01126.html#a8556ea588bc50697d5085e501bf3b46f">_ts</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Node&gt;</a> old_defs = stk._defs.deepCopy();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    lhs.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// Insert a thunk header to capture the delayed execution</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="../../de/d9d/a01382.html">ThunkNode</a> thunk = (<a class="code" href="../../de/d9d/a01382.html">ThunkNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d9d/a01382.html">ThunkNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>()));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(thunk);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a> (<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d3/dc7/a01170.html">ParmNode</a>(MEM_IDX,<span class="stringliteral">&quot;mem&quot;</span>,thunk.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2),<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#ae7d48276898d3e1a6852ac71d53ff095">MEM</a>,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>,<span class="keyword">null</span>)));</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// Delayed execution parse of RHS</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> rhs = <a class="code" href="../../da/de3/a01398.html#a58b0dba4e9b60d9e9639eea530b6077b">_expr_higher_require</a>(prec,bintok,lhs);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">// Insert thunk tail, unwind memory state</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="../../db/d74/a01378.html">ThretNode</a> thet = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../db/d74/a01378.html">ThretNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),rhs,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#a195b2b7d0b8f0f1770422573c2cc22ff">add_flow</a>(thunk.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2)))).<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(old_ctrl.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a> (old_mem .unkeep(2));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;old_defs.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>; i++ )</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      assert old_defs.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i)==stk._defs.at(i); <span class="comment">// Nothing peeked thru the Thunk &amp; updated outside</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// Emit the call to both terms.  Both the emitted call and the thunk MUST</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// inline right now.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    lhs = <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(opx,lhsx,rhsx), <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(op.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),lhs.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2),thet.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2)));</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    assert thunk.<a class="code" href="../../df/db5/a01158.html#ab7694c22a9c7542842726bcfb0eb5922">is_dead</a>() &amp;&amp; thet.<a class="code" href="../../df/db5/a01158.html#ab7694c22a9c7542842726bcfb0eb5922">is_dead</a>(); <span class="comment">// Thunk, in fact, inlined</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// Extra variables in the thunk not available after the thunk.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// Set them to Err.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span>( stk.<a class="code" href="../../db/d1e/a01126.html#a8556ea588bc50697d5085e501bf3b46f">_ts</a> != old_ts ) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      lhs.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(2);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=old_defs.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>; i&lt;stk._defs._len; i++ ) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        String fname = stk.<a class="code" href="../../db/d1e/a01126.html#a8556ea588bc50697d5085e501bf3b46f">_ts</a>.fld(i-1)._fld;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        String msg = <span class="stringliteral">&quot;&#39;&quot;</span>+fname+<span class="stringliteral">&quot;&#39; not defined prior to the short-circuit&quot;</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(rhsx);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> err = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d4/dbc/a01038.html">ErrNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),bad,msg));</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>(<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d2/dff/a01374.html">StoreNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().ptr(),err,<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>,fname,bad)));</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      lhs.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(2);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> lhs;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// Invariant: WS already skipped before &amp; after term</span></div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">  575</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">term</a>() {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    String uni = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span>( uni!=<span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="comment">// This is a primitive lookup and always returns a FRESH copy (see HM.Ident).</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a> unifun = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#af4bc5ac4070d80816f02ed287b24817e">lookup_filter_fresh</a>(uni.intern(),1,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>()); <span class="comment">// UniOp, or null</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> ptr = unifun==<span class="keyword">null</span> ? null : unifun.<a class="code" href="../../d3/deb/a01386.html#abfb2c975501644933081cf75a2ad47a5">funptr</a>();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">if</span>( ptr==<span class="keyword">null</span> || ptr.<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>().<a class="code" href="../../d9/d8e/a01050.html#a6f4dd265c5a85c5ec0b97ade22327b1f">_op_prec</a> &lt;= 0 ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx; <span class="comment">// Not a uniop</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="comment">// Token might have been longer than the filtered name; happens if a</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="comment">// bunch of operator characters are adjacent but we can make an operator</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// out of the first few.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx+ptr.<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>().<a class="code" href="../../d9/d8e/a01050.html#a6f8ce045c43ba9985568e06635946142">fptr</a>().<a class="code" href="../../dd/d57/a01054.html#afe1dcfcf70b42faf751d07f024ec8296">_name</a>.length();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        unifun.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">term</a> = <a class="code" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">term</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">term</a>==<span class="keyword">null</span> ) { unifun.<a class="code" href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">unhook</a>(); <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        unifun.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(0,oldx),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(unifun,<a class="code" href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">term</a>));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// Check for id++ / id--</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    String tok = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span>( tok != <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> n;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;++&quot;</span>) &amp;&amp; (n=<a class="code" href="../../da/de3/a01398.html#ac627d3aaaed60f3d4a68bc4431dba21e">inc</a>(tok, 1))!=<span class="keyword">null</span> ) <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;--&quot;</span>) &amp;&amp; (n=<a class="code" href="../../da/de3/a01398.html#ac627d3aaaed60f3d4a68bc4431dba21e">inc</a>(tok,-1))!=<span class="keyword">null</span> ) <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// Normal term expansion</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> n = <a class="code" href="../../da/de3/a01398.html#a7056d9016c6762ee436ae04e04476d3b">tfact</a>();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">if</span>( n == <span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {             <span class="comment">// Repeated application or field lookup is fine</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;.&#39;</span>) ) {         <span class="comment">// Field?</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();               <span class="comment">//</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordtype">int</span> fld_start=<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;       <span class="comment">// Get field start</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        String fld = <a class="code" href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162">token0</a>();  <span class="comment">// Field name</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span>( fld == <span class="keyword">null</span> ) {     <span class="comment">// Not a token, check for a field number</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          <span class="keywordtype">int</span> fldnum = <a class="code" href="../../da/de3/a01398.html#a9776bbfb3b7a794122e3abbabfd55f99">field_number</a>();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;          <span class="keywordflow">if</span>( fldnum == -1 ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing field name after &#39;.&#39;&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;          fld = <span class="stringliteral">&quot;&quot;</span>+fldnum;      <span class="comment">// Convert to a field name</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        fld=fld.intern();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> castnn = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d0/d56/a01014.html">CastNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),n,<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#ad5040f4213368c62870a608932657358">ISUSED</a>)); <span class="comment">// Remove nil choice</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="comment">// Store or load against memory</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;:=&quot;</span>) || <a class="code" href="../../da/de3/a01398.html#a1d066bb2349df851b75b6bd7f3e3f20d">peek_not</a>(<span class="charliteral">&#39;=&#39;</span>,<span class="charliteral">&#39;=&#39;</span>)) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;          <a class="code" href="../../de/d36/a01462.html">Access</a> fin = <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-2]==<span class="charliteral">&#39;:&#39;</span> ? <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a> : <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;          <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> = <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;          <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a> == <span class="keyword">null</span> ) n = <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing stmt after assigning field &#39;.&quot;</span>+fld+<span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;          <span class="keywordflow">else</span> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a0e8b9662df99b6290a1204f31999873f">replace_mem</a>( <span class="keyword">new</span> <a class="code" href="../../d2/dff/a01374.html">StoreNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),castnn,n=<a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>(),fin,fld ,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(fld_start)));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;          <span class="keywordflow">return</span> n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          n = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d0/dfb/a01066.html">LoadNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),castnn,fld,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(fld_start)));</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;(&#39;</span>) ) {  <span class="comment">// Attempt a function-call</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;              <span class="comment">// Just past paren</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();               <span class="comment">// Skip to start of 1st arg</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        n.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();               <span class="comment">// Keep alive across arg parse</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordtype">int</span> first_arg_start = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> arg = <a class="code" href="../../da/de3/a01398.html#af4bbf26ee356318a4ab80490f56074f8">tuple</a>(oldx-1,<a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>(),first_arg_start); <span class="comment">// Parse argument list</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span>( arg == <span class="keyword">null</span> )       <span class="comment">// tfact but no arg is just the tfact</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;          { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(); }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="../../d0/de2/a01442.html">Type</a> tn = n.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordtype">boolean</span> may_fun = tn.<a class="code" href="../../d0/de2/a01442.html#ad4b6fe2d948ba739fd3d5e0feac103e6">isa</a>(<a class="code" href="../../d8/d7b/a01478.html">TypeFunPtr</a>.<a class="code" href="../../d8/d7b/a01478.html#a9ca96883f956e36082b300c8b58ca4f1">GENERIC_FUNPTR</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span>( !may_fun &amp;&amp; arg.<a class="code" href="../../df/db5/a01158.html#a512496941a4b0d7e291ff7ae0c8ccbfb">op_prec</a>() &gt;= 0 ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx; <span class="keywordflow">return</span> n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(); }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">if</span>( !may_fun &amp;&amp;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="comment">// Notice the backwards condition: n was already tested for !(tn instanceof TypeFun).</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="comment">// Now we test the other way: the generic function can never be an &#39;n&#39;.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="comment">// Only if we cannot &#39;isa&#39; in either direction do we bail out early</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="comment">// here.  Otherwise, e.g. &#39;n&#39; might be an unknown function argument</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="comment">// and during GCP be &#39;lifted&#39; to a function; if we bail out now we</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="comment">// may disallow a legal program with function arguments.  However,</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="comment">// if &#39;n&#39; is a e.g. Float there&#39;s no way it can &#39;lift&#39; to a function.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            !<a class="code" href="../../d8/d7b/a01478.html">TypeFunPtr</a>.<a class="code" href="../../d8/d7b/a01478.html#a9ca96883f956e36082b300c8b58ca4f1">GENERIC_FUNPTR</a>.<a class="code" href="../../d0/de2/a01442.html#ad4b6fe2d948ba739fd3d5e0feac103e6">isa</a>(tn) ) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          <a class="code" href="../../da/de3/a01398.html#a3ca46fab7edc640230d3f4221a48ca7c">kill</a>(arg);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;          n.<a class="code" href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">unhook</a>();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;          n = <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;A function is being called, but &quot;</span>+tn+<span class="stringliteral">&quot; is not a function&quot;</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          <a class="code" href="../../da/de3/a01398.html">Parse</a>[] badargs = ((<a class="code" href="../../dd/de2/a01134.html">NewObjNode</a>)arg.<a class="code" href="../../df/db5/a01158.html#a9a46cea187559f94192aa6e09b91c60c">in</a>(0))._fld_starts; <span class="comment">// Args from tuple</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          badargs[0] = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(oldx-1); <span class="comment">// Base call error reported at the opening paren</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          n = <a class="code" href="../../da/de3/a01398.html#aa40dcde3dd2de1189f636cf5e5e865c7">do_call0</a>(<span class="keyword">false</span>,badargs,<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),arg)); <span class="comment">// Pass the tuple</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="comment">// Check for balanced op</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        n.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a> bfun = <a class="code" href="../../da/de3/a01398.html#a4092ce9560331b1ca5975ee8123a3a00">bal_open</a>();   <span class="comment">// Balanced op read</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">if</span>( bfun==<span class="keyword">null</span> ) { n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(); <span class="keywordflow">break</span>; } <span class="comment">// Not a balanced op</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-1;            <span class="comment">// Token start</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        bfun.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();            <span class="comment">// Keep alive across arg parse</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordtype">int</span> oldx2 = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> idx = <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>();     <span class="comment">// Index expression</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        tok = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span>( idx==<span class="keyword">null</span> || tok==<span class="keyword">null</span> ) { n.<a class="code" href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">unhook</a>(); bfun.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(); <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing stmts after &#39;&quot;</span>+tok+<span class="stringliteral">&quot;&#39;&quot;</span>); }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> -= tok.length(); <span class="comment">// Unwind, since token length depends on match</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="comment">// Need to find which balanced op close.  Find the longest matching name</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> fptr=<span class="keyword">null</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="../../d5/d8e/a01390.html">UnresolvedNode</a> unr = ((<a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a>)bfun.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>()).unk();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">if</span>( unr!=<span class="keyword">null</span> ) {       <span class="comment">// Unresolved of balanced ops?</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          <span class="keywordflow">for</span>( <a class="code" href="../../df/db5/a01158.html">Node</a> def : unr.<a class="code" href="../../df/db5/a01158.html#a24ecbb219b172a53198e2542ab0ac404">_defs</a> ) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a> def0 = (<a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>)def;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordflow">if</span>( tok.startsWith(def0.<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>().<a class="code" href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">_bal_close</a>) &amp;&amp;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                (fptr==<span class="keyword">null</span> || fptr.<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>().<a class="code" href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">_bal_close</a>.length() &lt; def0.<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>().<a class="code" href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">_bal_close</a>.length()) )</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;              fptr = def0;      <span class="comment">// Found best match</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#af23b6c0debccdb7104dea273b231c716">add_dead</a>(<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#ad52b88a21b47c661e6f6a3bcfdbb3576">add_reduce</a>(bfun)); <span class="comment">// Dropping any new FreshNode, and replacing with this one</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          idx.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          bfun = (<a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/d17/a01046.html">FreshNode</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),fptr));</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        } <span class="keywordflow">else</span> fptr = bfun.<a class="code" href="../../d3/deb/a01386.html#abfb2c975501644933081cf75a2ad47a5">funptr</a>(); <span class="comment">// Just the one balanced op</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <a class="code" href="../../d9/d8e/a01050.html">FunNode</a> fun = fptr.<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>(fun.<a class="code" href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">_bal_close</a>,oldx);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">if</span>( fun.<a class="code" href="../../d9/d8e/a01050.html#aced3be823b4a2f467be797cc894de84a">nargs</a>()==ARG_IDX+2 ) { <span class="comment">// array, index</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;          n = <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(0,oldx,oldx2),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(bfun,n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),idx.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>()));</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          assert fun.<a class="code" href="../../d9/d8e/a01050.html#aced3be823b4a2f467be797cc894de84a">nargs</a>()==ARG_IDX+3; <span class="comment">// array, index, value</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          <span class="keywordtype">int</span> oldx3 = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          bfun.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          <a class="code" href="../../df/db5/a01158.html">Node</a> val = <a class="code" href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">stmt</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          <span class="keywordflow">if</span>( val==<span class="keyword">null</span> ) { n.<a class="code" href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">unhook</a>(); <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing stmt after &#39;&quot;</span>+fun.<a class="code" href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">_bal_close</a>+<span class="stringliteral">&quot;&#39;&quot;</span>); }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;          n = <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(0,oldx,oldx2,oldx3),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(bfun.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),idx.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),val));</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// Handle post-increment/post-decrement operator.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// Does not define a field in structs: &quot;@{ x++; y=2 }&quot; - syntax error, no such field x</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">// Skips trailing WS</span></div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ac627d3aaaed60f3d4a68bc4431dba21e">  713</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ac627d3aaaed60f3d4a68bc4431dba21e">inc</a>(String tok, <span class="keywordtype">int</span> d) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> = <a class="code" href="../../da/de3/a01398.html#a3ce3409203fa4d16cb65a708de63046b">lookup_scope</a>(tok=tok.intern(),<span class="keyword">false</span>); <span class="comment">// Find prior scope of token</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// Need a load/call/store sensible options</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> n;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>==<span class="keyword">null</span> ) {         <span class="comment">// Token not already bound to a value</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a34c1264570204f1609dde3a64818a036">create</a>(tok,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">XNIL</a>,<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    } <span class="keywordflow">else</span> {                    <span class="comment">// Check existing token for mutable</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#a29c98e8aea532d7a8e86de7b44610926">is_mutable</a>(tok) )</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Cannot re-assign final val &#39;&quot;</span>+tok+<span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">// Scope is discovered by walking lexical display stack.</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// Pointer to the proper display is found via ptr-walking live display stack.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// Now properly load from the display.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">// This does a HM.Ident lookup, producing a FRESH tvar every time.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> ptr = <a class="code" href="../../da/de3/a01398.html#a41b27cb2a246284f113c118d37e45093">get_display_ptr</a>(<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    n = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/d17/a01046.html">FreshNode</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d0/dfb/a01066.html">LoadNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),ptr,tok,<span class="keyword">null</span>))));</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span>( n.<a class="code" href="../../df/db5/a01158.html#a97d0187c871a8c81de4696742a9684cb">is_forward_ref</a>() )    <span class="comment">// Prior is actually a forward-ref</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a70192f75ad0a11a31d41bb8871c90fc5">err_ctrl1</a>(<a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../dc/dee/a01166.html">ErrMsg</a>.<a class="code" href="../../dc/dee/a01166.html#a015093c76a85b1f00ad4afc08b5b8241">forward_ref</a>(<span class="keyword">this</span>,((<a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>)n)));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// Do a full lookup on &quot;+&quot;, and execute the function</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    n.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// This is a primitive lookup and always returns a FRESH copy (see HM.Ident).</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> plus = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#af4bc5ac4070d80816f02ed287b24817e">lookup_filter_fresh</a>(<span class="stringliteral">&quot;+&quot;</span>,2,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>());</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> sum = <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(0,<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>,<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(plus,n,<a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(<a class="code" href="../../d0/d34/a01486.html">TypeInt</a>.<a class="code" href="../../d0/d34/a01486.html#a8589b1d0eb95905bc8373a2a6d5d5038">con</a>(d))));</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// Active memory for the chosen scope, after the call to plus</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a0e8b9662df99b6290a1204f31999873f">replace_mem</a>(<span class="keyword">new</span> <a class="code" href="../../d2/dff/a01374.html">StoreNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),ptr,sum,<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a>,tok,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>()));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> n.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();          <span class="comment">// Return pre-increment value</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a7056d9016c6762ee436ae04e04476d3b">  747</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a7056d9016c6762ee436ae04e04476d3b">tfact</a>() {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a> = <a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a>();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a>==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;:&#39;</span>) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a>; }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../da/de3/a01398.html#a585d40edf74658ce6fbab8af8bb9c904">type</a>();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span>( t==<span class="keyword">null</span> ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a>; } <span class="comment">// No error for missing type, because can be ?: instead</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a753450a3d7e0641177893a2f2036e19a">typechk</a>(<a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a>,t,<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),bad);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">  772</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">fact</a>() {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>() == -1 ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordtype">byte</span> c = <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>];</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#ac69548608e29ff8ba2c11e665d537059">isDigit</a>(c) ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(<a class="code" href="../../da/de3/a01398.html#abdbcf692e194b481456bc7c244ff1bf1">number</a>());</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span>( <span class="charliteral">&#39;&quot;&#39;</span> == c ) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> str = <a class="code" href="../../da/de3/a01398.html#a13888d8ae630fd43fb70eb2148b75764">string</a>();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">return</span> str==<span class="keyword">null</span> ? <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Unterminated string&quot;</span>) : str;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">peek1</a>(c,<span class="charliteral">&#39;(&#39;</span>) ) {        <span class="comment">// a nested statement or a tuple</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordtype">int</span> first_arg_start = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> s = <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">if</span>( s==<span class="keyword">null</span> ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; } <span class="comment">// A bare &quot;()&quot; pair is not a statement</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;)&#39;</span>) ) <span class="keywordflow">return</span> s;                 <span class="comment">// A (grouped) statement</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;,&#39;</span>) ) <span class="keywordflow">return</span> s;                <span class="comment">// Not a tuple, probably a syntax error</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> --;                                    <span class="comment">// Reparse the &#39;,&#39; in tuple</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#af4bbf26ee356318a4ab80490f56074f8">tuple</a>(oldx,s,first_arg_start);     <span class="comment">// Parse a tuple</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// Anonymous function or operator</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">peek1</a>(c,<span class="charliteral">&#39;{&#39;</span>) ) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      String tok = <a class="code" href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162">token0</a>();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> op = tok == <span class="keyword">null</span> ? null : <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a9b853b51765f6e95dff3f73eea46f53e">lookup</a>(tok.intern());</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;}&#39;</span>) &amp;&amp; op != <span class="keyword">null</span> &amp;&amp; op.<a class="code" href="../../df/db5/a01158.html#a512496941a4b0d7e291ff7ae0c8ccbfb">op_prec</a>() &gt; 0 )</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="comment">// This is a primitive operator lookup as a function constant, and</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">// makes a FRESH copy like HM.Ident.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/d17/a01046.html">FreshNode</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),op));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx+1;              <span class="comment">// Back to the opening paren</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aba7aed0aa9ad4c8e1ad1246b19f6e073">func</a>();            <span class="comment">// Anonymous function</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// Anonymous struct</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aa1103a39f8176d8c7d49d99bc16446e5">peek2</a>(c,<span class="stringliteral">&quot;@{&quot;</span>) ) <span class="keywordflow">return</span> <span class="keyword">struct</span>();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// Check for a valid &#39;id&#39;</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    String tok = <a class="code" href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162">token0</a>();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span>( tok == <span class="keyword">null</span> ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    tok = tok.intern();</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../dd/d55/a01638.html">Util</a>.<a class="code" href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">eq</a>(tok,<span class="stringliteral">&quot;=&quot;</span>) || <a class="code" href="../../dd/d55/a01638.html">Util</a>.<a class="code" href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">eq</a>(tok,<span class="stringliteral">&quot;^&quot;</span>) )</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; } <span class="comment">// Disallow &#39;=&#39; as a fact, too easy to make mistakes</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> = <a class="code" href="../../da/de3/a01398.html#a3ce3409203fa4d16cb65a708de63046b">lookup_scope</a>(tok,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> == <span class="keyword">null</span> ) { <span class="comment">// Assume any unknown id is a forward-ref of a recursive function</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="comment">// Ops cannot be forward-refs, so are just &#39;not a fact&#39;.  Cannot declare</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="comment">// them as a undefined forward-ref right now, because the op might be the</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="comment">// tail-half of a balanced-op, which is parsed by term() above.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aa323fc543c2ddbbd29ee350da00bd8c3">isOp</a>(tok) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="comment">// Must be a forward reference</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <a class="code" href="../../d7/d08/a00378.html">Env</a> fref_env = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a76f140c0940d6639743ec6fdab8424ca">lookup_fref</a>(tok=tok.intern());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">if</span>( fref_env==<span class="keyword">null</span> ) fref_env = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> fref = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>.<a class="code" href="../../dd/d57/a01054.html#a840e9f6b69a6e1de3f58abbf576f887f">forward_ref</a>(<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>,tok,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(oldx),fref_env));</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="comment">// Place in nearest enclosing closure scope, this will keep promoting until we find the actual scope</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      fref_env.<a class="code" href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">_scope</a>.<a class="code" href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">stk</a>().<a class="code" href="../../dd/de2/a01134.html#a11b0018181940ecb74777a8f767fc443">create</a>(tok,fref,<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">return</span> fref;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> def = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>.<a class="code" href="../../de/d5c/a01358.html#a9d3ab0475583903893bcc40fc19eb4e8">get</a>(tok);    <span class="comment">// Get top-level value; only sane if no stores allowed to modify it</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// Disallow uniop and binop functions as factors.  Only possible if trying</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// to use an operator as a factor, such as &quot;plus = {+}&quot; or &quot;f(1,{+},2)&quot;.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span>( def.<a class="code" href="../../df/db5/a01158.html#a512496941a4b0d7e291ff7ae0c8ccbfb">op_prec</a>() &gt; 0 ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// Balanced ops are similar to &quot;{}&quot;, &quot;()&quot; or &quot;@{}&quot;.</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span>( def.<a class="code" href="../../df/db5/a01158.html#a512496941a4b0d7e291ff7ae0c8ccbfb">op_prec</a>()==0 &amp;&amp; def.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a> instanceof <a class="code" href="../../d8/d7b/a01478.html">TypeFunPtr</a> )</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a4190f8505e784622f1976492ded413fa">bfact</a>(oldx,(<a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a>)def);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// Else must load against most recent display update.  Get the display to</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// load against.  If the scope is local, we load against it directly,</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// otherwise the display is passed in as a hidden argument.</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// This does a HM.Ident lookup, producing a FRESH tvar every time.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> ptr = <a class="code" href="../../da/de3/a01398.html#a41b27cb2a246284f113c118d37e45093">get_display_ptr</a>(<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/d17/a01046.html">FreshNode</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d0/dfb/a01066.html">LoadNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),ptr,tok.intern(),<span class="keyword">null</span>))));</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#af4bbf26ee356318a4ab80490f56074f8">  843</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#af4bbf26ee356318a4ab80490f56074f8">tuple</a>(<span class="keywordtype">int</span> oldx, <a class="code" href="../../df/db5/a01158.html">Node</a> s, <span class="keywordtype">int</span> first_arg_start) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(first_arg_start);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Parse&gt;</a> bads = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../da/de3/a01398.html">Parse</a>[1],1);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Node &gt;</a> <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a> = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../df/db5/a01158.html">Node</a> [1],0);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">while</span>( s!= <span class="keyword">null</span> ) {         <span class="comment">// More args</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      bads.<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(bad);           <span class="comment">// Collect arg &amp; arg start</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>.push(s.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>());</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;,&#39;</span>) ) <span class="keywordflow">break</span>;   <span class="comment">// Final comma is optional</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();                 <span class="comment">// Skip to arg start before recording arg start</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();           <span class="comment">// Record arg start</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      s=<a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>();                <span class="comment">// Parse arg</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>(<span class="charliteral">&#39;)&#39;</span>,oldx);          <span class="comment">// Balanced closing paren</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// Build the tuple from gathered args</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="../../dd/de2/a01134.html">NewObjNode</a> nn = <span class="keyword">new</span> <a class="code" href="../../dd/de2/a01134.html">NewObjNode</a>(<span class="keyword">false</span>,<a class="code" href="../../da/da6/a01522.html">TypeStruct</a>.<a class="code" href="../../da/da6/a01522.html#ad7153135a70c477199288d2e0a219203">open</a>(<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#a96019e33f100c149db0301ad62b1459e">NO_DISP</a>),<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a2266a7c52c83d25a9ef2232e6b24d7e2">ANY</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>._len; i++ )</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      nn.<a class="code" href="../../dd/de2/a01134.html#ac708967c3d171fd813493c0948b3b4f1">create_active</a>((<span class="stringliteral">&quot;&quot;</span>+i).intern(),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>.at(i).<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    nn.<a class="code" href="../../dd/de2/a01134.html#a06afa34c5086b8c837374c554dc580cc">_fld_starts</a> = bads.<a class="code" href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">asAry</a>();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    nn.<a class="code" href="../../dd/de2/a01134.html#af5bd1373b99febca707a63df86096738">no_more_fields</a>();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">init</a>(nn);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    nn.xval();</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// NewNode returns a TypeMem and a TypeMemPtr (the reference).</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>( <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>.<a class="code" href="../../de/d91/a01034.html#a82fad857431387997f361dd151f01393">make_mem_proj</a>(nn,<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>()) );</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d9/de4/a01346.html">ProjNode</a>(nn.unkeep(2),REZ_IDX));</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a038ffcbe6d0ca66824152be2c6aa386f">  876</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <span class="keyword">struct</span>() {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-1; <a class="code" href="../../df/db5/a01158.html">Node</a> ptr;  <span class="comment">// Opening @{</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">try</span>( <a class="code" href="../../d7/d08/a00378.html">Env</a> e = <span class="keyword">new</span> <a class="code" href="../../d7/d08/a00378.html">Env</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(oldx-1), <span class="keyword">false</span>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>()) ) { <span class="comment">// Nest an environment for the local vars</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a> = e;                   <span class="comment">// Push nested environment</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>(<span class="keyword">true</span>);              <span class="comment">// Create local vars-as-fields</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>(<span class="charliteral">&#39;}&#39;</span>,oldx);        <span class="comment">// Matched closing }</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      assert <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>() != e._scope;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      ptr = e._scope.ptr().<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();    <span class="comment">// A pointer to the constructed object</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      e._par._scope.set_ctrl(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>()); <span class="comment">// Carry any control changes back to outer scope</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      e._par._scope.set_mem (<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> ()); <span class="comment">// Carry any memory  changes back to outer scope</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a> = e.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>;                    <span class="comment">// Pop nested environment</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    } <span class="comment">// Pop lexical scope around struct</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">return</span> ptr.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a6a5162c4ed97a3602a9ae71e9d9a2204">  896</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <a class="code" href="../../de/d36/a01462.html">Access</a> <a class="code" href="../../da/de3/a01398.html#a6a5162c4ed97a3602a9ae71e9d9a2204">args_are_mutable</a>=<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>; <span class="comment">// Args mutable or r/only by default</span></div>
<div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aba7aed0aa9ad4c8e1ad1246b19f6e073">  897</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aba7aed0aa9ad4c8e1ad1246b19f6e073">func</a>() {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;              <span class="comment">// Past opening &#39;{&#39;</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;String&gt;</a> ids = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> String[1],0);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Type  &gt;</a> ts  = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../d0/de2/a01442.html">Type</a>  [1],0);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Parse &gt;</a> bads= <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../da/de3/a01398.html">Parse</a> [1],0);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// Push an extra hidden display argument.  Similar to java inner-class ptr</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="comment">// or when inside of a struct definition: &#39;this&#39;.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> parent_display = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#aa0a5636db79935abd0a15438798c5ff5">ptr</a>();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a> tpar_disp = (<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>) parent_display.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>; <span class="comment">// Just a TMP of the right alias</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> fresh_disp = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/d17/a01046.html">FreshNode</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),parent_display)).keep();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    ids .<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<span class="stringliteral">&quot; ctl&quot;</span>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    ts  .<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a42f0719f0fe6f4b56acbe5233e219b86">CTRL</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    bads.<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<span class="keyword">null</span>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    ids .<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<span class="stringliteral">&quot; mem&quot;</span>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    ts  .<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#ae7d48276898d3e1a6852ac71d53ff095">MEM</a>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    bads.<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<span class="keyword">null</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    ids .<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<span class="stringliteral">&quot;^&quot;</span>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    ts  .<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(tpar_disp);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    bads.<a class="code" href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">push</a>(<span class="keyword">null</span>);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="comment">// Parse arguments</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      String tok = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">if</span>( tok == <span class="keyword">null</span> ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx; <span class="keywordflow">break</span>; } <span class="comment">// not a &quot;[id]* -&gt;&quot;</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../dd/d55/a01638.html">Util</a>.<a class="code" href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">eq</a>((tok=tok.intern()),<span class="stringliteral">&quot;-&gt;&quot;</span>) ) <span class="keywordflow">break</span>; <span class="comment">// End of argument list</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#ab62c9f84a398be9db8efc61fe8165b48">isAlpha0</a>((<span class="keywordtype">byte</span>)tok.charAt(0)) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx; <span class="keywordflow">break</span>; } <span class="comment">// not a &quot;[id]* -&gt;&quot;</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>;    <span class="comment">// Untyped, most generic type</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();    <span class="comment">// Capture location in case of type error</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;:&#39;</span>) &amp;&amp;         <span class="comment">// Has type annotation?</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;          (t=<a class="code" href="../../da/de3/a01398.html#a585d40edf74658ce6fbab8af8bb9c904">type</a>())==<span class="keyword">null</span> ) { <span class="comment">// Get type</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="comment">// If no type, might be &quot;{ x := ...}&quot; or &quot;{ fun arg := ...}&quot; which can</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="comment">// be valid stmts, hence this may be a no-arg function.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">if</span>( ids.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>-1 &lt;= 2 ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;          <span class="comment">// Might be: &quot;{ x y z:bad -&gt; body }&quot; which cannot be any stmt.  This</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;          <span class="comment">// is an error in any case.  Treat as a bad type on a valid function.</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;          <a class="code" href="../../da/de3/a01398.html#a61ed0a2a96fb3fff98c605e0ba745ec0">err_ctrl0</a>(<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;,&#39;</span>) ? <span class="stringliteral">&quot;Bad type arg, found a &#39;,&#39; did you mean to use a &#39;;&#39;?&quot;</span> : <span class="stringliteral">&quot;Missing or bad type arg&quot;</span>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;          t = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;          <a class="code" href="../../da/de3/a01398.html#a221f2b764fdebb5cfd065e6019da7e06">skipNonWS</a>();         <span class="comment">// Skip possible type sig, looking for next arg</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      ids .<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(tok);   <span class="comment">// Accumulate args</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      ts  .<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(t  );</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      bads.<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(bad);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="comment">// If this is a no-arg function, we may have parsed 1 or 2 tokens as-if</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">// args, and then reset.  Also reset to just the mem &amp; display args.</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> == oldx ) { ids.<a class="code" href="../../d6/d02/a01542.html#ac4966809e703c19eed4cb005a1bcd73c">set_len</a>(ARG_IDX); ts.<a class="code" href="../../d6/d02/a01542.html#ac4966809e703c19eed4cb005a1bcd73c">set_len</a>(ARG_IDX); bads.<a class="code" href="../../d6/d02/a01542.html#ac4966809e703c19eed4cb005a1bcd73c">set_len</a>(ARG_IDX);  }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">try</span>( <a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dd1/a00398.html">Build</a>&lt;<a class="code" href="../../df/db5/a01158.html">Node</a>&gt; X = <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.new Build&lt;&gt;()) { <span class="comment">// Nest an environment for the local vars</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="comment">// Build the FunNode header</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="../../d9/d8e/a01050.html">FunNode</a> fun = (<a class="code" href="../../d9/d8e/a01050.html">FunNode</a>)X.xform(<span class="keyword">new</span> <a class="code" href="../../d9/d8e/a01050.html">FunNode</a>(ids.<a class="code" href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">asAry</a>(),ts.<a class="code" href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">asAry</a>()).<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a2632f934894ac8f5b54c2a8f14bba771">ALL_CTRL</a>));</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// Record H-M VStack in case we clone</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      fun.<a class="code" href="../../d9/d8e/a01050.html#afd4ddc4a6f82da99178354e0672cc487">set_nongens</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>.<a class="code" href="../../d3/d45/a00382.html#a2d7e237a0cdc862a4ea838acb8cf9331">compact</a>());</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="comment">// Build Parms for system incoming values</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> rpc = X.xform(<span class="keyword">new</span> <a class="code" href="../../d3/dc7/a01170.html">ParmNode</a>(0      ,<span class="stringliteral">&quot;rpc&quot;</span> ,fun,<a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(<a class="code" href="../../db/d57/a01506.html">TypeRPC</a>.<a class="code" href="../../db/d57/a01506.html#a8a34cd6dc334b8a9f679e0ef9091c3f2">ALL_CALL</a>),<span class="keyword">null</span>));</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> = X.xform(<span class="keyword">new</span> <a class="code" href="../../d3/dc7/a01170.html">ParmNode</a>(MEM_IDX,<span class="stringliteral">&quot; mem&quot;</span>,fun,<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#ae7d48276898d3e1a6852ac71d53ff095">MEM</a>,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>,<span class="keyword">null</span>));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> clo = X.xform(<span class="keyword">new</span> <a class="code" href="../../d3/dc7/a01170.html">ParmNode</a>(DSP_IDX,<span class="stringliteral">&quot;^&quot;</span>   ,fun,<a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(tpar_disp),<span class="keyword">null</span>));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="comment">// Increase scope depth for function body.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">try</span>( <a class="code" href="../../d7/d08/a00378.html">Env</a> e = <span class="keyword">new</span> <a class="code" href="../../d7/d08/a00378.html">Env</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(oldx-1), <span class="keyword">true</span>, fun, <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>) ) { <span class="comment">// Nest an environment for the local vars</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a> = e;                   <span class="comment">// Push nested environment</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="comment">// Display is special: the default is simply the outer lexical scope.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="comment">// But here, in a function, the display is actually passed in as a hidden</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="comment">// extra argument and replaces the default.</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="../../dd/de2/a01134.html">NewObjNode</a> stk = e._scope.stk();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        stk.<a class="code" href="../../dd/de2/a01134.html#a827fe69c0122f28087f121b2a15cb02f">update</a>(0,<a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>,clo);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="comment">// Add a nongen memory arg</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>.<a class="code" href="../../d3/d45/a00382.html#a51facebfc1ad9583e2aa7a44ea5e5cf5">add_var</a>(<span class="stringliteral">&quot; mem&quot;</span>,<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>.<a class="code" href="../../df/db5/a01158.html#a1019549c2b013489e9ccf53787fb5ca3">tvar</a>());</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="comment">// Parms for all arguments</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <a class="code" href="../../da/de3/a01398.html">Parse</a> errmsg = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();  <span class="comment">// Lazy error message</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=ARG_IDX; i&lt;ids.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>; i++ ) { <span class="comment">// User parms start</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;          <a class="code" href="../../df/db5/a01158.html">Node</a> parm = X.xform(<span class="keyword">new</span> <a class="code" href="../../d3/dc7/a01170.html">ParmNode</a>(i,ids.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i),fun,<a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>),errmsg));</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>.<a class="code" href="../../d3/d45/a00382.html#a51facebfc1ad9583e2aa7a44ea5e5cf5">add_var</a>(ids.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i),parm.<a class="code" href="../../df/db5/a01158.html#a1019549c2b013489e9ccf53787fb5ca3">tvar</a>());</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <a class="code" href="../../da/de3/a01398.html#a34c1264570204f1609dde3a64818a036">create</a>(ids.<a class="code" href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">at</a>(i),parm, <a class="code" href="../../da/de3/a01398.html#a6a5162c4ed97a3602a9ae71e9d9a2204">args_are_mutable</a>);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="comment">// Parse function body</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> rez = <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>();       <span class="comment">// Parse function body</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">if</span>( rez == <span class="keyword">null</span> ) rez = <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>(<span class="stringliteral">&quot;Missing function body&quot;</span>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>(<span class="charliteral">&#39;}&#39;</span>,oldx-1);      <span class="comment">// Matched with opening {}</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="comment">// Merge normal exit into all early-exit paths</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">if</span>( e._scope.is_closure() ) rez = <a class="code" href="../../da/de3/a01398.html#aa2480f6bad6236a14375654b61118346">merge_exits</a>(rez);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="comment">// Standard return; function control, memory, result, RPC.  Plus a hook</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="comment">// to the function for faster access.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <a class="code" href="../../d7/dc4/a01354.html">RetNode</a> ret = (<a class="code" href="../../d7/dc4/a01354.html">RetNode</a>)X.xform(<span class="keyword">new</span> <a class="code" href="../../d7/dc4/a01354.html">RetNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>(),rez,rpc,fun));</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="comment">// The FunPtr builds a real display; any up-scope references are passed in now.</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <a class="code" href="../../df/db5/a01158.html">Node</a> fptr = X.xform(<span class="keyword">new</span> <a class="code" href="../../dd/d57/a01054.html">FunPtrNode</a>(<span class="keyword">null</span>,ret,fresh_disp.<a class="code" href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">unhook</a>()));</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a> = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>;                <span class="comment">// Pop nested environment; pops nongen also</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">return</span> (X._ret=fptr);        <span class="comment">// Return function; close-out and DCE &#39;e&#39;</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aa2480f6bad6236a14375654b61118346">  996</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa2480f6bad6236a14375654b61118346">merge_exits</a>(<a class="code" href="../../df/db5/a01158.html">Node</a> rez) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    rez.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> s = <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>();</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> = s.<a class="code" href="../../de/d5c/a01358.html#aa2561eb9cc2dc7aafbdc5387c90a6767">early_ctrl</a>();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>  = s.<a class="code" href="../../de/d5c/a01358.html#a78b8503232caddb26e1415c2aa8498ba">early_mem</a> ();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> val  = s.<a class="code" href="../../de/d5c/a01358.html#a09cdd56e51abdf6fa73e8051dd30f929">early_val</a> ();</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    s.<a class="code" href="../../de/d5c/a01358.html#a6ffd2b218f1b841bb61ac64e225c3241">early_kill</a>();</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> == <span class="keyword">null</span> ) <span class="keywordflow">return</span> rez.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(); <span class="comment">// No other exits to merge into</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">try</span>(<a class="code" href="../../d9/d0a/a00390.html">GVNGCM</a>.<a class="code" href="../../d9/dd1/a00398.html">Build</a>&lt;<a class="code" href="../../df/db5/a01158.html">Node</a>&gt; X = <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.new Build&lt;&gt;()) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> = <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>.<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>()).<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a> = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a42f0719f0fe6f4b56acbe5233e219b86">CTRL</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>=X.init(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>));</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>().set_def(0,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      val.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>().set_def(0,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> mem2 = X.xform(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>.<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>()));</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <a class="code" href="../../df/db5/a01158.html">Node</a> val2 = X.xform(val.<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(rez.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>()));</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>(mem2);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">return</span> (X._ret=val2);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// Merge this early exit path into all early exit paths being recorded in the</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">// current Env/Scope.</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aeb129ff47f6a1c82ba9635c2ad0731b9"> 1019</a></span>&#160;  <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aeb129ff47f6a1c82ba9635c2ad0731b9">do_exit</a>( <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> s, <a class="code" href="../../df/db5/a01158.html">Node</a> rez ) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> = s.<a class="code" href="../../de/d5c/a01358.html#aa2561eb9cc2dc7aafbdc5387c90a6767">early_ctrl</a>();</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>  = s.<a class="code" href="../../de/d5c/a01358.html#a78b8503232caddb26e1415c2aa8498ba">early_mem</a> ();</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> val  = s.<a class="code" href="../../de/d5c/a01358.html#a09cdd56e51abdf6fa73e8051dd30f929">early_val</a> ();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> == <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      s.<a class="code" href="../../df/db5/a01158.html#a76827313ea74c03a0d11a9cbf9e11c6e">set_def</a>(4,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>=<span class="keyword">new</span> <a class="code" href="../../da/d61/a01350.html">RegionNode</a>((<a class="code" href="../../df/db5/a01158.html">Node</a>)<span class="keyword">null</span>).keep()); <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>=<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a42f0719f0fe6f4b56acbe5233e219b86">CTRL</a>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      s.<a class="code" href="../../df/db5/a01158.html#a76827313ea74c03a0d11a9cbf9e11c6e">set_def</a>(5,<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> =<span class="keyword">new</span> <a class="code" href="../../da/dfb/a01174.html">PhiNode</a>(<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#ae7d48276898d3e1a6852ac71d53ff095">MEM</a>, <span class="keyword">null</span>,(<a class="code" href="../../df/db5/a01158.html">Node</a>)<span class="keyword">null</span>).<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>());</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      s.<a class="code" href="../../df/db5/a01158.html#a76827313ea74c03a0d11a9cbf9e11c6e">set_def</a>(6,val =<span class="keyword">new</span> <a class="code" href="../../da/dfb/a01174.html">PhiNode</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>, <span class="keyword">null</span>,(<a class="code" href="../../df/db5/a01158.html">Node</a>)<span class="keyword">null</span>).<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>());</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>.<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>());</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> .<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a> ());</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    val .<a class="code" href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">add_def</a>(rez   );</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ae457bfb4d6edd390fdf59d374c8b6d93">XCTRL</a>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a> (<a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>(<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#a9d98906a5ecc87b94185c205bc258363">XMEM</a>));</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">XNIL</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a4190f8505e784622f1976492ded413fa"> 1040</a></span>&#160;  <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a4190f8505e784622f1976492ded413fa">bfact</a>(<span class="keywordtype">int</span> oldx, <a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a> bfun) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordtype">int</span> oldx2 = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;             <span class="comment">// Start of stmts</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> s = <a class="code" href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">stmts</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span>( s==<span class="keyword">null</span> ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; } <span class="comment">// A bare &quot;()&quot; pair is not a statement</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;,&#39;</span>) ) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> --;                    <span class="comment">// Reparse the &#39;,&#39; in tuple</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">throw</span> unimpl();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>(bfun.<a class="code" href="../../d3/deb/a01386.html#abfb2c975501644933081cf75a2ad47a5">funptr</a>().<a class="code" href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">fun</a>().<a class="code" href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">_bal_close</a>,oldx);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>(<a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(oldx,oldx2),<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(bfun,s));</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="comment">// Lookup a balanced open function of 2 or 3 arguments.</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a4092ce9560331b1ca5975ee8123a3a00"> 1054</a></span>&#160;  <a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a> <a class="code" href="../../da/de3/a01398.html#a4092ce9560331b1ca5975ee8123a3a00">bal_open</a>() {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    String bal = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span>( bal==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// This is a primitive lookup and always returns a FRESH copy (see HM.Ident).</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="../../d3/deb/a01386.html">UnOrFunPtrNode</a> bfun = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#af4bc5ac4070d80816f02ed287b24817e">lookup_filter_fresh</a>(bal.intern(),0,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>()); <span class="comment">// No nargs filtering</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">if</span>( bfun==<span class="keyword">null</span> || bfun.<a class="code" href="../../df/db5/a01158.html#a512496941a4b0d7e291ff7ae0c8ccbfb">op_prec</a>() != 0 ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=oldx; <span class="keywordflow">return</span> <span class="keyword">null</span>; }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">// Actual minimal length uniop might be smaller than the parsed token</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">// (greedy algo vs not-greed)</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx+bfun.<a class="code" href="../../d3/deb/a01386.html#abfb2c975501644933081cf75a2ad47a5">funptr</a>().<a class="code" href="../../dd/d57/a01054.html#afe1dcfcf70b42faf751d07f024ec8296">_name</a>.length();</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> bfun;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// Add a typecheck into the graph, with a shortcut if trivially ok.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a753450a3d7e0641177893a2f2036e19a"> 1068</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a753450a3d7e0641177893a2f2036e19a">typechk</a>(<a class="code" href="../../df/db5/a01158.html">Node</a> x, <a class="code" href="../../d0/de2/a01442.html">Type</a> t, <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>, <a class="code" href="../../da/de3/a01398.html">Parse</a> bad) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> t == <span class="keyword">null</span> || x.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>.<a class="code" href="../../d0/de2/a01442.html#ad4b6fe2d948ba739fd3d5e0feac103e6">isa</a>(t) ? x : <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d2/dd5/a01002.html">AssertNode</a>(<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>,x,t,bad,<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>));</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65"> 1072</a></span>&#160;  <span class="keyword">private</span> String <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>() { <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();  <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162">token0</a>(); }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// Lexical tokens.  Any alpha, followed by any alphanumerics is a alpha-</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// token; alpha-tokens end with WS or any operator character.  Any collection</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">// of the classic operator characters are a token, except that they will break</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// un-ambiguously.</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162"> 1077</a></span>&#160;  <span class="keyword">private</span> String <a class="code" href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162">token0</a>() {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &gt;= <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordtype">byte</span> c=<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>];  <span class="keywordtype">int</span> x = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span>(   <a class="code" href="../../da/de3/a01398.html#ab62c9f84a398be9db8efc61fe8165b48">isAlpha0</a>(c) ) <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a994051cbc8aff4c6b17a8053578d6655">isAlpha1</a>(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>]) ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a7a70df78046406be78556d80ef58dc4a">isOp0</a>(c) ) <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a07090f660f66935a44ed5548bafa5052">isOp1</a>   (<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>]) ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">null</span>; <span class="comment">// Not a token; specifically excludes e.g. all bytes &gt;= 128, or most bytes &lt; 32</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">if</span>( (c==<span class="charliteral">&#39;:&#39;</span> || c==<span class="charliteral">&#39;,&#39;</span>) &amp;&amp; <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-x==1 ) <span class="comment">// Disallow bare &#39;:&#39; as a token; ambiguous with ?: and type annotations; same for &#39;,&#39;</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=x; <span class="keywordflow">return</span> <span class="keyword">null</span>; } <span class="comment">// Unwind, not a token</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span>( c==<span class="charliteral">&#39;-&#39;</span> &amp;&amp; <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-x&gt;2 &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[x+1]==<span class="charliteral">&#39;&gt;&#39;</span> ) <span class="comment">// Disallow leading &quot;-&gt;&quot;, confusing with function parameter list end; eg &quot;not={x-&gt;!x}&quot;</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=x+2;                                <span class="comment">// Just return the &quot;-&gt;&quot;</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> String(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>,x,<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-x);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div>
<div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aa323fc543c2ddbbd29ee350da00bd8c3"> 1089</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#aa323fc543c2ddbbd29ee350da00bd8c3">isOp</a>(String s) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a7a70df78046406be78556d80ef58dc4a">isOp0</a>((<span class="keywordtype">byte</span>)s.charAt(0)) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=1; i&lt;s.length(); i++ )</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a07090f660f66935a44ed5548bafa5052">isOp1</a>((<span class="keywordtype">byte</span>)s.charAt(i)) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">// Parse a number; WS already skipped and sitting at a digit.  Relies on</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">// Javas number parsing.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#abdbcf692e194b481456bc7c244ff1bf1"> 1098</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#abdbcf692e194b481456bc7c244ff1bf1">number</a>() {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">_pp</a>.setIndex(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    Number n = <a class="code" href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">_nf</a>.parse(<a class="code" href="../../da/de3/a01398.html#a79c35aa0cd7e64a7387204c55d1c2b35">_str</a>,<a class="code" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">_pp</a>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = <a class="code" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">_pp</a>.getIndex();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span>( n instanceof Long   ) <span class="keywordflow">return</span> n.longValue()==0 ? <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#aab7369296ae5bd611e50ebb40c38fceb">XNIL</a> : <a class="code" href="../../d0/d34/a01486.html">TypeInt</a>.<a class="code" href="../../d0/d34/a01486.html#a8589b1d0eb95905bc8373a2a6d5d5038">con</a>(n.  longValue());</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span>( n instanceof Double ) <span class="keywordflow">return</span> <a class="code" href="../../df/d2f/a01474.html">TypeFlt</a>.<a class="code" href="../../df/d2f/a01474.html#a2a99464501a319a8a58844397188ae6c">con</a>(n.doubleValue());</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(n.getClass().toString()); <span class="comment">// Should not happen</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="comment">// Parse a small positive integer; WS already skipped and sitting at a digit.</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a9776bbfb3b7a794122e3abbabfd55f99"> 1107</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="../../da/de3/a01398.html#a9776bbfb3b7a794122e3abbabfd55f99">field_number</a>() {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordtype">byte</span> c = <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>];</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#ac69548608e29ff8ba2c11e665d537059">isDigit</a>(c) ) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordtype">int</span> sum = c-<span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#ac69548608e29ff8ba2c11e665d537059">isDigit</a>(c=<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>]) ) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      sum = sum*10+c-<span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a13888d8ae630fd43fb70eb2148b75764"> 1123</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a13888d8ae630fd43fb70eb2148b75764">string</a>() {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordtype">int</span> oldx = ++<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordtype">byte</span> c;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">while</span>( (c=<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++]) != <span class="charliteral">&#39;&quot;&#39;</span> ) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">if</span>( c==<span class="charliteral">&#39;%&#39;</span> ) <span class="keywordflow">throw</span> unimpl();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">if</span>( c==<span class="charliteral">&#39;\\&#39;</span> ) <span class="keywordflow">throw</span> unimpl();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> == <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    String str = <span class="keyword">new</span> String(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>,oldx,<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>-oldx-1).intern();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">// Convert to ptr-to-constant-memory-string</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="../../db/d1e/a01126.html">NewNode</a> nnn = (<a class="code" href="../../db/d1e/a01126.html">NewNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>( <span class="keyword">new</span> <a class="code" href="../../d0/d39/a01138.html">NewStrNode</a>.<a class="code" href="../../d3/ddc/a01142.html">ConStr</a>(str) );</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>.<a class="code" href="../../df/db5/a01158.html#a24ecbb219b172a53198e2542ab0ac404">_defs</a>.atX(nnn.<a class="code" href="../../db/d1e/a01126.html#a1dc80a33189e19f73f4fb3c33982c64b">_alias</a>)==null )</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>(<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>.<a class="code" href="../../de/d91/a01034.html#a82fad857431387997f361dd151f01393">make_mem_proj</a>(nnn,<a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>()));</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>( <span class="keyword">new</span> <a class="code" href="../../d9/de4/a01346.html">ProjNode</a>(nnn,REZ_IDX));</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a585d40edf74658ce6fbab8af8bb9c904"> 1152</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#a585d40edf74658ce6fbab8af8bb9c904">type</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(<span class="keyword">false</span>); }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="comment">// Returning a type variable assignment result or null.  Flag to allow</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="comment">// unknown type variables as forward-refs.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a1866c72f20e94e052d38e838d3205ba7"> 1155</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#a1866c72f20e94e052d38e838d3205ba7">typev</a>() {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../da/de3/a01398.html#a05da96b3f1e33d3e36188d5c72b8188b">type0</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// Type.ANY is a flag for &#39;-&gt;&#39; which is not a type.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> t==<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a66f9cd0071f284f8f4badb5eca904720">ANY</a> ? null : t;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// TypeObjs get wrapped in a pointer, and the pointer is returned instead.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507"> 1161</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(<span class="keywordtype">boolean</span> type_var) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../da/de3/a01398.html#a05da96b3f1e33d3e36188d5c72b8188b">type0</a>(type_var);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">if</span>( t instanceof <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a> ) <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad9a35552a62576fdf930f6423b8a71a5">typeq</a>(t); <span class="comment">// Named type is already a TMP</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">if</span>( !(t instanceof <a class="code" href="../../de/dc6/a01502.html">TypeObj</a>) ) <span class="keywordflow">return</span> t; <span class="comment">// Primitives are not wrapped</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="comment">// Automatically convert unnamed structs to refs.</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// Make a reasonably precise alias.</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordtype">int</span> type_alias = t instanceof <a class="code" href="../../da/da6/a01522.html">TypeStruct</a> ? <a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#abc3e9f75a45233a0727820b62ebecaeb">REC</a> : (t instanceof <a class="code" href="../../d0/d1a/a01518.html">TypeStr</a> ? <a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#a7d2e985901f6a700c2dd2ff53c051e10">STR</a> : <a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#ab6668ea940ca50d6d3c4fd2f35581ab6">AARY</a>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a> tmp = <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#adeddf1e33c774f9440baf7aac978c090">make</a>(type_alias,(<a class="code" href="../../de/dc6/a01502.html">TypeObj</a>)t);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad9a35552a62576fdf930f6423b8a71a5">typeq</a>(tmp);          <span class="comment">// And check for null-ness</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">// Wrap in a nullable if there is a trailing &#39;?&#39;.  No spaces allowed</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ad9a35552a62576fdf930f6423b8a71a5"> 1172</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#ad9a35552a62576fdf930f6423b8a71a5">typeq</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a> t) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a38ac2b50c8076c34ddcad5ce1a4bb539">peek_noWS</a>(<span class="charliteral">&#39;?&#39;</span>) ? t.<a class="code" href="../../d0/de2/a01442.html#ad98969d0c8402d042a84def9adba12e6">meet_nil</a>(<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#aab7369296ae5bd611e50ebb40c38fceb">XNIL</a>) : t; }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// No mod is r/w.  &#39;:=&#39; is read-write, &#39;=&#39; is final.</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// Currently &#39;-&#39; is ambiguous with function arrow -&gt;.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a6ec08087fdf9f02e8acd43b4e9c7057c"> 1176</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../de/d36/a01462.html">Access</a> <a class="code" href="../../da/de3/a01398.html#a6ec08087fdf9f02e8acd43b4e9c7057c">tmod</a>() {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a1d066bb2349df851b75b6bd7f3e3f20d">peek_not</a>(<span class="charliteral">&#39;=&#39;</span>,<span class="charliteral">&#39;=&#39;</span>) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>--; <span class="keywordflow">return</span> <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">Final</a>   ; } <span class="comment">// final     , leaving trailing &#39;=&#39;</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;:=&quot;</span>       ) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>--; <span class="keywordflow">return</span> <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a>      ; } <span class="comment">// read-write, leaving trailing &#39;=&#39;</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;==&quot;</span>       ) ) { <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>--; <span class="keywordflow">return</span> <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#a655068cf54cb2d31664d10a184599c7d">ReadOnly</a>; } <span class="comment">// read-only , leaving trailing &#39;=&#39;</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">// Default for unnamed field mod</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d36/a01462.html">Access</a>.<a class="code" href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">RW</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">// Type or null or Type.ANY for &#39;-&gt;&#39; token</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a05da96b3f1e33d3e36188d5c72b8188b"> 1185</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d0/de2/a01442.html">Type</a> <a class="code" href="../../da/de3/a01398.html#a05da96b3f1e33d3e36188d5c72b8188b">type0</a>(<span class="keywordtype">boolean</span> type_var) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;{&#39;</span>) ) {           <span class="comment">// Function type</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <a class="code" href="../../d6/d02/a01542.html">Ary&lt;Type&gt;</a> ts = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../d0/de2/a01442.html">Type</a>[]{<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a42f0719f0fe6f4b56acbe5233e219b86">CTRL</a>,<a class="code" href="../../d6/d51/a01494.html">TypeMem</a>.<a class="code" href="../../d6/d51/a01494.html#a9367fd0f9f363574908dbbd4090ec53c">ALLMEM</a>,<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#a002ddcf372fd8ac08dbdecaa10171af3">DISP_SIMPLE</a>});  <a class="code" href="../../d0/de2/a01442.html">Type</a> t;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">while</span>( (t=<a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(type_var)) != <span class="keyword">null</span> &amp;&amp; t != <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a66f9cd0071f284f8f4badb5eca904720">ANY</a>  )</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        ts.<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(t);              <span class="comment">// Collect arg types</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <a class="code" href="../../d0/de2/a01442.html">Type</a> ret;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">if</span>( t==<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a66f9cd0071f284f8f4badb5eca904720">ANY</a> ) {       <span class="comment">// Found -&gt;, expect return type</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        ret = <a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(type_var);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">if</span>( ret == <span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>; <span class="comment">// should return TypeErr missing type after -&gt;</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      } <span class="keywordflow">else</span> {                  <span class="comment">// Allow no-args and simple return type</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">if</span>( ts.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a> != ARG_IDX+1 ) <span class="keywordflow">return</span> <span class="keyword">null</span>; <span class="comment">// should return TypeErr missing -&gt; in tfun</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        ret = ts.<a class="code" href="../../d6/d02/a01542.html#a1257c8fd935c9bc8235bd2903852dd45">pop</a>();         <span class="comment">// e.g. { int } Get single return type</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <a class="code" href="../../d7/d90/a01530.html">TypeTuple</a> targs = <a class="code" href="../../d7/d90/a01530.html">TypeTuple</a>.<a class="code" href="../../d7/d90/a01530.html#a7ad090ea2dfe7ae9f781e908c6b7647b">make_args</a>(ts.<a class="code" href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">asAry</a>());</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;}&#39;</span>) ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad9a35552a62576fdf930f6423b8a71a5">typeq</a>(<a class="code" href="../../da/d36/a01482.html">TypeFunSig</a>.<a class="code" href="../../da/d36/a01482.html#a9458f6fde7271b5094c259d42f257035">make</a>(<a class="code" href="../../d7/d90/a01530.html">TypeTuple</a>.<a class="code" href="../../d7/d90/a01530.html#a3ec70a475a583bd1353b46cf6657a152">make_ret</a>(ret),targs));</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="stringliteral">&quot;@{&quot;</span>) ) {          <span class="comment">// Struct type</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <a class="code" href="../../d6/d02/a01542.html">Ary&lt;TypeFld&gt;</a> flds = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../d7/dd1/a01458.html">TypeFld</a>[]{<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#a28147ddaba9f62b9e719024a76db617e">DISP_FLD</a>});</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        String tok = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();            <span class="comment">// Scan for &#39;id&#39;</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keywordflow">if</span>( tok == <span class="keyword">null</span> ) <span class="keywordflow">break</span>;         <span class="comment">// end-of-struct-def</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keyword">final</span> String itok = tok.intern(); <span class="comment">// Only 1 copy</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>;            <span class="comment">// Untyped, most generic field type</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <a class="code" href="../../de/d36/a01462.html">Access</a> tmodf = <a class="code" href="../../da/de3/a01398.html#a6ec08087fdf9f02e8acd43b4e9c7057c">tmod</a>();           <span class="comment">// Field access mod; trailing &#39;=&#39; left for us</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;=&#39;</span>) &amp;&amp;                 <span class="comment">// Has type annotation?</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            (t=<a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(type_var)) == <span class="keyword">null</span>) <span class="comment">// Parse type, wrap ptrs</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;          t = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>;               <span class="comment">// No type found, assume default</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keywordflow">if</span>( flds.<a class="code" href="../../d6/d02/a01542.html#ab4d6a36a4e0b73f4267f777c91df42ef">find</a>(fld -&gt; <a class="code" href="../../dd/d55/a01638.html">Util</a>.<a class="code" href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">eq</a>(fld._fld,itok) ) != -1 ) <span class="keywordflow">throw</span> unimpl(); <span class="comment">// cannot use same field name twice</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        flds.<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(<a class="code" href="../../d7/dd1/a01458.html">TypeFld</a>.<a class="code" href="../../d7/dd1/a01458.html#a68cd98652ac4a01ee6b4dd90bb553dae">make</a>(itok,t,tmodf,flds.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>));</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;;&#39;</span>) ) <span class="keywordflow">break</span>; <span class="comment">// Final semi-colon is optional</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;}&#39;</span>) ? <a class="code" href="../../da/da6/a01522.html">TypeStruct</a>.<a class="code" href="../../da/da6/a01522.html#a7f8e1f0000812b5468e8eaca07dd28f3">make</a>(<span class="stringliteral">&quot;&quot;</span>,<span class="keyword">false</span>,flds.<a class="code" href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">asAry</a>(),<span class="keyword">true</span>) : <span class="keyword">null</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">// &quot;()&quot; is the zero-entry tuple</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// &quot;(   ,)&quot; is a 1-entry tuple</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// &quot;(int )&quot; is a 1-entry tuple (optional trailing comma)</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="comment">// &quot;(int,)&quot; is a 1-entry tuple (optional trailing comma)</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="comment">// &quot;(,int)&quot; is a 2-entry tuple</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="comment">// &quot;(, , )&quot; is a 2-entry tuple</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;(&#39;</span>) ) { <span class="comment">// Tuple type</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <a class="code" href="../../d6/d02/a01542.html">Ary&lt;TypeFld&gt;</a> flds = <span class="keyword">new</span> <a class="code" href="../../d6/d02/a01542.html">Ary&lt;&gt;</a>(<span class="keyword">new</span> <a class="code" href="../../d7/dd1/a01458.html">TypeFld</a>[]{<a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#a28147ddaba9f62b9e719024a76db617e">DISP_FLD</a>});</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordtype">byte</span> c;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">while</span>( (c=<a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>()) != <span class="charliteral">&#39;)&#39;</span> ) { <span class="comment">// No more types...</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="../../d0/de2/a01442.html">Type</a> t = <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>;    <span class="comment">// Untyped, most generic field type</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">if</span>( c!=<span class="charliteral">&#39;,&#39;</span> &amp;&amp;            <span class="comment">// Has type annotation?</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            (t=<a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(type_var)) == <span class="keyword">null</span>) <span class="comment">// Parse type, wrap ptrs</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">null</span>;                   <span class="comment">// not a type</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        flds.<a class="code" href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">add</a>(<a class="code" href="../../d7/dd1/a01458.html">TypeFld</a>.<a class="code" href="../../d7/dd1/a01458.html#ae33cca2c9d7c59fe30da706c1c4d9bf2">make_tup</a>(t,flds.<a class="code" href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">_len</a>));</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;,&#39;</span>) ) <span class="keywordflow">break</span>; <span class="comment">// Final comma is optional</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;)&#39;</span>) ? <a class="code" href="../../da/da6/a01522.html">TypeStruct</a>.<a class="code" href="../../da/da6/a01522.html#a7f8e1f0000812b5468e8eaca07dd28f3">make</a>(<span class="stringliteral">&quot;&quot;</span>,<span class="keyword">false</span>,flds.<a class="code" href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">asAry</a>(),<span class="keyword">true</span>) : <span class="keyword">null</span>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;[&#39;</span>) ) {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <a class="code" href="../../d0/de2/a01442.html">Type</a> e = <a class="code" href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">typep</a>(type_var);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordflow">if</span>( e==<span class="keyword">null</span> ) e=<a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">SCALAR</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(<span class="charliteral">&#39;]&#39;</span>) ? <a class="code" href="../../da/df6/a01454.html">TypeAry</a>.<a class="code" href="../../da/df6/a01454.html#a9244538ee239cc231363b8f5475b7552">make</a>(<a class="code" href="../../d0/d34/a01486.html">TypeInt</a>.<a class="code" href="../../d0/d34/a01486.html#a3ddbff80f32500547a3a0b7e95bf2ef7">INT64</a>,e,<a class="code" href="../../de/dc6/a01502.html">TypeObj</a>.<a class="code" href="../../de/dc6/a01502.html#a7475f01953a9aea608e35f656d17578a">OBJ</a>) : <span class="keyword">null</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="comment">// Primitive type</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    String tok = <a class="code" href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">token</a>();</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">if</span>( tok==<span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    tok = tok.intern();</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../dd/d55/a01638.html">Util</a>.<a class="code" href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">eq</a>(tok,<span class="stringliteral">&quot;-&gt;&quot;</span>) ) <span class="keywordflow">return</span> <a class="code" href="../../d0/de2/a01442.html">Type</a>.<a class="code" href="../../d0/de2/a01442.html#a66f9cd0071f284f8f4badb5eca904720">ANY</a>; <span class="comment">// Found -&gt; return sentinel</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="../../de/d02/a01026.html">ConTypeNode</a> t = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a5187ee285ddef210e6175df4741058f3">lookup_type</a>(tok);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">if</span>( t==<span class="keyword">null</span> ) {              <span class="comment">// Not a known type var</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a82a2e60ef3169d3c09f4d66cff677100">lookup</a>(tok) != <span class="keyword">null</span> || <span class="comment">// Yes a known normal var; resolve as a normal var</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          !type_var ) {          <span class="comment">// Or not inside a type-var assignment</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx;               <span class="comment">// Unwind if not a known type var</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">null</span>;             <span class="comment">// Not a type</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="comment">// Make a forward-ref ConType and return its type</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="keywordtype">int</span> alias = <a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#ae0d73dac2e3b7adf777530f28da037eb">type_alias</a>(<a class="code" href="../../d8/dd0/a01430.html">BitsAlias</a>.<a class="code" href="../../d8/dd0/a01430.html#abc3e9f75a45233a0727820b62ebecaeb">REC</a>);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a> tmp = <a class="code" href="../../d6/dc9/a01498.html">TypeMemPtr</a>.<a class="code" href="../../d6/dc9/a01498.html#adeddf1e33c774f9440baf7aac978c090">make</a>(alias,(<a class="code" href="../../de/dc6/a01502.html">TypeObj</a>)<a class="code" href="../../de/dc6/a01502.html">TypeObj</a>.<a class="code" href="../../de/dc6/a01502.html#a2f0f37629678b504449f6fdf70f39339">ISUSED</a>.<a class="code" href="../../d0/de2/a01442.html#a70d1cf353683b4275921c0ca2e1a1005">set_name</a>((tok+<span class="stringliteral">&quot;:&quot;</span>).intern()));</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ae5bc7211c97cda10bb65f9b1c0d1e2b5">add_type</a>(tok,(<a class="code" href="../../de/d02/a01026.html">ConTypeNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d02/a01026.html">ConTypeNode</a>(tok,tmp,<a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>())));</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">return</span> t.<a class="code" href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">_val</a>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="comment">// Require a closing character (after skipping WS) or polite error</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f"> 1270</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>( <span class="keywordtype">char</span> c, <span class="keywordtype">int</span> oldx ) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(c) ) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a> bad = <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>();       <span class="comment">// Generic error</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    bad.<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> = oldx;              <span class="comment">// Openning point</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a14d8661f587e6f33e2db02a3ae52a196">err_ctrl3</a>(<span class="stringliteral">&quot;Expected closing &#39;&quot;</span>+c+<span class="stringliteral">&quot;&#39; but &quot;</span>+(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>&gt;=<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length?<span class="stringliteral">&quot;ran out of text&quot;</span>:<span class="stringliteral">&quot;found &#39;&quot;</span>+(<span class="keywordtype">char</span>)(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>])+<span class="stringliteral">&quot;&#39; instead&quot;</span>),bad);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  }</div>
<div class="line"><a name="l01276"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a56aae37b1b4045aa766f4d71eddb75e5"> 1276</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a56aae37b1b4045aa766f4d71eddb75e5">require</a>( String s, <span class="keywordtype">int</span> oldx ) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;s.length(); i++ )</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">require</a>(s.charAt(i),oldx);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// Skip WS, return true&amp;skip if match, false &amp; do not skip if miss.</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813"> 1282</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>( <span class="keywordtype">char</span> c ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">peek1</a>(<a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>(),c); }</div>
<div class="line"><a name="l01283"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a38ac2b50c8076c34ddcad5ce1a4bb539"> 1283</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a38ac2b50c8076c34ddcad5ce1a4bb539">peek_noWS</a>( <span class="keywordtype">char</span> c ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">peek1</a>(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &gt;= <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length ? -1 : <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>],c); }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">// Already skipped WS &amp; have character;</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="comment">// return true &amp; skip if match, false&amp; do not skip if miss.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db"> 1286</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">peek1</a>( <span class="keywordtype">byte</span> c0, <span class="keywordtype">char</span> c ) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    assert c0==-1 || c0== <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>];</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span>( c0!=c ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;                       <span class="comment">// Skip peeked character</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="comment">// Already skipped WS &amp; have character;</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// return true&amp;skip if match, false &amp; do not skip if miss.</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aa1103a39f8176d8c7d49d99bc16446e5"> 1294</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#aa1103a39f8176d8c7d49d99bc16446e5">peek2</a>( <span class="keywordtype">byte</span> c0, String s2 ) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordflow">if</span>( c0 != s2.charAt(0) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1 &gt;= <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length || <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1] != s2.charAt(1) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+=2;                      <span class="comment">// Skip peeked characters</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  }</div>
<div class="line"><a name="l01300"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ac4f6db9ab2a319710b88133e080b7dcd"> 1300</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#ac4f6db9ab2a319710b88133e080b7dcd">peek</a>( String s ) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">peek</a>(s.charAt(0)) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#a38ac2b50c8076c34ddcad5ce1a4bb539">peek_noWS</a>(s.charAt(1)) ) {  <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>--; <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="comment">// Peek &#39;c&#39; and NOT followed by &#39;no&#39;</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a1d066bb2349df851b75b6bd7f3e3f20d"> 1306</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a1d066bb2349df851b75b6bd7f3e3f20d">peek_not</a>( <span class="keywordtype">char</span> c, <span class="keywordtype">char</span> no ) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordtype">byte</span> c0 = <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span>( c0 != c || (<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1 &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1] == no) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="comment">// Match any of these, and return the match or null</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ad88f522ad2830ee916157a757133cc71"> 1313</a></span>&#160;  <span class="keyword">private</span> String <a class="code" href="../../da/de3/a01398.html#ad88f522ad2830ee916157a757133cc71">peek</a>(String[] toks) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">for</span>( String tok : toks ) <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">peek1</a>(tok) ) <span class="keywordflow">return</span> tok;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  }</div>
<div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a5a80391a2c91183b97b5bfbb3dfa7eb9"> 1317</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a5a80391a2c91183b97b5bfbb3dfa7eb9">peek1</a>(String tok) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;tok.length(); i++ )</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+i &gt;= <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length || <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+i] != tok.charAt(i) )</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1"> 1327</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">byte</span> <a class="code" href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">skipWS</a>() {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordtype">int</span> oldx = <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length ) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordtype">byte</span> c = <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>];</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">if</span>( c==<span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1 &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1]==<span class="charliteral">&#39;/&#39;</span> ) { <a class="code" href="../../da/de3/a01398.html#a52c1dc81eac791f6feaf3bec4042f1be">skipEOL</a>()  ; <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordflow">if</span>( c==<span class="charliteral">&#39;/&#39;</span> &amp;&amp; <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1 &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1]==<span class="charliteral">&#39;*&#39;</span> ) { <a class="code" href="../../da/de3/a01398.html#a4aa67e0b1293e9182a4dd44358eaac19">skipBlock</a>(); <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="keywordflow">if</span>( c==<span class="charliteral">&#39;\n&#39;</span> &amp;&amp; <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1 &gt; <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a1dccdbfce4b3d101038883cb065c4e17">last</a>() ) <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a00adc6b061b25a9099de7d225e814fa2">push</a>(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>+1);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keywordflow">if</span>( !<a class="code" href="../../da/de3/a01398.html#aba380e8c7c4a8837421637794e9c99c0">isWS</a>(c) ) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordflow">if</span>( oldx-1 &gt; <a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a> &amp;&amp; !<a class="code" href="../../da/de3/a01398.html#aba380e8c7c4a8837421637794e9c99c0">isWS</a>(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[oldx-1]) ) <a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a> = oldx-1;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  }</div>
<div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a52c1dc81eac791f6feaf3bec4042f1be"> 1342</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a52c1dc81eac791f6feaf3bec4042f1be">skipEOL</a>  () { <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>] != <span class="charliteral">&#39;\n&#39;</span> ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++; }</div>
<div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a4aa67e0b1293e9182a4dd44358eaac19"> 1343</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a4aa67e0b1293e9182a4dd44358eaac19">skipBlock</a>() { <span class="keywordflow">throw</span> unimpl(); }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="comment">// Advance parse pointer to next WS.  Used for parser syntax error recovery.</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a221f2b764fdebb5cfd065e6019da7e06"> 1345</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a221f2b764fdebb5cfd065e6019da7e06">skipNonWS</a>() {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">while</span>( <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; !<a class="code" href="../../da/de3/a01398.html#aba380e8c7c4a8837421637794e9c99c0">isWS</a>(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>]) ) <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>++;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aba380e8c7c4a8837421637794e9c99c0"> 1350</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#aba380e8c7c4a8837421637794e9c99c0">isWS</a>    (<span class="keywordtype">byte</span> c) { <span class="keywordflow">return</span> c == <span class="charliteral">&#39; &#39;</span> || c == <span class="charliteral">&#39;\t&#39;</span> || c == <span class="charliteral">&#39;\n&#39;</span> || c == <span class="charliteral">&#39;\r&#39;</span>; }</div>
<div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ab62c9f84a398be9db8efc61fe8165b48"> 1351</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#ab62c9f84a398be9db8efc61fe8165b48">isAlpha0</a>(<span class="keywordtype">byte</span> c) { <span class="keywordflow">return</span> (<span class="charliteral">&#39;a&#39;</span>&lt;=c &amp;&amp; c &lt;= <span class="charliteral">&#39;z&#39;</span>) || (<span class="charliteral">&#39;A&#39;</span>&lt;=c &amp;&amp; c &lt;= <span class="charliteral">&#39;Z&#39;</span>) || (c==<span class="charliteral">&#39;_&#39;</span>); }</div>
<div class="line"><a name="l01352"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a994051cbc8aff4c6b17a8053578d6655"> 1352</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a994051cbc8aff4c6b17a8053578d6655">isAlpha1</a>(<span class="keywordtype">byte</span> c) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ab62c9f84a398be9db8efc61fe8165b48">isAlpha0</a>(c) || (<span class="charliteral">&#39;0&#39;</span>&lt;=c &amp;&amp; c &lt;= <span class="charliteral">&#39;9&#39;</span>); }</div>
<div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a7a70df78046406be78556d80ef58dc4a"> 1353</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a7a70df78046406be78556d80ef58dc4a">isOp0</a>   (<span class="keywordtype">byte</span> c) { <span class="keywordflow">return</span> <span class="stringliteral">&quot;!#$%*+,-.=&lt;&gt;^[]~/&amp;|&quot;</span>.indexOf(c) != -1; }</div>
<div class="line"><a name="l01354"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a07090f660f66935a44ed5548bafa5052"> 1354</a></span>&#160;  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a07090f660f66935a44ed5548bafa5052">isOp1</a>   (<span class="keywordtype">byte</span> c) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a7a70df78046406be78556d80ef58dc4a">isOp0</a>(c) || <span class="stringliteral">&quot;:?&quot;</span>.indexOf(c) != -1; }</div>
<div class="line"><a name="l01355"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ac69548608e29ff8ba2c11e665d537059"> 1355</a></span>&#160;  <span class="keyword">public</span>  <span class="keyword">static</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#ac69548608e29ff8ba2c11e665d537059">isDigit</a> (<span class="keywordtype">byte</span> c) { <span class="keywordflow">return</span> <span class="charliteral">&#39;0&#39;</span> &lt;= c &amp;&amp; c &lt;= <span class="charliteral">&#39;9&#39;</span>; }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// Utilities to shorten code for common cases</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185"> 1358</a></span>&#160;  <span class="keyword">public</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a> (<a class="code" href="../../df/db5/a01158.html">Node</a> n) { <span class="keywordflow">return</span> n==<span class="keyword">null</span> ? null : <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#a394db3ef88edc8c20864046492c88300">xform</a>(n); }</div>
<div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61"> 1359</a></span>&#160;  private &lt;N extends Node&gt; N <a class="code" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">init</a>( N n ) { <span class="keywordflow">return</span> n==<span class="keyword">null</span> ? null : <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>.<a class="code" href="../../d9/d0a/a00390.html#ab9ca8498e36ef4261363a01f68523fc3">init</a>(n); }</div>
<div class="line"><a name="l01360"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a3ca46fab7edc640230d3f4221a48ca7c"> 1360</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a3ca46fab7edc640230d3f4221a48ca7c">kill</a>( <a class="code" href="../../df/db5/a01158.html">Node</a> n ) {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">if</span>( n.<a class="code" href="../../df/db5/a01158.html#ab77f93542583141b30ea7cb2a04a07f7">_uses</a>._len==0 ) n.<a class="code" href="../../df/db5/a01158.html#aa9c660843e6f3a9321da631f4a5f60a9">kill</a>();</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  }</div>
<div class="line"><a name="l01363"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139"> 1363</a></span>&#160;  <span class="keyword">public</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a15327eb97b2d4630ec7df1e9cc823881">ctrl</a>(); }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">// Set and return a new control</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a"> 1365</a></span>&#160;  private &lt;N extends Node&gt; N <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(N n) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a3cc9506aee2694c80b4e40f0995aedbd">set_ctrl</a>(n); }</div>
<div class="line"><a name="l01366"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95"> 1366</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#a199043a64946784dc275e91423aa4076">mem</a>(); }</div>
<div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30"> 1367</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>( <a class="code" href="../../df/db5/a01158.html">Node</a> n) { <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#ae82fad194d042fa512afc1d75eba9c76">set_mem</a>(n); }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f"> 1369</a></span>&#160;  <span class="keyword">private</span> @NotNull <a class="code" href="../../d1/dd8/a01022.html">ConNode</a> <a class="code" href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">con</a>( <a class="code" href="../../d0/de2/a01442.html">Type</a> t ) { <span class="keywordflow">return</span> (<a class="code" href="../../d1/dd8/a01022.html">ConNode</a>)<a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../df/db5/a01158.html#a5d6762d5a0f17ecc32cfe7cdb89e3ccb">con</a>(t); }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="comment">// Lookup &amp; extend scopes</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a82a2e60ef3169d3c09f4d66cff677100"> 1372</a></span>&#160;  <span class="keyword">public</span>  <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a82a2e60ef3169d3c09f4d66cff677100">lookup</a>( String tok ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a9b853b51765f6e95dff3f73eea46f53e">lookup</a>(tok); }</div>
<div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a3ce3409203fa4d16cb65a708de63046b"> 1373</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> <a class="code" href="../../da/de3/a01398.html#a3ce3409203fa4d16cb65a708de63046b">lookup_scope</a>( String tok, <span class="keywordtype">boolean</span> lookup_current_scope_only ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#a42e71dfd1f2f65a3cb25c9cd210dafb0">lookup_scope</a>(tok,lookup_current_scope_only); }</div>
<div class="line"><a name="l01374"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df"> 1374</a></span>&#160;  <span class="keyword">public</span>  <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>( ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">_scope</a>; }</div>
<div class="line"><a name="l01375"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a34c1264570204f1609dde3a64818a036"> 1375</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a34c1264570204f1609dde3a64818a036">create</a>( String tok, <a class="code" href="../../df/db5/a01158.html">Node</a> n, <a class="code" href="../../de/d36/a01462.html">Access</a> <span class="keyword">mutable</span> ) { <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a>().<a class="code" href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">stk</a>().<a class="code" href="../../dd/de2/a01134.html#a11b0018181940ecb74777a8f767fc443">create</a>(tok,n,<span class="keyword">mutable</span>); }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">// Get the display pointer.  The function call</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="comment">// passed in the display as a hidden argument which we return here.</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a41b27cb2a246284f113c118d37e45093"> 1379</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a41b27cb2a246284f113c118d37e45093">get_display_ptr</a>( <a class="code" href="../../de/d5c/a01358.html">ScopeNode</a> <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> ) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="comment">// Issue Loads against the Display, until we get the correct scope.  The</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="comment">// Display is a linked list of displays, and we already checked that token</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="comment">// exists at scope up in the display.</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="../../d7/d08/a00378.html">Env</a> e = <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> ptr = e.<a class="code" href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">_scope</a>.<a class="code" href="../../de/d5c/a01358.html#aa0a5636db79935abd0a15438798c5ff5">ptr</a>();</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> mmem = <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">scope</a> == e.<a class="code" href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">_scope</a> ) <span class="keywordflow">return</span> ptr;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      ptr = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d0/dfb/a01066.html">LoadNode</a>(mmem,ptr,<span class="stringliteral">&quot;^&quot;</span>,<span class="keyword">null</span>)); <span class="comment">// Gen linked-list walk code, walking display slot</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      assert ptr.<a class="code" href="../../df/db5/a01158.html#a79a1280d5fd0f6c6c4445a52372beec0">sharptr</a>(mmem).<a class="code" href="../../d0/de2/a01442.html#a64703347bc6c4282358a7bd95493a922">is_display_ptr</a>();</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      e = e.<a class="code" href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">_par</a>;                                 <span class="comment">// Walk linked-list in parser also</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// Wiring for call arguments</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de"> 1395</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[] <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>(<a class="code" href="../../df/db5/a01158.html">Node</a> a0, <a class="code" href="../../df/db5/a01158.html">Node</a> a1                  ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#add75d4940edeaef88472954f30ea8c70">_args</a>(<span class="keyword">new</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[]{<span class="keyword">null</span>,<span class="keyword">null</span>,a0,a1,a0}); }</div>
<div class="line"><a name="l01396"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a0ec3257f6fb8881b7cae406c147082af"> 1396</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[] <a class="code" href="../../da/de3/a01398.html#a0ec3257f6fb8881b7cae406c147082af">args</a>(<a class="code" href="../../df/db5/a01158.html">Node</a> a0, <a class="code" href="../../df/db5/a01158.html">Node</a> a1, <a class="code" href="../../df/db5/a01158.html">Node</a> a2         ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#add75d4940edeaef88472954f30ea8c70">_args</a>(<span class="keyword">new</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[]{<span class="keyword">null</span>,<span class="keyword">null</span>,a0,a1,a2,a0}); }</div>
<div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a6ba6d0e34ee0a8ee42e8960a56f7926b"> 1397</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[] <a class="code" href="../../da/de3/a01398.html#a6ba6d0e34ee0a8ee42e8960a56f7926b">args</a>(<a class="code" href="../../df/db5/a01158.html">Node</a> a0, <a class="code" href="../../df/db5/a01158.html">Node</a> a1, <a class="code" href="../../df/db5/a01158.html">Node</a> a2, <a class="code" href="../../df/db5/a01158.html">Node</a> a3) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#add75d4940edeaef88472954f30ea8c70">_args</a>(<span class="keyword">new</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[]{<span class="keyword">null</span>,<span class="keyword">null</span>,a0,a1,a2,a3,a0}); }</div>
<div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#add75d4940edeaef88472954f30ea8c70"> 1398</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a>[] <a class="code" href="../../da/de3/a01398.html#add75d4940edeaef88472954f30ea8c70">_args</a>(<a class="code" href="../../df/db5/a01158.html">Node</a>[] <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="comment">//args[MEM_IDX] = gvn(new FreshNode(_e._nongen,ctrl(),mem())).keep(); // Always memory</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=ARG_IDX; i&lt;<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>.length; i++ ) <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[i].keep(); <span class="comment">// Hook all args before reducing display</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[DSP_IDX] = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../da/d17/a01046.html">FreshNode</a>(<a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>.<a class="code" href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">_nongen</a>,<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d4/d56/a01042.html">FP2DispNode</a>(<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[DSP_IDX])))); <span class="comment">// Reduce display</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[CTL_IDX] = <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>();     <span class="comment">// Always control</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[MEM_IDX] = <a class="code" href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">mem</a>();      <span class="comment">// Always memory</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=ARG_IDX; i&lt;<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>.length; i++ ) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[i].<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>();</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="comment">// Generally might want this in unkeep(), except for cost</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[i]._val.is_con() ) <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#ad52b88a21b47c661e6f6a3bcfdbb3576">add_reduce</a>(<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>[i]);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// Insert a call, with memory splits.  Wiring happens later, and when a call</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">// is wired it picks up projections to merge at the Fun &amp; Parm nodes.</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118"> 1414</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">do_call</a>( <a class="code" href="../../da/de3/a01398.html">Parse</a>[] bads, <a class="code" href="../../df/db5/a01158.html">Node</a>... <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a> ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aa40dcde3dd2de1189f636cf5e5e865c7">do_call0</a>(<span class="keyword">true</span>,bads,<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>); }</div>
<div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#aa40dcde3dd2de1189f636cf5e5e865c7"> 1415</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa40dcde3dd2de1189f636cf5e5e865c7">do_call0</a>( <span class="keywordtype">boolean</span> unpack, <a class="code" href="../../da/de3/a01398.html">Parse</a>[] bads, <a class="code" href="../../df/db5/a01158.html">Node</a>... <a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a> ) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <a class="code" href="../../d0/d2b/a01010.html">CallNode</a> call0 = <span class="keyword">new</span> <a class="code" href="../../d0/d2b/a01010.html">CallNode</a>(unpack,bads,<a class="code" href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">args</a>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <a class="code" href="../../d0/d2b/a01010.html">CallNode</a> call = (<a class="code" href="../../d0/d2b/a01010.html">CallNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(call0);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// Call Epilog takes in the call which it uses to track wireable functions.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// CallEpi internally tracks all wired functions.</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <a class="code" href="../../dc/d81/a01006.html">CallEpiNode</a> cepi = (<a class="code" href="../../dc/d81/a01006.html">CallEpiNode</a>)<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../dc/d81/a01006.html">CallEpiNode</a>(call,<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">DEFMEM</a>));</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="../../df/db5/a01158.html">Node</a> <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> = <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../de/d41/a01030.html">CProjNode</a>(cepi.<a class="code" href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">keep</a>()));</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>.<a class="code" href="../../df/db5/a01158.html#a634afaa0042a1f6467b395b9dfcf0636">is_copy</a>(0)!=<span class="keyword">null</span> ) <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a> = <a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>.<a class="code" href="../../df/db5/a01158.html#a634afaa0042a1f6467b395b9dfcf0636">is_copy</a>(0); <span class="comment">// More aggressively fold, so Thunks can more aggressively assert</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">set_mem</a>(<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d1/d3d/a01110.html">MProjNode</a>(cepi))); <span class="comment">// Return memory from all called functions</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="comment">// As soon as CEPI is unkeep, a whole lotta things are allowed, including</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="comment">// e.g. inlining</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">if</span>( !cepi.<a class="code" href="../../dc/d81/a01006.html#a04bfa19ac38d738c26e31d9b467c3eb9">_is_copy</a> ) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#a7604d1a7a8281ef87e4af6c1939b0c85">add_work_all</a>(cepi);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; cepi.<a class="code" href="../../dc/d81/a01006.html#ac39aeb81eefff07ab2a49de25c0d802b">nwired</a>(); i++ )</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#a1bd53ce7f72d83bd10029000d3a5f86d">add_inline</a>(cepi.<a class="code" href="../../dc/d81/a01006.html#a2c77b2d03bef1847d37ba3a567335960">wired</a>(i).<a class="code" href="../../d7/dc4/a01354.html#ad45583d004cee7da674274ccf0afcc05">fun</a>());</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    } <span class="keywordflow">else</span> <a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">GVN</a>.<a class="code" href="../../d9/d0a/a00390.html#a195b2b7d0b8f0f1770422573c2cc22ff">add_flow</a>(cepi);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d9/de4/a01346.html">ProjNode</a>(cepi.<a class="code" href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">unkeep</a>(),REZ_IDX));</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">// Whack current control with a syntax error</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a70192f75ad0a11a31d41bb8871c90fc5"> 1437</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d4/dbc/a01038.html">ErrNode</a> <a class="code" href="../../da/de3/a01398.html#a70192f75ad0a11a31d41bb8871c90fc5">err_ctrl1</a>( <a class="code" href="../../df/db5/a01158.html">Node</a>.<a class="code" href="../../dc/dee/a01166.html">ErrMsg</a> msg ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">init</a>(<span class="keyword">new</span> <a class="code" href="../../d4/dbc/a01038.html">ErrNode</a>(<a class="code" href="../../d7/d08/a00378.html">Env</a>.<a class="code" href="../../d7/d08/a00378.html#a26d4d3535afaa9351a166b3ff276bcb2">START</a>,msg)); }</div>
<div class="line"><a name="l01438"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002"> 1438</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../d4/dbc/a01038.html">ErrNode</a> <a class="code" href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">err_ctrl2</a>( String msg ) { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">init</a>(<span class="keyword">new</span> <a class="code" href="../../d4/dbc/a01038.html">ErrNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(),msg)).unkeep(); }</div>
<div class="line"><a name="l01439"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a61ed0a2a96fb3fff98c605e0ba745ec0"> 1439</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a61ed0a2a96fb3fff98c605e0ba745ec0">err_ctrl0</a>(String s) { <a class="code" href="../../da/de3/a01398.html#a14d8661f587e6f33e2db02a3ae52a196">err_ctrl3</a>(s,<a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>()); }</div>
<div class="line"><a name="l01440"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a14d8661f587e6f33e2db02a3ae52a196"> 1440</a></span>&#160;  <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../da/de3/a01398.html#a14d8661f587e6f33e2db02a3ae52a196">err_ctrl3</a>(String s, <a class="code" href="../../da/de3/a01398.html">Parse</a> open) {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">set_ctrl</a>(<a class="code" href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">gvn</a>(<span class="keyword">new</span> <a class="code" href="../../d4/dbc/a01038.html">ErrNode</a>(<a class="code" href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">ctrl</a>(),open,s)));</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="comment">// Make a private clone just for delayed error messages</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ab10be77822a27fcec3eca20fa30a2ca3"> 1445</a></span>&#160;  <span class="keyword">private</span> <a class="code" href="../../da/de3/a01398.html#ab10be77822a27fcec3eca20fa30a2ca3">Parse</a>( <a class="code" href="../../da/de3/a01398.html">Parse</a> P ) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>  = P.<a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>  = P.<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>    = P.<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>= P.<a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>  = P.<a class="code" href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">_gvn</a>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a> = P.<a class="code" href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">_lastNWS</a>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">_e</a>    = <span class="keyword">null</span>;  <a class="code" href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">_nf</a>  = <span class="keyword">null</span>;  <a class="code" href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">_pp</a>  = <span class="keyword">null</span>;  <a class="code" href="../../da/de3/a01398.html#a79c35aa0cd7e64a7387204c55d1c2b35">_str</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="comment">// Delayed error message, just record line/char index and share code buffer</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f"> 1455</a></span>&#160;  <a class="code" href="../../da/de3/a01398.html">Parse</a> <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>); }</div>
<div class="line"><a name="l01456"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a9168c86249d8dd8ffe36aebaa1c141f6"> 1456</a></span>&#160;  <a class="code" href="../../da/de3/a01398.html">Parse</a> <a class="code" href="../../da/de3/a01398.html#a9168c86249d8dd8ffe36aebaa1c141f6">errMsg</a>(<span class="keywordtype">int</span> x) { <a class="code" href="../../da/de3/a01398.html">Parse</a> P = <span class="keyword">new</span> <a class="code" href="../../da/de3/a01398.html#acbcb660e5a4a1dabeaadcfa84f078c06">Parse</a>(<span class="keyword">this</span>); P.<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>=x; <span class="keywordflow">return</span> P; }</div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b"> 1457</a></span>&#160;  <a class="code" href="../../da/de3/a01398.html">Parse</a>[] <a class="code" href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">errMsgs</a>(<span class="keywordtype">int</span>... xs) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a>[] Ps = <span class="keyword">new</span> <a class="code" href="../../da/de3/a01398.html">Parse</a>[xs.length];</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;xs.length; i++ )</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      Ps[i] = xs[i]==0 ? <span class="keyword">null</span> : <a class="code" href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">errMsg</a>(xs[i]);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">return</span> Ps;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">// Build a string of the given message, the current line being parsed,</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="comment">// and line of the pointer to the current index.</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a5d738333d7cdea43e72bc26023455d49"> 1466</a></span>&#160;  <span class="keyword">public</span> String <a class="code" href="../../da/de3/a01398.html#a5d738333d7cdea43e72bc26023455d49">errLocMsg</a>(String s) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">if</span>( s.charAt(0)==<span class="charliteral">&#39;\n&#39;</span> ) <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="comment">// find line start</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordtype">int</span> a=<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">while</span>( a &gt; 0 &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[a-1] != <span class="charliteral">&#39;\n&#39;</span> ) --a;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[a]==<span class="charliteral">&#39;\r&#39;</span> ) a++; <span class="comment">// do not include leading \n or \n\r</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">// find line end</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordtype">int</span> b=<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">while</span>( b &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>[b] != <span class="charliteral">&#39;\n&#39;</span> ) b++;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">if</span>( b &lt; <a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length ) b--; <span class="comment">// do not include trailing \n or \n\r</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">// Find line number.  Bin-search returns the insertion-point, which is the NEXT</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// line unless _x is exactly a line start.</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordtype">int</span> line = <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a2802e74b1262d5693e3867bbcc4a0c9f">binary_search</a>(<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>); <span class="comment">// Find zero-based line insertion point</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">if</span>( line == <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#ad4a0cb619aba4a21b05006e674dbf87f">_len</a> ||  <a class="code" href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">_lines</a>.<a class="code" href="../../d8/daf/a01550.html#a4d7e5211c2003df18ffbe66dc5bd63c1">at</a>(line)&gt;<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> ) line--;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="comment">// error message using 1-based line</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="../../d4/d99/a01634.html">SB</a> sb = <span class="keyword">new</span> <a class="code" href="../../d4/d99/a01634.html">SB</a>().<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(<a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>).<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(<span class="charliteral">&#39;:&#39;</span>).<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(line+1).<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(<span class="charliteral">&#39;:&#39;</span>).<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(s).<a class="code" href="../../d4/d99/a01634.html#af706c705e889040f6fc45486f508987e">nl</a>();</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    sb.<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(<span class="keyword">new</span> String(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>,a,b-a)).<a class="code" href="../../d4/d99/a01634.html#af706c705e889040f6fc45486f508987e">nl</a>();</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordtype">int</span> line_start = a;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=line_start; i&lt;<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>; i++ )</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      sb.<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">return</span> sb.<a class="code" href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">p</a>(<span class="charliteral">&#39;^&#39;</span>).<a class="code" href="../../d4/d99/a01634.html#af706c705e889040f6fc45486f508987e">nl</a>().<a class="code" href="../../d4/d99/a01634.html#a810e7fa54cbd178760c86b30b2aa893c">toString</a>();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">// Handy for the debugger to print</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a93934578d70504fc7682ebb6677ecc35"> 1490</a></span>&#160;  @Override <span class="keyword">public</span> String <a class="code" href="../../da/de3/a01398.html#a93934578d70504fc7682ebb6677ecc35">toString</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> String(<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>,<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>,<a class="code" href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">_buf</a>.length-<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>); }</div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a2613e939d428feea5a8fb31ba4e6dd50"> 1491</a></span>&#160;  @Override <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="../../da/de3/a01398.html#a2613e939d428feea5a8fb31ba4e6dd50">equals</a>(Object loc) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">if</span>( <span class="keyword">this</span>==loc ) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span>( !(loc instanceof <a class="code" href="../../da/de3/a01398.html">Parse</a>) ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="../../da/de3/a01398.html">Parse</a> p = (<a class="code" href="../../da/de3/a01398.html#acbcb660e5a4a1dabeaadcfa84f078c06">Parse</a>)loc;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>==p.<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> &amp;&amp; <a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>.equals(p.<a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  }</div>
<div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a24943053f980d79bcb6cd78bcd3455af"> 1497</a></span>&#160;  @Override <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="../../da/de3/a01398.html#a24943053f980d79bcb6cd78bcd3455af">hashCode</a>() {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>.hashCode()+<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  }</div>
<div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="../../da/de3/a01398.html#a8bb8ed3c30132ca45e84518ab4d2ce8e"> 1500</a></span>&#160;  @Override <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="../../da/de3/a01398.html#a8bb8ed3c30132ca45e84518ab4d2ce8e">compareTo</a>(<a class="code" href="../../da/de3/a01398.html">Parse</a> loc) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordtype">int</span> x = <a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>.compareTo(loc.<a class="code" href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">_src</a>);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span>( x!=0 ) <span class="keywordflow">return</span> x;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a> - loc.<a class="code" href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">_x</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa01398_html_a5947f73070dfdffa015b6b0ba5945e95"><div class="ttname"><a href="../../da/de3/a01398.html#a5947f73070dfdffa015b6b0ba5945e95">com.cliffc.aa.Parse.mem</a></div><div class="ttdeci">Node mem()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01366">Parse.java:1366</a></div></div>
<div class="ttc" id="aa01398_html_a5a7494d0c60ba6d3c725328025db99cc"><div class="ttname"><a href="../../da/de3/a01398.html#a5a7494d0c60ba6d3c725328025db99cc">com.cliffc.aa.Parse.gather_errors</a></div><div class="ttdeci">TypeEnv gather_errors()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00140">Parse.java:140</a></div></div>
<div class="ttc" id="aa01542_html_aca0fbbb6f28d1e514539762701594428"><div class="ttname"><a href="../../d6/d02/a01542.html#aca0fbbb6f28d1e514539762701594428">com.cliffc.aa.util.Ary.at</a></div><div class="ttdeci">E at(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00025">Ary.java:25</a></div></div>
<div class="ttc" id="aa01398_html_a753450a3d7e0641177893a2f2036e19a"><div class="ttname"><a href="../../da/de3/a01398.html#a753450a3d7e0641177893a2f2036e19a">com.cliffc.aa.Parse.typechk</a></div><div class="ttdeci">Node typechk(Node x, Type t, Node mem, Parse bad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01068">Parse.java:1068</a></div></div>
<div class="ttc" id="aa01462_html_aa5cc76bad211f8d894cb53d0becd811c"><div class="ttname"><a href="../../de/d36/a01462.html#aa5cc76bad211f8d894cb53d0becd811c">com.cliffc.aa.type.TypeFld.Access.Final</a></div><div class="ttdeci">Final</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00112">TypeFld.java:112</a></div></div>
<div class="ttc" id="aa01398_html_aa40dcde3dd2de1189f636cf5e5e865c7"><div class="ttname"><a href="../../da/de3/a01398.html#aa40dcde3dd2de1189f636cf5e5e865c7">com.cliffc.aa.Parse.do_call0</a></div><div class="ttdeci">Node do_call0(boolean unpack, Parse[] bads, Node... args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01415">Parse.java:1415</a></div></div>
<div class="ttc" id="aa01398_html_ab502dae0cf2cae3c0ade2422e579fce2"><div class="ttname"><a href="../../da/de3/a01398.html#ab502dae0cf2cae3c0ade2422e579fce2">com.cliffc.aa.Parse.term</a></div><div class="ttdeci">Node term()</div><div class="ttdoc">Any number field-lookups or function applications, then an optional assignment term = id++ | id term...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00575">Parse.java:575</a></div></div>
<div class="ttc" id="aa01498_html_a96019e33f100c149db0301ad62b1459e"><div class="ttname"><a href="../../d6/dc9/a01498.html#a96019e33f100c149db0301ad62b1459e">com.cliffc.aa.type.TypeMemPtr.NO_DISP</a></div><div class="ttdeci">static final Type NO_DISP</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00080">TypeMemPtr.java:80</a></div></div>
<div class="ttc" id="aa01398_html_a1d066bb2349df851b75b6bd7f3e3f20d"><div class="ttname"><a href="../../da/de3/a01398.html#a1d066bb2349df851b75b6bd7f3e3f20d">com.cliffc.aa.Parse.peek_not</a></div><div class="ttdeci">boolean peek_not(char c, char no)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01306">Parse.java:1306</a></div></div>
<div class="ttc" id="aa01398_html_a01bf1ec79a3e6d255adfc1c693d960df"><div class="ttname"><a href="../../da/de3/a01398.html#a01bf1ec79a3e6d255adfc1c693d960df">com.cliffc.aa.Parse.scope</a></div><div class="ttdeci">ScopeNode scope()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01374">Parse.java:1374</a></div></div>
<div class="ttc" id="aa01398_html_a901496555350c85f3fa66630492007db"><div class="ttname"><a href="../../da/de3/a01398.html#a901496555350c85f3fa66630492007db">com.cliffc.aa.Parse.peek1</a></div><div class="ttdeci">boolean peek1(byte c0, char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01286">Parse.java:1286</a></div></div>
<div class="ttc" id="aa01398_html_a7b2471f9da6be7e33a2b5989e916956a"><div class="ttname"><a href="../../da/de3/a01398.html#a7b2471f9da6be7e33a2b5989e916956a">com.cliffc.aa.Parse.remove_unknown_callers</a></div><div class="ttdeci">void remove_unknown_callers()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00120">Parse.java:120</a></div></div>
<div class="ttc" id="aa01458_html_ae33cca2c9d7c59fe30da706c1c4d9bf2"><div class="ttname"><a href="../../d7/dd1/a01458.html#ae33cca2c9d7c59fe30da706c1c4d9bf2">com.cliffc.aa.type.TypeFld.make_tup</a></div><div class="ttdeci">static TypeFld make_tup(Type t, int order)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00065">TypeFld.java:65</a></div></div>
<div class="ttc" id="aa01478_html"><div class="ttname"><a href="../../d8/d7b/a01478.html">com.cliffc.aa.type.TypeFunPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/a00215_source.html#l00023">TypeFunPtr.java:23</a></div></div>
<div class="ttc" id="aa01378_html"><div class="ttname"><a href="../../db/d74/a01378.html">com.cliffc.aa.node.ThretNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d7d/a00161_source.html#l00014">ThretNode.java:14</a></div></div>
<div class="ttc" id="aa01178_html"><div class="ttname"><a href="../../d8/d11/a01178.html">com.cliffc.aa.node.PrimNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df5/a00137_source.html#l00020">PrimNode.java:20</a></div></div>
<div class="ttc" id="aa01398_html_a61ed0a2a96fb3fff98c605e0ba745ec0"><div class="ttname"><a href="../../da/de3/a01398.html#a61ed0a2a96fb3fff98c605e0ba745ec0">com.cliffc.aa.Parse.err_ctrl0</a></div><div class="ttdeci">void err_ctrl0(String s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01439">Parse.java:1439</a></div></div>
<div class="ttc" id="aa01542_html_a297ba4203dcf40a83e97c0cb53866fe7"><div class="ttname"><a href="../../d6/d02/a01542.html#a297ba4203dcf40a83e97c0cb53866fe7">com.cliffc.aa.util.Ary.push</a></div><div class="ttdeci">E push(E e)</div><div class="ttdoc">Add element in amortized constant time.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00058">Ary.java:58</a></div></div>
<div class="ttc" id="aa01530_html_a7ad090ea2dfe7ae9f781e908c6b7647b"><div class="ttname"><a href="../../d7/d90/a01530.html#a7ad090ea2dfe7ae9f781e908c6b7647b">com.cliffc.aa.type.TypeTuple.make_args</a></div><div class="ttdeci">static TypeTuple make_args(Type[] ts)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00248_source.html#l00106">TypeTuple.java:106</a></div></div>
<div class="ttc" id="aa01398_html_a32236404a866df9a908e850ce0477bd1"><div class="ttname"><a href="../../da/de3/a01398.html#a32236404a866df9a908e850ce0477bd1">com.cliffc.aa.Parse.skipWS</a></div><div class="ttdeci">byte skipWS()</div><div class="ttdoc">Advance parse pointer to the first non-whitespace character, and return that character,...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01327">Parse.java:1327</a></div></div>
<div class="ttc" id="aa01134_html_af5bd1373b99febca707a63df86096738"><div class="ttname"><a href="../../dd/de2/a01134.html#af5bd1373b99febca707a63df86096738">com.cliffc.aa.node.NewObjNode.no_more_fields</a></div><div class="ttdeci">void no_more_fields()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00048">NewObjNode.java:48</a></div></div>
<div class="ttc" id="aa01542_html_ad20d8e8c23d027edf235bd54f85d3ea8"><div class="ttname"><a href="../../d6/d02/a01542.html#ad20d8e8c23d027edf235bd54f85d3ea8">com.cliffc.aa.util.Ary.isEmpty</a></div><div class="ttdeci">boolean isEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00020">Ary.java:20</a></div></div>
<div class="ttc" id="aa01442_html_ad4b6fe2d948ba739fd3d5e0feac103e6"><div class="ttname"><a href="../../d0/de2/a01442.html#ad4b6fe2d948ba739fd3d5e0feac103e6">com.cliffc.aa.type.Type.isa</a></div><div class="ttdeci">boolean isa(Type t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00623">Type.java:623</a></div></div>
<div class="ttc" id="aa01358_html_a651aeccabcd84dab0de9d4d49128f4d3"><div class="ttname"><a href="../../de/d5c/a01358.html#a651aeccabcd84dab0de9d4d49128f4d3">com.cliffc.aa.node.ScopeNode.check_if</a></div><div class="ttdeci">Node check_if(boolean arm, Parse bad, GVNGCM gvn, Node ctrl, Node mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00196">ScopeNode.java:196</a></div></div>
<div class="ttc" id="aa01542_html_ac4966809e703c19eed4cb005a1bcd73c"><div class="ttname"><a href="../../d6/d02/a01542.html#ac4966809e703c19eed4cb005a1bcd73c">com.cliffc.aa.util.Ary.set_len</a></div><div class="ttdeci">Ary&lt; E &gt; set_len(int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00140">Ary.java:140</a></div></div>
<div class="ttc" id="aa01358_html_aad4e2b57d680508b96b22872ee102e95"><div class="ttname"><a href="../../de/d5c/a01358.html#aad4e2b57d680508b96b22872ee102e95">com.cliffc.aa.node.ScopeNode.def_if</a></div><div class="ttdeci">void def_if(String name, Access mutable, boolean create)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00191">ScopeNode.java:191</a></div></div>
<div class="ttc" id="aa01062_html_a853db1516ae6ebb3231b33ff0da941d2"><div class="ttname"><a href="../../d4/d8a/a01062.html#a853db1516ae6ebb3231b33ff0da941d2">com.cliffc.aa.node.IntrinsicNode.convertTypeName</a></div><div class="ttdeci">static FunPtrNode convertTypeName(TypeObj tn, Parse badargs, GVNGCM gvn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc1/a00092_source.html#l00035">IntrinsicNode.java:35</a></div></div>
<div class="ttc" id="aa00378_html_ae457bfb4d6edd390fdf59d374c8b6d93"><div class="ttname"><a href="../../d7/d08/a00378.html#ae457bfb4d6edd390fdf59d374c8b6d93">com.cliffc.aa.Env.XCTRL</a></div><div class="ttdeci">static ConNode XCTRL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00021">Env.java:21</a></div></div>
<div class="ttc" id="aa01494_html"><div class="ttname"><a href="../../d6/d51/a01494.html">com.cliffc.aa.type.TypeMem</a></div><div class="ttdoc">Memory type; the state of all of memory; memory edges order memory ops.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d01/a00227_source.html#l00053">TypeMem.java:53</a></div></div>
<div class="ttc" id="aa01530_html_a3ec70a475a583bd1353b46cf6657a152"><div class="ttname"><a href="../../d7/d90/a01530.html#a3ec70a475a583bd1353b46cf6657a152">com.cliffc.aa.type.TypeTuple.make_ret</a></div><div class="ttdeci">static TypeTuple make_ret(Type trez)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00248_source.html#l00120">TypeTuple.java:120</a></div></div>
<div class="ttc" id="aa01398_html_a79c35aa0cd7e64a7387204c55d1c2b35"><div class="ttname"><a href="../../da/de3/a01398.html#a79c35aa0cd7e64a7387204c55d1c2b35">com.cliffc.aa.Parse._str</a></div><div class="ttdeci">final String _str</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00080">Parse.java:80</a></div></div>
<div class="ttc" id="aa01638_html_a3975ba7dca9fe2d6e4992b2b5558f882"><div class="ttname"><a href="../../dd/d55/a01638.html#a3975ba7dca9fe2d6e4992b2b5558f882">com.cliffc.aa.util.Util.eq</a></div><div class="ttdeci">static boolean eq(String s0, String s1)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/a00284_source.html#l00016">Util.java:16</a></div></div>
<div class="ttc" id="aa01134_html_a827fe69c0122f28087f121b2a15cb02f"><div class="ttname"><a href="../../dd/de2/a01134.html#a827fe69c0122f28087f121b2a15cb02f">com.cliffc.aa.node.NewObjNode.update</a></div><div class="ttdeci">void update(String tok, Access mutable, Node val)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00064">NewObjNode.java:64</a></div></div>
<div class="ttc" id="aa01398_html_a88d60473d061966c54ab5defad614c9f"><div class="ttname"><a href="../../da/de3/a01398.html#a88d60473d061966c54ab5defad614c9f">com.cliffc.aa.Parse.require</a></div><div class="ttdeci">void require(char c, int oldx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01270">Parse.java:1270</a></div></div>
<div class="ttc" id="aa01494_html_a9d98906a5ecc87b94185c205bc258363"><div class="ttname"><a href="../../d6/d51/a01494.html#a9d98906a5ecc87b94185c205bc258363">com.cliffc.aa.type.TypeMem.XMEM</a></div><div class="ttdeci">static final TypeMem XMEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d01/a00227_source.html#l00225">TypeMem.java:225</a></div></div>
<div class="ttc" id="aa01398_html_a6e92b63110e4ed2e5bf7533656730f3f"><div class="ttname"><a href="../../da/de3/a01398.html#a6e92b63110e4ed2e5bf7533656730f3f">com.cliffc.aa.Parse.apply</a></div><div class="ttdeci">Node apply()</div><div class="ttdoc">Parse a lisp-like function application.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00427">Parse.java:427</a></div></div>
<div class="ttc" id="aa01398_html_a24943053f980d79bcb6cd78bcd3455af"><div class="ttname"><a href="../../da/de3/a01398.html#a24943053f980d79bcb6cd78bcd3455af">com.cliffc.aa.Parse.hashCode</a></div><div class="ttdeci">int hashCode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01497">Parse.java:1497</a></div></div>
<div class="ttc" id="aa00394_html_afaa02e157a7faac463a02014d97aeb90"><div class="ttname"><a href="../../d9/dad/a00394.html#afaa02e157a7faac463a02014d97aeb90">com.cliffc.aa.GVNGCM.Mode.PesiCG</a></div><div class="ttdeci">PesiCG</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00018">GVNGCM.java:18</a></div></div>
<div class="ttc" id="aa01398_html_af41d3ed90c69faf4279701b6aa98bd3a"><div class="ttname"><a href="../../da/de3/a01398.html#af41d3ed90c69faf4279701b6aa98bd3a">com.cliffc.aa.Parse.expr</a></div><div class="ttdeci">Node expr()</div><div class="ttdoc">Parse an expression, a series of terms separated by binary operators.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00459">Parse.java:459</a></div></div>
<div class="ttc" id="aa01050_html_a6f4dd265c5a85c5ec0b97ade22327b1f"><div class="ttname"><a href="../../d9/d8e/a01050.html#a6f4dd265c5a85c5ec0b97ade22327b1f">com.cliffc.aa.node.FunNode._op_prec</a></div><div class="ttdeci">final byte _op_prec</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00065">FunNode.java:65</a></div></div>
<div class="ttc" id="aa01398_html_a14d8661f587e6f33e2db02a3ae52a196"><div class="ttname"><a href="../../da/de3/a01398.html#a14d8661f587e6f33e2db02a3ae52a196">com.cliffc.aa.Parse.err_ctrl3</a></div><div class="ttdeci">void err_ctrl3(String s, Parse open)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01440">Parse.java:1440</a></div></div>
<div class="ttc" id="aa00390_html_a1bd53ce7f72d83bd10029000d3a5f86d"><div class="ttname"><a href="../../d9/d0a/a00390.html#a1bd53ce7f72d83bd10029000d3a5f86d">com.cliffc.aa.GVNGCM.add_inline</a></div><div class="ttdeci">void add_inline(FunNode n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00053">GVNGCM.java:53</a></div></div>
<div class="ttc" id="aa01398_html_a585d40edf74658ce6fbab8af8bb9c904"><div class="ttname"><a href="../../da/de3/a01398.html#a585d40edf74658ce6fbab8af8bb9c904">com.cliffc.aa.Parse.type</a></div><div class="ttdeci">Type type()</div><div class="ttdoc">Parse a type or return null type = tcon | tfun | tary | tstruct | ttuple | tvar // Type choices tcon ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01152">Parse.java:1152</a></div></div>
<div class="ttc" id="aa01442_html_a45992c529af575fa46f80cee37534006"><div class="ttname"><a href="../../d0/de2/a01442.html#a45992c529af575fa46f80cee37534006">com.cliffc.aa.type.Type.SCALAR</a></div><div class="ttdeci">static final Type SCALAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00328">Type.java:328</a></div></div>
<div class="ttc" id="aa00349_html"><div class="ttname"><a href="../../d7/dfc/a00349.html">com.cliffc</a></div></div>
<div class="ttc" id="aa01358_html_a6ffd2b218f1b841bb61ac64e225c3241"><div class="ttname"><a href="../../de/d5c/a01358.html#a6ffd2b218f1b841bb61ac64e225c3241">com.cliffc.aa.node.ScopeNode.early_kill</a></div><div class="ttdeci">void early_kill()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00082">ScopeNode.java:82</a></div></div>
<div class="ttc" id="aa01398_html_a3ca46fab7edc640230d3f4221a48ca7c"><div class="ttname"><a href="../../da/de3/a01398.html#a3ca46fab7edc640230d3f4221a48ca7c">com.cliffc.aa.Parse.kill</a></div><div class="ttdeci">void kill(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01360">Parse.java:1360</a></div></div>
<div class="ttc" id="aa01430_html_ab6668ea940ca50d6d3c4fd2f35581ab6"><div class="ttname"><a href="../../d8/dd0/a01430.html#ab6668ea940ca50d6d3c4fd2f35581ab6">com.cliffc.aa.type.BitsAlias.AARY</a></div><div class="ttdeci">static final int AARY</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/a00191_source.html#l00025">BitsAlias.java:25</a></div></div>
<div class="ttc" id="aa01398_html_ab5f56822b1234ac422a988a689632a42"><div class="ttname"><a href="../../da/de3/a01398.html#ab5f56822b1234ac422a988a689632a42">com.cliffc.aa.Parse.fact</a></div><div class="ttdeci">Node fact()</div><div class="ttdoc">Parse a factor, a leaf grammar token fact = num // number fact = &quot;string&quot; // string fact = (stmts) //...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00772">Parse.java:772</a></div></div>
<div class="ttc" id="aa00378_html_ac9290c58de1db41481b822fa8830097e"><div class="ttname"><a href="../../d7/d08/a00378.html#ac9290c58de1db41481b822fa8830097e">com.cliffc.aa.Env.add_fun</a></div><div class="ttdeci">Node add_fun(Parse bad, String name, Node val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00218">Env.java:218</a></div></div>
<div class="ttc" id="aa01498_html_a28147ddaba9f62b9e719024a76db617e"><div class="ttname"><a href="../../d6/dc9/a01498.html#a28147ddaba9f62b9e719024a76db617e">com.cliffc.aa.type.TypeMemPtr.DISP_FLD</a></div><div class="ttdeci">static final TypeFld DISP_FLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00077">TypeMemPtr.java:77</a></div></div>
<div class="ttc" id="aa01398_html_a38ac2b50c8076c34ddcad5ce1a4bb539"><div class="ttname"><a href="../../da/de3/a01398.html#a38ac2b50c8076c34ddcad5ce1a4bb539">com.cliffc.aa.Parse.peek_noWS</a></div><div class="ttdeci">boolean peek_noWS(char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01283">Parse.java:1283</a></div></div>
<div class="ttc" id="aa01398_html_aa2422997c6bbdbeb6d40d04b9edc1139"><div class="ttname"><a href="../../da/de3/a01398.html#aa2422997c6bbdbeb6d40d04b9edc1139">com.cliffc.aa.Parse.ctrl</a></div><div class="ttdeci">Node ctrl()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01363">Parse.java:1363</a></div></div>
<div class="ttc" id="aa01542_html_a1257c8fd935c9bc8235bd2903852dd45"><div class="ttname"><a href="../../d6/d02/a01542.html#a1257c8fd935c9bc8235bd2903852dd45">com.cliffc.aa.util.Ary.pop</a></div><div class="ttdeci">E pop()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00041">Ary.java:41</a></div></div>
<div class="ttc" id="aa01398_html_aa32f8d39f419cd21e656e4454bef0185"><div class="ttname"><a href="../../da/de3/a01398.html#aa32f8d39f419cd21e656e4454bef0185">com.cliffc.aa.Parse.gvn</a></div><div class="ttdeci">Node gvn(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01358">Parse.java:1358</a></div></div>
<div class="ttc" id="aa01058_html"><div class="ttname"><a href="../../d5/d4c/a01058.html">com.cliffc.aa.node.IfNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dab/a00089_source.html#l00009">IfNode.java:9</a></div></div>
<div class="ttc" id="aa01398_html_ab10be77822a27fcec3eca20fa30a2ca3"><div class="ttname"><a href="../../da/de3/a01398.html#ab10be77822a27fcec3eca20fa30a2ca3">com.cliffc.aa.Parse.Parse</a></div><div class="ttdeci">Parse(Parse P)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01445">Parse.java:1445</a></div></div>
<div class="ttc" id="aa01430_html_ae0d73dac2e3b7adf777530f28da037eb"><div class="ttname"><a href="../../d8/dd0/a01430.html#ae0d73dac2e3b7adf777530f28da037eb">com.cliffc.aa.type.BitsAlias.type_alias</a></div><div class="ttdeci">static int type_alias(int par)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/a00191_source.html#l00076">BitsAlias.java:76</a></div></div>
<div class="ttc" id="aa01398_html_ac69548608e29ff8ba2c11e665d537059"><div class="ttname"><a href="../../da/de3/a01398.html#ac69548608e29ff8ba2c11e665d537059">com.cliffc.aa.Parse.isDigit</a></div><div class="ttdeci">static boolean isDigit(byte c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01355">Parse.java:1355</a></div></div>
<div class="ttc" id="aa01458_html"><div class="ttname"><a href="../../d7/dd1/a01458.html">com.cliffc.aa.type.TypeFld</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00012">TypeFld.java:12</a></div></div>
<div class="ttc" id="aa01358_html"><div class="ttname"><a href="../../de/d5c/a01358.html">com.cliffc.aa.node.ScopeNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00017">ScopeNode.java:17</a></div></div>
<div class="ttc" id="aa01158_html"><div class="ttname"><a href="../../df/db5/a01158.html">com.cliffc.aa.node.Node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00016">Node.java:16</a></div></div>
<div class="ttc" id="aa01506_html_a8a34cd6dc334b8a9f679e0ef9091c3f2"><div class="ttname"><a href="../../db/d57/a01506.html#a8a34cd6dc334b8a9f679e0ef9091c3f2">com.cliffc.aa.type.TypeRPC.ALL_CALL</a></div><div class="ttdeci">static final TypeRPC ALL_CALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/a00236_source.html#l00031">TypeRPC.java:31</a></div></div>
<div class="ttc" id="aa00354_html"><div class="ttname"><a href="../../d0/dc3/a00354.html">com.cliffc.aa.util</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d03/a00254_source.html#l00001">AbstractEntry.java:1</a></div></div>
<div class="ttc" id="aa01358_html_a15327eb97b2d4630ec7df1e9cc823881"><div class="ttname"><a href="../../de/d5c/a01358.html#a15327eb97b2d4630ec7df1e9cc823881">com.cliffc.aa.node.ScopeNode.ctrl</a></div><div class="ttdeci">Node ctrl()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00044">ScopeNode.java:44</a></div></div>
<div class="ttc" id="aa00378_html_adfa998cc8d33a1434e6d9cfe2330acec"><div class="ttname"><a href="../../d7/d08/a00378.html#adfa998cc8d33a1434e6d9cfe2330acec">com.cliffc.aa.Env.early_exit</a></div><div class="ttdeci">Node early_exit(Parse P, Node val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00121">Env.java:121</a></div></div>
<div class="ttc" id="aa01486_html"><div class="ttname"><a href="../../d0/d34/a01486.html">com.cliffc.aa.type.TypeInt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d52/a00221_source.html#l00009">TypeInt.java:9</a></div></div>
<div class="ttc" id="aa01386_html"><div class="ttname"><a href="../../d3/deb/a01386.html">com.cliffc.aa.node.UnOrFunPtrNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/a00167_source.html#l00006">UnOrFunPtrNode.java:6</a></div></div>
<div class="ttc" id="aa01478_html_a9ca96883f956e36082b300c8b58ca4f1"><div class="ttname"><a href="../../d8/d7b/a01478.html#a9ca96883f956e36082b300c8b58ca4f1">com.cliffc.aa.type.TypeFunPtr.GENERIC_FUNPTR</a></div><div class="ttdeci">static final TypeFunPtr GENERIC_FUNPTR</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd5/a00215_source.html#l00080">TypeFunPtr.java:80</a></div></div>
<div class="ttc" id="aa01398_html_aba7aed0aa9ad4c8e1ad1246b19f6e073"><div class="ttname"><a href="../../da/de3/a01398.html#aba7aed0aa9ad4c8e1ad1246b19f6e073">com.cliffc.aa.Parse.func</a></div><div class="ttdeci">Node func()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00897">Parse.java:897</a></div></div>
<div class="ttc" id="aa01398_html_a07090f660f66935a44ed5548bafa5052"><div class="ttname"><a href="../../da/de3/a01398.html#a07090f660f66935a44ed5548bafa5052">com.cliffc.aa.Parse.isOp1</a></div><div class="ttdeci">static boolean isOp1(byte c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01354">Parse.java:1354</a></div></div>
<div class="ttc" id="aa01042_html"><div class="ttname"><a href="../../d4/d56/a01042.html">com.cliffc.aa.node.FP2DispNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d09/a00077_source.html#l00007">FP2DispNode.java:7</a></div></div>
<div class="ttc" id="aa00390_html_a7604d1a7a8281ef87e4af6c1939b0c85"><div class="ttname"><a href="../../d9/d0a/a00390.html#a7604d1a7a8281ef87e4af6c1939b0c85">com.cliffc.aa.GVNGCM.add_work_all</a></div><div class="ttdeci">Node add_work_all(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00073">GVNGCM.java:73</a></div></div>
<div class="ttc" id="aa00352_html"><div class="ttname"><a href="../../d6/d9c/a00352.html">com.cliffc.aa.tvar</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d25/a00182_source.html#l00001">TV2.java:1</a></div></div>
<div class="ttc" id="aa01442_html"><div class="ttname"><a href="../../d0/de2/a01442.html">com.cliffc.aa.type.Type</a></div><div class="ttdoc">an implementation of language AA</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00094">Type.java:94</a></div></div>
<div class="ttc" id="aa01482_html_a9458f6fde7271b5094c259d42f257035"><div class="ttname"><a href="../../da/d36/a01482.html#a9458f6fde7271b5094c259d42f257035">com.cliffc.aa.type.TypeFunSig.make</a></div><div class="ttdeci">static TypeFunSig make(String[] args, TypeTuple formals, TypeTuple ret)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9a/a00218_source.html#l00071">TypeFunSig.java:71</a></div></div>
<div class="ttc" id="aa01142_html"><div class="ttname"><a href="../../d3/ddc/a01142.html">com.cliffc.aa.node.NewStrNode.ConStr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfe/a00125_source.html#l00032">NewStrNode.java:32</a></div></div>
<div class="ttc" id="aa00378_html_ae5bc7211c97cda10bb65f9b1c0d1e2b5"><div class="ttname"><a href="../../d7/d08/a00378.html#ae5bc7211c97cda10bb65f9b1c0d1e2b5">com.cliffc.aa.Env.add_type</a></div><div class="ttdeci">void add_type(String name, ConTypeNode t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00234">Env.java:234</a></div></div>
<div class="ttc" id="aa01474_html"><div class="ttname"><a href="../../df/d2f/a01474.html">com.cliffc.aa.type.TypeFlt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc1/a00212_source.html#l00009">TypeFlt.java:9</a></div></div>
<div class="ttc" id="aa01374_html"><div class="ttname"><a href="../../d2/dff/a01374.html">com.cliffc.aa.node.StoreNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db8/a00158_source.html#l00014">StoreNode.java:14</a></div></div>
<div class="ttc" id="aa01398_html_a54f2b5cff56fa133af25999f3aef130b"><div class="ttname"><a href="../../da/de3/a01398.html#a54f2b5cff56fa133af25999f3aef130b">com.cliffc.aa.Parse.errMsgs</a></div><div class="ttdeci">Parse[] errMsgs(int... xs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01457">Parse.java:1457</a></div></div>
<div class="ttc" id="aa01542_html"><div class="ttname"><a href="../../d6/d02/a01542.html">com.cliffc.aa.util.Ary</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00011">Ary.java:11</a></div></div>
<div class="ttc" id="aa01174_html"><div class="ttname"><a href="../../da/dfb/a01174.html">com.cliffc.aa.node.PhiNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d76/a00134_source.html#l00009">PhiNode.java:9</a></div></div>
<div class="ttc" id="aa01030_html"><div class="ttname"><a href="../../de/d41/a01030.html">com.cliffc.aa.node.CProjNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d24/a00068_source.html#l00010">CProjNode.java:10</a></div></div>
<div class="ttc" id="aa01398_html_a6a5162c4ed97a3602a9ae71e9d9a2204"><div class="ttname"><a href="../../da/de3/a01398.html#a6a5162c4ed97a3602a9ae71e9d9a2204">com.cliffc.aa.Parse.args_are_mutable</a></div><div class="ttdeci">static final Access args_are_mutable</div><div class="ttdoc">Parse an anonymous function; the opening '{' already parsed.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00896">Parse.java:896</a></div></div>
<div class="ttc" id="aa01430_html"><div class="ttname"><a href="../../d8/dd0/a01430.html">com.cliffc.aa.type.BitsAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/a00191_source.html#l00008">BitsAlias.java:8</a></div></div>
<div class="ttc" id="aa01398_html_a475c6d3bbac6d7262fa44d9f34e24fc3"><div class="ttname"><a href="../../da/de3/a01398.html#a475c6d3bbac6d7262fa44d9f34e24fc3">com.cliffc.aa.Parse._good_prec_tok</a></div><div class="ttdeci">boolean _good_prec_tok(int prec, String bintok)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00510">Parse.java:510</a></div></div>
<div class="ttc" id="aa01442_html_ad98969d0c8402d042a84def9adba12e6"><div class="ttname"><a href="../../d0/de2/a01442.html#ad98969d0c8402d042a84def9adba12e6">com.cliffc.aa.type.Type.meet_nil</a></div><div class="ttdeci">Type meet_nil(Type nil)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00904">Type.java:904</a></div></div>
<div class="ttc" id="aa01398_html_a221f2b764fdebb5cfd065e6019da7e06"><div class="ttname"><a href="../../da/de3/a01398.html#a221f2b764fdebb5cfd065e6019da7e06">com.cliffc.aa.Parse.skipNonWS</a></div><div class="ttdeci">void skipNonWS()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01345">Parse.java:1345</a></div></div>
<div class="ttc" id="aa01530_html"><div class="ttname"><a href="../../d7/d90/a01530.html">com.cliffc.aa.type.TypeTuple</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00248_source.html#l00011">TypeTuple.java:11</a></div></div>
<div class="ttc" id="aa01462_html_ae72f9f368cb38e603170e0594949673e"><div class="ttname"><a href="../../de/d36/a01462.html#ae72f9f368cb38e603170e0594949673e">com.cliffc.aa.type.TypeFld.Access.RW</a></div><div class="ttdeci">RW</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00111">TypeFld.java:111</a></div></div>
<div class="ttc" id="aa00378_html_a312ee5e886fda4db94d92fe35264e593"><div class="ttname"><a href="../../d7/d08/a00378.html#a312ee5e886fda4db94d92fe35264e593">com.cliffc.aa.Env.nongen_push</a></div><div class="ttdeci">void nongen_push(Env par)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00255">Env.java:255</a></div></div>
<div class="ttc" id="aa01158_html_a648703cd19ad7c2bc0de3bb3d98b5fc2"><div class="ttname"><a href="../../df/db5/a01158.html#a648703cd19ad7c2bc0de3bb3d98b5fc2">com.cliffc.aa.node.Node.keep</a></div><div class="ttdeci">public&lt; N extends Node &gt; N keep()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00228">Node.java:228</a></div></div>
<div class="ttc" id="aa01542_html_aec1116bc06430d12e829ff1eab7f17ab"><div class="ttname"><a href="../../d6/d02/a01542.html#aec1116bc06430d12e829ff1eab7f17ab">com.cliffc.aa.util.Ary._len</a></div><div class="ttdeci">int _len</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00013">Ary.java:13</a></div></div>
<div class="ttc" id="aa01398_html_a7056d9016c6762ee436ae04e04476d3b"><div class="ttname"><a href="../../da/de3/a01398.html#a7056d9016c6762ee436ae04e04476d3b">com.cliffc.aa.Parse.tfact</a></div><div class="ttdeci">Node tfact()</div><div class="ttdoc">Parse an optionally typed factor tfact = fact[:type].</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00747">Parse.java:747</a></div></div>
<div class="ttc" id="aa01486_html_a8589b1d0eb95905bc8373a2a6d5d5038"><div class="ttname"><a href="../../d0/d34/a01486.html#a8589b1d0eb95905bc8373a2a6d5d5038">com.cliffc.aa.type.TypeInt.con</a></div><div class="ttdeci">static TypeInt con(long con)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d52/a00221_source.html#l00037">TypeInt.java:37</a></div></div>
<div class="ttc" id="aa01398_html_ab62c9f84a398be9db8efc61fe8165b48"><div class="ttname"><a href="../../da/de3/a01398.html#ab62c9f84a398be9db8efc61fe8165b48">com.cliffc.aa.Parse.isAlpha0</a></div><div class="ttdeci">static boolean isAlpha0(byte c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01351">Parse.java:1351</a></div></div>
<div class="ttc" id="aa00378_html_a5187ee285ddef210e6175df4741058f3"><div class="ttname"><a href="../../d7/d08/a00378.html#a5187ee285ddef210e6175df4741058f3">com.cliffc.aa.Env.lookup_type</a></div><div class="ttdeci">ConTypeNode lookup_type(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00222">Env.java:222</a></div></div>
<div class="ttc" id="aa01494_html_a9367fd0f9f363574908dbbd4090ec53c"><div class="ttname"><a href="../../d6/d51/a01494.html#a9367fd0f9f363574908dbbd4090ec53c">com.cliffc.aa.type.TypeMem.ALLMEM</a></div><div class="ttdeci">static final TypeMem ALLMEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d01/a00227_source.html#l00228">TypeMem.java:228</a></div></div>
<div class="ttc" id="aa01158_html_aaf010ec0aa247c677732500c9230234d"><div class="ttname"><a href="../../df/db5/a01158.html#aaf010ec0aa247c677732500c9230234d">com.cliffc.aa.node.Node._val</a></div><div class="ttdeci">Type _val</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00088">Node.java:88</a></div></div>
<div class="ttc" id="aa01066_html"><div class="ttname"><a href="../../d0/dfb/a01066.html">com.cliffc.aa.node.LoadNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/a00095_source.html#l00013">LoadNode.java:13</a></div></div>
<div class="ttc" id="aa01358_html_ae042d31e0069bd9ff011bae450d21870"><div class="ttname"><a href="../../de/d5c/a01358.html#ae042d31e0069bd9ff011bae450d21870">com.cliffc.aa.node.ScopeNode.rez</a></div><div class="ttdeci">Node rez()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00047">ScopeNode.java:47</a></div></div>
<div class="ttc" id="aa01398_html_a4190f8505e784622f1976492ded413fa"><div class="ttname"><a href="../../da/de3/a01398.html#a4190f8505e784622f1976492ded413fa">com.cliffc.aa.Parse.bfact</a></div><div class="ttdeci">Node bfact(int oldx, UnOrFunPtrNode bfun)</div><div class="ttdoc">A balanced operator as a fact().</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01040">Parse.java:1040</a></div></div>
<div class="ttc" id="aa00378_html_ab09efc4bd55c64f4f622c13edb02f790"><div class="ttname"><a href="../../d7/d08/a00378.html#ab09efc4bd55c64f4f622c13edb02f790">com.cliffc.aa.Env.XNIL</a></div><div class="ttdeci">static ConNode XNIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00022">Env.java:22</a></div></div>
<div class="ttc" id="aa01398_html_aed48b91adc801feb59702be535731b90"><div class="ttname"><a href="../../da/de3/a01398.html#aed48b91adc801feb59702be535731b90">com.cliffc.aa.Parse._x</a></div><div class="ttdeci">int _x</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00072">Parse.java:72</a></div></div>
<div class="ttc" id="aa01442_html_a66f9cd0071f284f8f4badb5eca904720"><div class="ttname"><a href="../../d0/de2/a01442.html#a66f9cd0071f284f8f4badb5eca904720">com.cliffc.aa.type.Type.ANY</a></div><div class="ttdeci">static final Type ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00325">Type.java:325</a></div></div>
<div class="ttc" id="aa01166_html"><div class="ttname"><a href="../../dc/dee/a01166.html">com.cliffc.aa.node.Node.ErrMsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00888">Node.java:888</a></div></div>
<div class="ttc" id="aa01022_html"><div class="ttname"><a href="../../d1/dd8/a01022.html">com.cliffc.aa.node.ConNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00009">ConNode.java:9</a></div></div>
<div class="ttc" id="aa01158_html_a1ac8aa21e9dce06d822c6f4c4cf510da"><div class="ttname"><a href="../../df/db5/a01158.html#a1ac8aa21e9dce06d822c6f4c4cf510da">com.cliffc.aa.node.Node.add_def</a></div><div class="ttdeci">Node add_def(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00152">Node.java:152</a></div></div>
<div class="ttc" id="aa01358_html_aa0a5636db79935abd0a15438798c5ff5"><div class="ttname"><a href="../../de/d5c/a01358.html#aa0a5636db79935abd0a15438798c5ff5">com.cliffc.aa.node.ScopeNode.ptr</a></div><div class="ttdeci">Node ptr()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00046">ScopeNode.java:46</a></div></div>
<div class="ttc" id="aa01054_html"><div class="ttname"><a href="../../dd/d57/a01054.html">com.cliffc.aa.node.FunPtrNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2a/a00086_source.html#l00040">FunPtrNode.java:40</a></div></div>
<div class="ttc" id="aa01454_html"><div class="ttname"><a href="../../da/df6/a01454.html">com.cliffc.aa.type.TypeAry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/a00203_source.html#l00007">TypeAry.java:7</a></div></div>
<div class="ttc" id="aa01354_html"><div class="ttname"><a href="../../d7/dc4/a01354.html">com.cliffc.aa.node.RetNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/a00146_source.html#l00019">RetNode.java:19</a></div></div>
<div class="ttc" id="aa01522_html"><div class="ttname"><a href="../../da/da6/a01522.html">com.cliffc.aa.type.TypeStruct</a></div><div class="ttdoc">A memory-based collection of optionally named fields.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d22/a00245_source.html#l00050">TypeStruct.java:50</a></div></div>
<div class="ttc" id="aa01010_html"><div class="ttname"><a href="../../d0/d2b/a01010.html">com.cliffc.aa.node.CallNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dee/a00053_source.html#l00086">CallNode.java:86</a></div></div>
<div class="ttc" id="aa01458_html_a68cd98652ac4a01ee6b4dd90bb553dae"><div class="ttname"><a href="../../d7/dd1/a01458.html#a68cd98652ac4a01ee6b4dd90bb553dae">com.cliffc.aa.type.TypeFld.make</a></div><div class="ttdeci">static TypeFld make(String fld, Type t, int order)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00058">TypeFld.java:58</a></div></div>
<div class="ttc" id="aa01398_html_ad02ab496dc3df693bf59e4b10bd11049"><div class="ttname"><a href="../../da/de3/a01398.html#ad02ab496dc3df693bf59e4b10bd11049">com.cliffc.aa.Parse._e</a></div><div class="ttdeci">Env _e</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00070">Parse.java:70</a></div></div>
<div class="ttc" id="aa01398_html_a1bee98667ed8077a79247e6dca3b9a30"><div class="ttname"><a href="../../da/de3/a01398.html#a1bee98667ed8077a79247e6dca3b9a30">com.cliffc.aa.Parse.set_mem</a></div><div class="ttdeci">void set_mem(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01367">Parse.java:1367</a></div></div>
<div class="ttc" id="aa01398_html_ad88f522ad2830ee916157a757133cc71"><div class="ttname"><a href="../../da/de3/a01398.html#ad88f522ad2830ee916157a757133cc71">com.cliffc.aa.Parse.peek</a></div><div class="ttdeci">String peek(String[] toks)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01313">Parse.java:1313</a></div></div>
<div class="ttc" id="aa01398_html_ad9a35552a62576fdf930f6423b8a71a5"><div class="ttname"><a href="../../da/de3/a01398.html#ad9a35552a62576fdf930f6423b8a71a5">com.cliffc.aa.Parse.typeq</a></div><div class="ttdeci">Type typeq(Type t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01172">Parse.java:1172</a></div></div>
<div class="ttc" id="aa01406_html_a60bdc3571827136bffe84bddd53e8201"><div class="ttname"><a href="../../dc/d25/a01406.html#a60bdc3571827136bffe84bddd53e8201">com.cliffc.aa.tvar.TV2.make_leaf_ns</a></div><div class="ttdeci">static TV2 make_leaf_ns(UQNodes ns, @NotNull String alloc_site)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d25/a00182_source.html#l00130">TV2.java:130</a></div></div>
<div class="ttc" id="aa01110_html"><div class="ttname"><a href="../../d1/d3d/a01110.html">com.cliffc.aa.node.MProjNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d81/a00110_source.html#l00010">MProjNode.java:10</a></div></div>
<div class="ttc" id="aa01398_html_a6ba6d0e34ee0a8ee42e8960a56f7926b"><div class="ttname"><a href="../../da/de3/a01398.html#a6ba6d0e34ee0a8ee42e8960a56f7926b">com.cliffc.aa.Parse.args</a></div><div class="ttdeci">Node[] args(Node a0, Node a1, Node a2, Node a3)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01397">Parse.java:1397</a></div></div>
<div class="ttc" id="aa01398_html_a58b0dba4e9b60d9e9639eea530b6077b"><div class="ttname"><a href="../../da/de3/a01398.html#a58b0dba4e9b60d9e9639eea530b6077b">com.cliffc.aa.Parse._expr_higher_require</a></div><div class="ttdeci">Node _expr_higher_require(int prec, String bintok, Node lhs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00505">Parse.java:505</a></div></div>
<div class="ttc" id="aa00378_html_a26d4d3535afaa9351a166b3ff276bcb2"><div class="ttname"><a href="../../d7/d08/a00378.html#a26d4d3535afaa9351a166b3ff276bcb2">com.cliffc.aa.Env.START</a></div><div class="ttdeci">static StartNode START</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00014">Env.java:14</a></div></div>
<div class="ttc" id="aa00394_html_aae03322ee6fc74d419a3d77af3f098f5"><div class="ttname"><a href="../../d9/dad/a00394.html#aae03322ee6fc74d419a3d77af3f098f5">com.cliffc.aa.GVNGCM.Mode.PesiNoCG</a></div><div class="ttdeci">PesiNoCG</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00016">GVNGCM.java:16</a></div></div>
<div class="ttc" id="aa00378_html_a9b853b51765f6e95dff3f73eea46f53e"><div class="ttname"><a href="../../d7/d08/a00378.html#a9b853b51765f6e95dff3f73eea46f53e">com.cliffc.aa.Env.lookup</a></div><div class="ttdeci">Node lookup(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00186">Env.java:186</a></div></div>
<div class="ttc" id="aa01398_html_a0ea941a7ee6970383be35392d5d023c1"><div class="ttname"><a href="../../da/de3/a01398.html#a0ea941a7ee6970383be35392d5d023c1">com.cliffc.aa.Parse._src</a></div><div class="ttdeci">final String _src</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00069">Parse.java:69</a></div></div>
<div class="ttc" id="aa01398_html_ac4f6db9ab2a319710b88133e080b7dcd"><div class="ttname"><a href="../../da/de3/a01398.html#ac4f6db9ab2a319710b88133e080b7dcd">com.cliffc.aa.Parse.peek</a></div><div class="ttdeci">boolean peek(String s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01300">Parse.java:1300</a></div></div>
<div class="ttc" id="aa01158_html_a1885051050eecedbe3143d9cdbcc7118"><div class="ttname"><a href="../../df/db5/a01158.html#a1885051050eecedbe3143d9cdbcc7118">com.cliffc.aa.node.Node.is_prim</a></div><div class="ttdeci">boolean is_prim()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00260">Node.java:260</a></div></div>
<div class="ttc" id="aa00390_html_a394db3ef88edc8c20864046492c88300"><div class="ttname"><a href="../../d9/d0a/a00390.html#a394db3ef88edc8c20864046492c88300">com.cliffc.aa.GVNGCM.xform</a></div><div class="ttdeci">Node xform(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00126">GVNGCM.java:126</a></div></div>
<div class="ttc" id="aa01430_html_abc3e9f75a45233a0727820b62ebecaeb"><div class="ttname"><a href="../../d8/dd0/a01430.html#abc3e9f75a45233a0727820b62ebecaeb">com.cliffc.aa.type.BitsAlias.REC</a></div><div class="ttdeci">static final int REC</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/a00191_source.html#l00025">BitsAlias.java:25</a></div></div>
<div class="ttc" id="aa01398_html_a5e1b4411da5e7400c4fc45d4b3dbd795"><div class="ttname"><a href="../../da/de3/a01398.html#a5e1b4411da5e7400c4fc45d4b3dbd795">com.cliffc.aa.Parse.ifex</a></div><div class="ttdeci">Node ifex()</div><div class="ttdoc">Parse an if-expression, with lazy eval on the branches.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00380">Parse.java:380</a></div></div>
<div class="ttc" id="aa01542_html_a0a77ca788387cfcb2fb48635c6ea868d"><div class="ttname"><a href="../../d6/d02/a01542.html#a0a77ca788387cfcb2fb48635c6ea868d">com.cliffc.aa.util.Ary.asAry</a></div><div class="ttdeci">E[] asAry()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00172">Ary.java:172</a></div></div>
<div class="ttc" id="aa01358_html_a39364f710b89a0792495a79f1471696e"><div class="ttname"><a href="../../de/d5c/a01358.html#a39364f710b89a0792495a79f1471696e">com.cliffc.aa.node.ScopeNode.flip_if</a></div><div class="ttdeci">void flip_if()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00183">ScopeNode.java:183</a></div></div>
<div class="ttc" id="aa01398_html_af464b03cca9a1d64c390d4ea8e9739ed"><div class="ttname"><a href="../../da/de3/a01398.html#af464b03cca9a1d64c390d4ea8e9739ed">com.cliffc.aa.Parse._nf</a></div><div class="ttdeci">final NumberFormat _nf</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00078">Parse.java:78</a></div></div>
<div class="ttc" id="aa01002_html"><div class="ttname"><a href="../../d2/dd5/a01002.html">com.cliffc.aa.node.AssertNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2d/a00047_source.html#l00018">AssertNode.java:18</a></div></div>
<div class="ttc" id="aa00378_html_ace73698a8b4c67bf851fc0068b036c87"><div class="ttname"><a href="../../d7/d08/a00378.html#ace73698a8b4c67bf851fc0068b036c87">com.cliffc.aa.Env.GVN</a></div><div class="ttdeci">static final GVNGCM GVN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00013">Env.java:13</a></div></div>
<div class="ttc" id="aa01486_html_a3ddbff80f32500547a3a0b7e95bf2ef7"><div class="ttname"><a href="../../d0/d34/a01486.html#a3ddbff80f32500547a3a0b7e95bf2ef7">com.cliffc.aa.type.TypeInt.INT64</a></div><div class="ttdeci">static final TypeInt INT64</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d52/a00221_source.html#l00039">TypeInt.java:39</a></div></div>
<div class="ttc" id="aa01442_html_a70d1cf353683b4275921c0ca2e1a1005"><div class="ttname"><a href="../../d0/de2/a01442.html#a70d1cf353683b4275921c0ca2e1a1005">com.cliffc.aa.type.Type.set_name</a></div><div class="ttdeci">final T set_name(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00551">Type.java:551</a></div></div>
<div class="ttc" id="aa01502_html_a7475f01953a9aea608e35f656d17578a"><div class="ttname"><a href="../../de/dc6/a01502.html#a7475f01953a9aea608e35f656d17578a">com.cliffc.aa.type.TypeObj.OBJ</a></div><div class="ttdeci">static final TypeObj OBJ</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a00233_source.html#l00044">TypeObj.java:44</a></div></div>
<div class="ttc" id="aa01498_html_a002ddcf372fd8ac08dbdecaa10171af3"><div class="ttname"><a href="../../d6/dc9/a01498.html#a002ddcf372fd8ac08dbdecaa10171af3">com.cliffc.aa.type.TypeMemPtr.DISP_SIMPLE</a></div><div class="ttdeci">static final TypeMemPtr DISP_SIMPLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00105">TypeMemPtr.java:105</a></div></div>
<div class="ttc" id="aa01502_html"><div class="ttname"><a href="../../de/dc6/a01502.html">com.cliffc.aa.type.TypeObj</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a00233_source.html#l00015">TypeObj.java:15</a></div></div>
<div class="ttc" id="aa01474_html_a2a99464501a319a8a58844397188ae6c"><div class="ttname"><a href="../../df/d2f/a01474.html#a2a99464501a319a8a58844397188ae6c">com.cliffc.aa.type.TypeFlt.con</a></div><div class="ttdeci">static Type con(double con)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc1/a00212_source.html#l00036">TypeFlt.java:36</a></div></div>
<div class="ttc" id="aa01050_html_a6f8ce045c43ba9985568e06635946142"><div class="ttname"><a href="../../d9/d8e/a01050.html#a6f8ce045c43ba9985568e06635946142">com.cliffc.aa.node.FunNode.fptr</a></div><div class="ttdeci">FunPtrNode fptr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00908">FunNode.java:908</a></div></div>
<div class="ttc" id="aa01158_html_a7d5c85ec867849430a484f9a03665668"><div class="ttname"><a href="../../df/db5/a01158.html#a7d5c85ec867849430a484f9a03665668">com.cliffc.aa.node.Node.unkeep</a></div><div class="ttdeci">public&lt; N extends Node &gt; N unkeep()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00232">Node.java:232</a></div></div>
<div class="ttc" id="aa01158_html_ae048971e0c4e7fa232ccf9cfb89c15bb"><div class="ttname"><a href="../../df/db5/a01158.html#ae048971e0c4e7fa232ccf9cfb89c15bb">com.cliffc.aa.node.Node.unhook</a></div><div class="ttdeci">public&lt; N extends Node &gt; N unhook()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00239">Node.java:239</a></div></div>
<div class="ttc" id="aa01398_html_a2822b8d3da9670144f6b969a0018410f"><div class="ttname"><a href="../../da/de3/a01398.html#a2822b8d3da9670144f6b969a0018410f">com.cliffc.aa.Parse.dump</a></div><div class="ttdeci">String dump()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00097">Parse.java:97</a></div></div>
<div class="ttc" id="aa01398_html_a9168c86249d8dd8ffe36aebaa1c141f6"><div class="ttname"><a href="../../da/de3/a01398.html#a9168c86249d8dd8ffe36aebaa1c141f6">com.cliffc.aa.Parse.errMsg</a></div><div class="ttdeci">Parse errMsg(int x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01456">Parse.java:1456</a></div></div>
<div class="ttc" id="aa01134_html_a964e91111d9edea48ebadbd8d89dd25c"><div class="ttname"><a href="../../dd/de2/a01134.html#a964e91111d9edea48ebadbd8d89dd25c">com.cliffc.aa.node.NewObjNode.get</a></div><div class="ttdeci">Node get(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00037">NewObjNode.java:37</a></div></div>
<div class="ttc" id="aa01542_html_a34d3e7312ef36085ff9274387e6a5411"><div class="ttname"><a href="../../d6/d02/a01542.html#a34d3e7312ef36085ff9274387e6a5411">com.cliffc.aa.util.Ary.add</a></div><div class="ttdeci">Ary&lt; E &gt; add(E e)</div><div class="ttdoc">Add element in amortized constant time.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00049">Ary.java:49</a></div></div>
<div class="ttc" id="aa01166_html_a9da5350250b721d98bbaf209170df595"><div class="ttname"><a href="../../dc/dee/a01166.html#a9da5350250b721d98bbaf209170df595">com.cliffc.aa.node.Node.ErrMsg.syntax</a></div><div class="ttdeci">static ErrMsg syntax(Parse loc, String msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00900">Node.java:900</a></div></div>
<div class="ttc" id="aa01158_html_ab7694c22a9c7542842726bcfb0eb5922"><div class="ttname"><a href="../../df/db5/a01158.html#ab7694c22a9c7542842726bcfb0eb5922">com.cliffc.aa.node.Node.is_dead</a></div><div class="ttdeci">boolean is_dead()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00820">Node.java:820</a></div></div>
<div class="ttc" id="aa00378_html_a54c7a94b1a651c7df484420931090941"><div class="ttname"><a href="../../d7/d08/a00378.html#a54c7a94b1a651c7df484420931090941">com.cliffc.aa.Env.close_display</a></div><div class="ttdeci">void close_display(GVNGCM gvn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00128">Env.java:128</a></div></div>
<div class="ttc" id="aa01398_html_af3523a5eae79462d511cf046ba65dcff"><div class="ttname"><a href="../../da/de3/a01398.html#af3523a5eae79462d511cf046ba65dcff">com.cliffc.aa.Parse.dumprpo</a></div><div class="ttdeci">String dumprpo()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00098">Parse.java:98</a></div></div>
<div class="ttc" id="aa01158_html_aa9c660843e6f3a9321da631f4a5f60a9"><div class="ttname"><a href="../../df/db5/a01158.html#aa9c660843e6f3a9321da631f4a5f60a9">com.cliffc.aa.node.Node.kill</a></div><div class="ttdeci">Node kill()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00211">Node.java:211</a></div></div>
<div class="ttc" id="aa01358_html_a199043a64946784dc275e91423aa4076"><div class="ttname"><a href="../../de/d5c/a01358.html#a199043a64946784dc275e91423aa4076">com.cliffc.aa.node.ScopeNode.mem</a></div><div class="ttdeci">Node mem()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00045">ScopeNode.java:45</a></div></div>
<div class="ttc" id="aa01034_html_a82fad857431387997f361dd151f01393"><div class="ttname"><a href="../../de/d91/a01034.html#a82fad857431387997f361dd151f01393">com.cliffc.aa.node.DefMemNode.make_mem_proj</a></div><div class="ttdeci">MrgProjNode make_mem_proj(NewNode nn, Node mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/a00071_source.html#l00059">DefMemNode.java:59</a></div></div>
<div class="ttc" id="aa01398_html_a70192f75ad0a11a31d41bb8871c90fc5"><div class="ttname"><a href="../../da/de3/a01398.html#a70192f75ad0a11a31d41bb8871c90fc5">com.cliffc.aa.Parse.err_ctrl1</a></div><div class="ttdeci">ErrNode err_ctrl1(Node.ErrMsg msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01437">Parse.java:1437</a></div></div>
<div class="ttc" id="aa01398_html_a93934578d70504fc7682ebb6677ecc35"><div class="ttname"><a href="../../da/de3/a01398.html#a93934578d70504fc7682ebb6677ecc35">com.cliffc.aa.Parse.toString</a></div><div class="ttdeci">String toString()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01490">Parse.java:1490</a></div></div>
<div class="ttc" id="aa01026_html_a77df3963a660b14b1f33036821cc7ce9"><div class="ttname"><a href="../../de/d02/a01026.html#a77df3963a660b14b1f33036821cc7ce9">com.cliffc.aa.node.ConTypeNode.alias</a></div><div class="ttdeci">int alias()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de1/a00065_source.html#l00028">ConTypeNode.java:28</a></div></div>
<div class="ttc" id="aa01038_html"><div class="ttname"><a href="../../d4/dbc/a01038.html">com.cliffc.aa.node.ErrNode</a></div><div class="ttdoc">Error nodes.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db6/a00074_source.html#l00010">ErrNode.java:10</a></div></div>
<div class="ttc" id="aa01158_html_abd2c4dd527b2269e98a9b16a23f74d78"><div class="ttname"><a href="../../df/db5/a01158.html#abd2c4dd527b2269e98a9b16a23f74d78">com.cliffc.aa.node.Node.dumprpo</a></div><div class="ttdeci">String dumprpo(boolean prims, boolean plive)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00358">Node.java:358</a></div></div>
<div class="ttc" id="aa01398_html_ab3eef7d53273abcbfe0c038c1d3bde0f"><div class="ttname"><a href="../../da/de3/a01398.html#ab3eef7d53273abcbfe0c038c1d3bde0f">com.cliffc.aa.Parse.errMsg</a></div><div class="ttdeci">Parse errMsg()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01455">Parse.java:1455</a></div></div>
<div class="ttc" id="aa01494_html_a8a020f104541afe75925e79c117864a6"><div class="ttname"><a href="../../d6/d51/a01494.html#a8a020f104541afe75925e79c117864a6">com.cliffc.aa.type.TypeMem.FULL</a></div><div class="ttdeci">static final TypeMem FULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d01/a00227_source.html#l00222">TypeMem.java:222</a></div></div>
<div class="ttc" id="aa01398_html_a56aae37b1b4045aa766f4d71eddb75e5"><div class="ttname"><a href="../../da/de3/a01398.html#a56aae37b1b4045aa766f4d71eddb75e5">com.cliffc.aa.Parse.require</a></div><div class="ttdeci">void require(String s, int oldx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01276">Parse.java:1276</a></div></div>
<div class="ttc" id="aa01454_html_a9244538ee239cc231363b8f5475b7552"><div class="ttname"><a href="../../da/df6/a01454.html#a9244538ee239cc231363b8f5475b7552">com.cliffc.aa.type.TypeAry.make</a></div><div class="ttdeci">static TypeAry make(String name, boolean any, TypeInt sz, Type elem, TypeObj stor)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/a00203_source.html#l00038">TypeAry.java:38</a></div></div>
<div class="ttc" id="aa01138_html"><div class="ttname"><a href="../../d0/d39/a01138.html">com.cliffc.aa.node.NewStrNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfe/a00125_source.html#l00011">NewStrNode.java:11</a></div></div>
<div class="ttc" id="aa01398_html_a2613e939d428feea5a8fb31ba4e6dd50"><div class="ttname"><a href="../../da/de3/a01398.html#a2613e939d428feea5a8fb31ba4e6dd50">com.cliffc.aa.Parse.equals</a></div><div class="ttdeci">boolean equals(Object loc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01491">Parse.java:1491</a></div></div>
<div class="ttc" id="aa01638_html"><div class="ttname"><a href="../../dd/d55/a01638.html">com.cliffc.aa.util.Util</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/a00284_source.html#l00005">Util.java:5</a></div></div>
<div class="ttc" id="aa01442_html_a42f0719f0fe6f4b56acbe5233e219b86"><div class="ttname"><a href="../../d0/de2/a01442.html#a42f0719f0fe6f4b56acbe5233e219b86">com.cliffc.aa.type.Type.CTRL</a></div><div class="ttdeci">static final Type CTRL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00326">Type.java:326</a></div></div>
<div class="ttc" id="aa01158_html_a634afaa0042a1f6467b395b9dfcf0636"><div class="ttname"><a href="../../df/db5/a01158.html#a634afaa0042a1f6467b395b9dfcf0636">com.cliffc.aa.node.Node.is_copy</a></div><div class="ttdeci">Node is_copy(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00827">Node.java:827</a></div></div>
<div class="ttc" id="aa01398_html_a994051cbc8aff4c6b17a8053578d6655"><div class="ttname"><a href="../../da/de3/a01398.html#a994051cbc8aff4c6b17a8053578d6655">com.cliffc.aa.Parse.isAlpha1</a></div><div class="ttdeci">static boolean isAlpha1(byte c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01352">Parse.java:1352</a></div></div>
<div class="ttc" id="aa01398_html_ac81c4d62901080f0883b0e984f7f0062"><div class="ttname"><a href="../../da/de3/a01398.html#ac81c4d62901080f0883b0e984f7f0062">com.cliffc.aa.Parse._expr</a></div><div class="ttdeci">Node _expr(int prec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00465">Parse.java:465</a></div></div>
<div class="ttc" id="aa01166_html_a6fef57ebe368caca0346f800fcad1d9f"><div class="ttname"><a href="../../dc/dee/a01166.html#a6fef57ebe368caca0346f800fcad1d9f">com.cliffc.aa.node.Node.ErrMsg.trailingjunk</a></div><div class="ttdeci">static ErrMsg trailingjunk(Parse loc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00941">Node.java:941</a></div></div>
<div class="ttc" id="aa01398_html_a5d738333d7cdea43e72bc26023455d49"><div class="ttname"><a href="../../da/de3/a01398.html#a5d738333d7cdea43e72bc26023455d49">com.cliffc.aa.Parse.errLocMsg</a></div><div class="ttdeci">String errLocMsg(String s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01466">Parse.java:1466</a></div></div>
<div class="ttc" id="aa01398_html_ade4bf32252a86275a1ec393dea94ed6f"><div class="ttname"><a href="../../da/de3/a01398.html#ade4bf32252a86275a1ec393dea94ed6f">com.cliffc.aa.Parse._short_circuit_expr</a></div><div class="ttdeci">Node _short_circuit_expr(Node lhs, int prec, String bintok, Node op, int opx, int lhsx, int rhsx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00521">Parse.java:521</a></div></div>
<div class="ttc" id="aa01398_html_aa2480f6bad6236a14375654b61118346"><div class="ttname"><a href="../../da/de3/a01398.html#aa2480f6bad6236a14375654b61118346">com.cliffc.aa.Parse.merge_exits</a></div><div class="ttdeci">Node merge_exits(Node rez)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00996">Parse.java:996</a></div></div>
<div class="ttc" id="aa01502_html_a2f0f37629678b504449f6fdf70f39339"><div class="ttname"><a href="../../de/dc6/a01502.html#a2f0f37629678b504449f6fdf70f39339">com.cliffc.aa.type.TypeObj.ISUSED</a></div><div class="ttdeci">static final TypeObj ISUSED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a00233_source.html#l00045">TypeObj.java:45</a></div></div>
<div class="ttc" id="aa01398_html_a7a70df78046406be78556d80ef58dc4a"><div class="ttname"><a href="../../da/de3/a01398.html#a7a70df78046406be78556d80ef58dc4a">com.cliffc.aa.Parse.isOp0</a></div><div class="ttdeci">static boolean isOp0(byte c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01353">Parse.java:1353</a></div></div>
<div class="ttc" id="aa01026_html_a0ecdc4e8c7d6ed0dd5577c234527dbe0"><div class="ttname"><a href="../../de/d02/a01026.html#a0ecdc4e8c7d6ed0dd5577c234527dbe0">com.cliffc.aa.node.ConTypeNode.def_fref</a></div><div class="ttdeci">void def_fref(Type t, Env e)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de1/a00065_source.html#l00031">ConTypeNode.java:31</a></div></div>
<div class="ttc" id="aa01158_html_a9a46cea187559f94192aa6e09b91c60c"><div class="ttname"><a href="../../df/db5/a01158.html#a9a46cea187559f94192aa6e09b91c60c">com.cliffc.aa.node.Node.in</a></div><div class="ttdeci">Node in(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00126">Node.java:126</a></div></div>
<div class="ttc" id="aa01178_html_a2c7b8ff948020bfb43bf59213723d013"><div class="ttname"><a href="../../d8/d11/a01178.html#a2c7b8ff948020bfb43bf59213723d013">com.cliffc.aa.node.PrimNode.PREC_TOKS</a></div><div class="ttdeci">static String[][] PREC_TOKS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df5/a00137_source.html#l00038">PrimNode.java:38</a></div></div>
<div class="ttc" id="aa01398_html_a52c1dc81eac791f6feaf3bec4042f1be"><div class="ttname"><a href="../../da/de3/a01398.html#a52c1dc81eac791f6feaf3bec4042f1be">com.cliffc.aa.Parse.skipEOL</a></div><div class="ttdeci">void skipEOL()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01342">Parse.java:1342</a></div></div>
<div class="ttc" id="aa01050_html_afd4ddc4a6f82da99178354e0672cc487"><div class="ttname"><a href="../../d9/d8e/a01050.html#afd4ddc4a6f82da99178354e0672cc487">com.cliffc.aa.node.FunNode.set_nongens</a></div><div class="ttdeci">void set_nongens(TV2[] nongens)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00192">FunNode.java:192</a></div></div>
<div class="ttc" id="aa01178_html_af2f4c455d1857fb363a0a64d2b6c2954"><div class="ttname"><a href="../../d8/d11/a01178.html#af2f4c455d1857fb363a0a64d2b6c2954">com.cliffc.aa.node.PrimNode.convertTypeName</a></div><div class="ttdeci">static PrimNode convertTypeName(Type from, Type to, Parse badargs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df5/a00137_source.html#l00129">PrimNode.java:129</a></div></div>
<div class="ttc" id="aa00378_html_ade5fbe44417fae3a136a92c29ed76314"><div class="ttname"><a href="../../d7/d08/a00378.html#ade5fbe44417fae3a136a92c29ed76314">com.cliffc.aa.Env._nongen</a></div><div class="ttdeci">VStack _nongen</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00036">Env.java:36</a></div></div>
<div class="ttc" id="aa01398_html_a4a886c4ada30f2e32e70151037fd7118"><div class="ttname"><a href="../../da/de3/a01398.html#a4a886c4ada30f2e32e70151037fd7118">com.cliffc.aa.Parse.do_call</a></div><div class="ttdeci">Node do_call(Parse[] bads, Node... args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01414">Parse.java:1414</a></div></div>
<div class="ttc" id="aa01442_html_a46ee539fa0da39c0825b259924a9c461"><div class="ttname"><a href="../../d0/de2/a01442.html#a46ee539fa0da39c0825b259924a9c461">com.cliffc.aa.type.Type.XCTRL</a></div><div class="ttdeci">static final Type XCTRL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00327">Type.java:327</a></div></div>
<div class="ttc" id="aa00390_html"><div class="ttname"><a href="../../d9/d0a/a00390.html">com.cliffc.aa.GVNGCM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00012">GVNGCM.java:12</a></div></div>
<div class="ttc" id="aa01006_html_a04bfa19ac38d738c26e31d9b467c3eb9"><div class="ttname"><a href="../../dc/d81/a01006.html#a04bfa19ac38d738c26e31d9b467c3eb9">com.cliffc.aa.node.CallEpiNode._is_copy</a></div><div class="ttdeci">boolean _is_copy</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/a00050_source.html#l00025">CallEpiNode.java:25</a></div></div>
<div class="ttc" id="aa01542_html_a9c5263f0aa1ca912bc471f540e1a84cb"><div class="ttname"><a href="../../d6/d02/a01542.html#a9c5263f0aa1ca912bc471f540e1a84cb">com.cliffc.aa.util.Ary.last</a></div><div class="ttdeci">E last()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00035">Ary.java:35</a></div></div>
<div class="ttc" id="aa01358_html_a9d3ab0475583903893bcc40fc19eb4e8"><div class="ttname"><a href="../../de/d5c/a01358.html#a9d3ab0475583903893bcc40fc19eb4e8">com.cliffc.aa.node.ScopeNode.get</a></div><div class="ttdeci">Node get(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00076">ScopeNode.java:76</a></div></div>
<div class="ttc" id="aa01522_html_ad7153135a70c477199288d2e0a219203"><div class="ttname"><a href="../../da/da6/a01522.html#ad7153135a70c477199288d2e0a219203">com.cliffc.aa.type.TypeStruct.open</a></div><div class="ttdeci">static TypeStruct open(Type tdisp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d22/a00245_source.html#l00210">TypeStruct.java:210</a></div></div>
<div class="ttc" id="aa01054_html_a840e9f6b69a6e1de3f58abbf576f887f"><div class="ttname"><a href="../../dd/d57/a01054.html#a840e9f6b69a6e1de3f58abbf576f887f">com.cliffc.aa.node.FunPtrNode.forward_ref</a></div><div class="ttdeci">static FunPtrNode forward_ref(GVNGCM gvn, String name, Parse unkref, Env e)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2a/a00086_source.html#l00205">FunPtrNode.java:205</a></div></div>
<div class="ttc" id="aa01398_html_adf95c17fe0de5cfff574ee89b78f0d37"><div class="ttname"><a href="../../da/de3/a01398.html#adf95c17fe0de5cfff574ee89b78f0d37">com.cliffc.aa.Parse.stmts</a></div><div class="ttdeci">Node stmts(boolean lookup_current_scope_only)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00168">Parse.java:168</a></div></div>
<div class="ttc" id="aa01550_html_a00adc6b061b25a9099de7d225e814fa2"><div class="ttname"><a href="../../d8/daf/a01550.html#a00adc6b061b25a9099de7d225e814fa2">com.cliffc.aa.util.AryInt.push</a></div><div class="ttdeci">AryInt push(int e)</div><div class="ttdoc">Add element in amortized constant time.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00260_source.html#l00045">AryInt.java:45</a></div></div>
<div class="ttc" id="aa01518_html"><div class="ttname"><a href="../../d0/d1a/a01518.html">com.cliffc.aa.type.TypeStr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/a00242_source.html#l00014">TypeStr.java:14</a></div></div>
<div class="ttc" id="aa01398_html_a74b0cbbdb7a84d8562db343d38f7ea1a"><div class="ttname"><a href="../../da/de3/a01398.html#a74b0cbbdb7a84d8562db343d38f7ea1a">com.cliffc.aa.Parse.prog</a></div><div class="ttdeci">void prog()</div><div class="ttdoc">Parse a top-level: prog = stmts END.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00157">Parse.java:157</a></div></div>
<div class="ttc" id="aa01046_html"><div class="ttname"><a href="../../da/d17/a01046.html">com.cliffc.aa.node.FreshNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dec/a00080_source.html#l00011">FreshNode.java:11</a></div></div>
<div class="ttc" id="aa01346_html"><div class="ttname"><a href="../../d9/de4/a01346.html">com.cliffc.aa.node.ProjNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db1/a00140_source.html#l00011">ProjNode.java:11</a></div></div>
<div class="ttc" id="aa01134_html_a11b0018181940ecb74777a8f767fc443"><div class="ttname"><a href="../../dd/de2/a01134.html#a11b0018181940ecb74777a8f767fc443">com.cliffc.aa.node.NewObjNode.create</a></div><div class="ttdeci">void create(String name, Node val, Access mutable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00051">NewObjNode.java:51</a></div></div>
<div class="ttc" id="aa01126_html_a8556ea588bc50697d5085e501bf3b46f"><div class="ttname"><a href="../../db/d1e/a01126.html#a8556ea588bc50697d5085e501bf3b46f">com.cliffc.aa.node.NewNode._ts</a></div><div class="ttdeci">T _ts</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6a/a00119_source.html#l00025">NewNode.java:25</a></div></div>
<div class="ttc" id="aa01646_html"><div class="ttname"><a href="../../df/dee/a01646.html">com.cliffc.aa.util.VBitSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d25/a00290_source.html#l00005">VBitSet.java:5</a></div></div>
<div class="ttc" id="aa02518_html"><div class="ttname"><a href="../../d6/de1/a02518.html">Comparable</a></div></div>
<div class="ttc" id="aa01398_html_a8bb8ed3c30132ca45e84518ab4d2ce8e"><div class="ttname"><a href="../../da/de3/a01398.html#a8bb8ed3c30132ca45e84518ab4d2ce8e">com.cliffc.aa.Parse.compareTo</a></div><div class="ttdeci">int compareTo(Parse loc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01500">Parse.java:1500</a></div></div>
<div class="ttc" id="aa01398_html_afef5faa659aac7ef0c47be0f2ae00cf7"><div class="ttname"><a href="../../da/de3/a01398.html#afef5faa659aac7ef0c47be0f2ae00cf7">com.cliffc.aa.Parse._lastNWS</a></div><div class="ttdeci">int _lastNWS</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00073">Parse.java:73</a></div></div>
<div class="ttc" id="aa01550_html_a2802e74b1262d5693e3867bbcc4a0c9f"><div class="ttname"><a href="../../d8/daf/a01550.html#a2802e74b1262d5693e3867bbcc4a0c9f">com.cliffc.aa.util.AryInt.binary_search</a></div><div class="ttdeci">int binary_search(int e)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00260_source.html#l00150">AryInt.java:150</a></div></div>
<div class="ttc" id="aa01134_html"><div class="ttname"><a href="../../dd/de2/a01134.html">com.cliffc.aa.node.NewObjNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00020">NewObjNode.java:20</a></div></div>
<div class="ttc" id="aa01158_html_a655b9cd6940b27b6df92c555c8d0ed90"><div class="ttname"><a href="../../df/db5/a01158.html#a655b9cd6940b27b6df92c555c8d0ed90">com.cliffc.aa.node.Node.insert</a></div><div class="ttdeci">Node insert(int idx, Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00165">Node.java:165</a></div></div>
<div class="ttc" id="aa01398_html_a13888d8ae630fd43fb70eb2148b75764"><div class="ttname"><a href="../../da/de3/a01398.html#a13888d8ae630fd43fb70eb2148b75764">com.cliffc.aa.Parse.string</a></div><div class="ttdeci">Node string()</div><div class="ttdoc">Parse a String; _x is at '&quot;'.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01123">Parse.java:1123</a></div></div>
<div class="ttc" id="aa01734_html"><div class="ttname"><a href="../../d0/d1f/a01734.html">NotNull</a></div></div>
<div class="ttc" id="aa01634_html"><div class="ttname"><a href="../../d4/d99/a01634.html">com.cliffc.aa.util.SB</a></div><div class="ttdoc">Tight/tiny StringBuilder wrapper.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d04/a00281_source.html#l00008">SB.java:8</a></div></div>
<div class="ttc" id="aa01534_html"><div class="ttname"><a href="../../dc/d2d/a01534.html">com.cliffc.aa.TypeEnv</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1a/a00251_source.html#l00009">TypeEnv.java:9</a></div></div>
<div class="ttc" id="aa01398_html_a6397933ff168ada64e7209d9c82122de"><div class="ttname"><a href="../../da/de3/a01398.html#a6397933ff168ada64e7209d9c82122de">com.cliffc.aa.Parse._expr_higher</a></div><div class="ttdeci">Node _expr_higher(int prec, Node lhs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00499">Parse.java:499</a></div></div>
<div class="ttc" id="aa01158_html_a5d6762d5a0f17ecc32cfe7cdb89e3ccb"><div class="ttname"><a href="../../df/db5/a01158.html#a5d6762d5a0f17ecc32cfe7cdb89e3ccb">com.cliffc.aa.node.Node.con</a></div><div class="ttdeci">static Node con(Type t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00670">Node.java:670</a></div></div>
<div class="ttc" id="aa01158_html_ab77f93542583141b30ea7cb2a04a07f7"><div class="ttname"><a href="../../df/db5/a01158.html#ab77f93542583141b30ea7cb2a04a07f7">com.cliffc.aa.node.Node._uses</a></div><div class="ttdeci">Ary&lt; Node &gt; _uses</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00245">Node.java:245</a></div></div>
<div class="ttc" id="aa01178_html_a6017cb7890194d5e4449f853ac5f5f7f"><div class="ttname"><a href="../../d8/d11/a01178.html#a6017cb7890194d5e4449f853ac5f5f7f">com.cliffc.aa.node.PrimNode.PRIM_TOKS</a></div><div class="ttdeci">static String[] PRIM_TOKS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df5/a00137_source.html#l00039">PrimNode.java:39</a></div></div>
<div class="ttc" id="aa01358_html_a9777a74a97f7ff4c215b0b00b51c4abc"><div class="ttname"><a href="../../de/d5c/a01358.html#a9777a74a97f7ff4c215b0b00b51c4abc">com.cliffc.aa.node.ScopeNode.pop_if</a></div><div class="ttdeci">void pop_if()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00186">ScopeNode.java:186</a></div></div>
<div class="ttc" id="aa01398_html_a4aa67e0b1293e9182a4dd44358eaac19"><div class="ttname"><a href="../../da/de3/a01398.html#a4aa67e0b1293e9182a4dd44358eaac19">com.cliffc.aa.Parse.skipBlock</a></div><div class="ttdeci">void skipBlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01343">Parse.java:1343</a></div></div>
<div class="ttc" id="aa01050_html_aced3be823b4a2f467be797cc894de84a"><div class="ttname"><a href="../../d9/d8e/a01050.html#aced3be823b4a2f467be797cc894de84a">com.cliffc.aa.node.FunNode.nargs</a></div><div class="ttdeci">int nargs()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00190">FunNode.java:190</a></div></div>
<div class="ttc" id="aa01398_html_aa323fc543c2ddbbd29ee350da00bd8c3"><div class="ttname"><a href="../../da/de3/a01398.html#aa323fc543c2ddbbd29ee350da00bd8c3">com.cliffc.aa.Parse.isOp</a></div><div class="ttdeci">static boolean isOp(String s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01089">Parse.java:1089</a></div></div>
<div class="ttc" id="aa01398_html_a34c1264570204f1609dde3a64818a036"><div class="ttname"><a href="../../da/de3/a01398.html#a34c1264570204f1609dde3a64818a036">com.cliffc.aa.Parse.create</a></div><div class="ttdeci">void create(String tok, Node n, Access mutable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01375">Parse.java:1375</a></div></div>
<div class="ttc" id="aa01398_html_aeb129ff47f6a1c82ba9635c2ad0731b9"><div class="ttname"><a href="../../da/de3/a01398.html#aeb129ff47f6a1c82ba9635c2ad0731b9">com.cliffc.aa.Parse.do_exit</a></div><div class="ttdeci">Node do_exit(ScopeNode s, Node rez)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01019">Parse.java:1019</a></div></div>
<div class="ttc" id="aa01398_html_a7b1a6eaad3b721625612e7475ca9bf3b"><div class="ttname"><a href="../../da/de3/a01398.html#a7b1a6eaad3b721625612e7475ca9bf3b">com.cliffc.aa.Parse.go</a></div><div class="ttdeci">TypeEnv go()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00104">Parse.java:104</a></div></div>
<div class="ttc" id="aa00370_html"><div class="ttname"><a href="../../d3/d30/a00370.html">com.cliffc.aa.AA</a></div><div class="ttdoc">an implementation of language AA</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d46/a00002_source.html#l00009">AA.java:9</a></div></div>
<div class="ttc" id="aa01358_html_a78b8503232caddb26e1415c2aa8498ba"><div class="ttname"><a href="../../de/d5c/a01358.html#a78b8503232caddb26e1415c2aa8498ba">com.cliffc.aa.node.ScopeNode.early_mem</a></div><div class="ttdeci">PhiNode early_mem()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00080">ScopeNode.java:80</a></div></div>
<div class="ttc" id="aa01398_html_ab0f28ab3a4863b2bd7cda11757d8a7f1"><div class="ttname"><a href="../../da/de3/a01398.html#ab0f28ab3a4863b2bd7cda11757d8a7f1">com.cliffc.aa.Parse._pp</a></div><div class="ttdeci">final ParsePosition _pp</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00079">Parse.java:79</a></div></div>
<div class="ttc" id="aa01550_html_a4d7e5211c2003df18ffbe66dc5bd63c1"><div class="ttname"><a href="../../d8/daf/a01550.html#a4d7e5211c2003df18ffbe66dc5bd63c1">com.cliffc.aa.util.AryInt.at</a></div><div class="ttdeci">int at(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00260_source.html#l00021">AryInt.java:21</a></div></div>
<div class="ttc" id="aa01398_html_a6ec08087fdf9f02e8acd43b4e9c7057c"><div class="ttname"><a href="../../da/de3/a01398.html#a6ec08087fdf9f02e8acd43b4e9c7057c">com.cliffc.aa.Parse.tmod</a></div><div class="ttdeci">Access tmod()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01176">Parse.java:1176</a></div></div>
<div class="ttc" id="aa01398_html_a41b27cb2a246284f113c118d37e45093"><div class="ttname"><a href="../../da/de3/a01398.html#a41b27cb2a246284f113c118d37e45093">com.cliffc.aa.Parse.get_display_ptr</a></div><div class="ttdeci">Node get_display_ptr(ScopeNode scope)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01379">Parse.java:1379</a></div></div>
<div class="ttc" id="aa00378_html_aa363859e5aaae31247d20c3d45e2be99"><div class="ttname"><a href="../../d7/d08/a00378.html#aa363859e5aaae31247d20c3d45e2be99">com.cliffc.aa.Env._par</a></div><div class="ttdeci">final Env _par</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00034">Env.java:34</a></div></div>
<div class="ttc" id="aa01398_html_a1866c72f20e94e052d38e838d3205ba7"><div class="ttname"><a href="../../da/de3/a01398.html#a1866c72f20e94e052d38e838d3205ba7">com.cliffc.aa.Parse.typev</a></div><div class="ttdeci">Type typev()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01155">Parse.java:1155</a></div></div>
<div class="ttc" id="aa01442_html_a64703347bc6c4282358a7bd95493a922"><div class="ttname"><a href="../../d0/de2/a01442.html#a64703347bc6c4282358a7bd95493a922">com.cliffc.aa.type.Type.is_display_ptr</a></div><div class="ttdeci">boolean is_display_ptr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00941">Type.java:941</a></div></div>
<div class="ttc" id="aa00347_html"><div class="ttname"><a href="../../d1/dc6/a00347.html">com.cliffc.aa</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d46/a00002_source.html#l00001">AA.java:1</a></div></div>
<div class="ttc" id="aa01462_html_a655068cf54cb2d31664d10a184599c7d"><div class="ttname"><a href="../../de/d36/a01462.html#a655068cf54cb2d31664d10a184599c7d">com.cliffc.aa.type.TypeFld.Access.ReadOnly</a></div><div class="ttdeci">ReadOnly</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00110">TypeFld.java:110</a></div></div>
<div class="ttc" id="aa01026_html"><div class="ttname"><a href="../../de/d02/a01026.html">com.cliffc.aa.node.ConTypeNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/de1/a00065_source.html#l00018">ConTypeNode.java:18</a></div></div>
<div class="ttc" id="aa01390_html"><div class="ttname"><a href="../../d5/d8e/a01390.html">com.cliffc.aa.node.UnresolvedNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcb/a00170_source.html#l00013">UnresolvedNode.java:13</a></div></div>
<div class="ttc" id="aa01634_html_af706c705e889040f6fc45486f508987e"><div class="ttname"><a href="../../d4/d99/a01634.html#af706c705e889040f6fc45486f508987e">com.cliffc.aa.util.SB.nl</a></div><div class="ttdeci">SB nl()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d04/a00281_source.html#l00048">SB.java:48</a></div></div>
<div class="ttc" id="aa01358_html_aa6f858c75c7f6a1eae52d071ebff53e3"><div class="ttname"><a href="../../de/d5c/a01358.html#aa6f858c75c7f6a1eae52d071ebff53e3">com.cliffc.aa.node.ScopeNode.set_rez</a></div><div class="ttdeci">void set_rez(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00051">ScopeNode.java:51</a></div></div>
<div class="ttc" id="aa01398_html_a82a2e60ef3169d3c09f4d66cff677100"><div class="ttname"><a href="../../da/de3/a01398.html#a82a2e60ef3169d3c09f4d66cff677100">com.cliffc.aa.Parse.lookup</a></div><div class="ttdeci">Node lookup(String tok)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01372">Parse.java:1372</a></div></div>
<div class="ttc" id="aa01398_html_a56e89d48c411c325dcad98960097ca8a"><div class="ttname"><a href="../../da/de3/a01398.html#a56e89d48c411c325dcad98960097ca8a">com.cliffc.aa.Parse.set_ctrl</a></div><div class="ttdeci">private&lt; N extends Node &gt; N set_ctrl(N n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01365">Parse.java:1365</a></div></div>
<div class="ttc" id="aa01126_html"><div class="ttname"><a href="../../db/d1e/a01126.html">com.cliffc.aa.node.NewNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6a/a00119_source.html#l00017">NewNode.java:17</a></div></div>
<div class="ttc" id="aa01358_html_ac9f5539df25752e0030903c46930a3df"><div class="ttname"><a href="../../de/d5c/a01358.html#ac9f5539df25752e0030903c46930a3df">com.cliffc.aa.node.ScopeNode.stk</a></div><div class="ttdeci">NewObjNode stk()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00048">ScopeNode.java:48</a></div></div>
<div class="ttc" id="aa01014_html"><div class="ttname"><a href="../../d0/d56/a01014.html">com.cliffc.aa.node.CastNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2e/a00056_source.html#l00011">CastNode.java:11</a></div></div>
<div class="ttc" id="aa01358_html_a29c98e8aea532d7a8e86de7b44610926"><div class="ttname"><a href="../../de/d5c/a01358.html#a29c98e8aea532d7a8e86de7b44610926">com.cliffc.aa.node.ScopeNode.is_mutable</a></div><div class="ttdeci">boolean is_mutable(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00077">ScopeNode.java:77</a></div></div>
<div class="ttc" id="aa01398_html_aa1103a39f8176d8c7d49d99bc16446e5"><div class="ttname"><a href="../../da/de3/a01398.html#aa1103a39f8176d8c7d49d99bc16446e5">com.cliffc.aa.Parse.peek2</a></div><div class="ttdeci">boolean peek2(byte c0, String s2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01294">Parse.java:1294</a></div></div>
<div class="ttc" id="aa01398_html_ace0a1f607b158a24dd773c993fe69507"><div class="ttname"><a href="../../da/de3/a01398.html#ace0a1f607b158a24dd773c993fe69507">com.cliffc.aa.Parse.typep</a></div><div class="ttdeci">Type typep(boolean type_var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01161">Parse.java:1161</a></div></div>
<div class="ttc" id="aa01398_html_a6b7ee6eda8ebbc44fea47d6e31f66813"><div class="ttname"><a href="../../da/de3/a01398.html#a6b7ee6eda8ebbc44fea47d6e31f66813">com.cliffc.aa.Parse.peek</a></div><div class="ttdeci">boolean peek(char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01282">Parse.java:1282</a></div></div>
<div class="ttc" id="aa01358_html_aa2561eb9cc2dc7aafbdc5387c90a6767"><div class="ttname"><a href="../../de/d5c/a01358.html#aa2561eb9cc2dc7aafbdc5387c90a6767">com.cliffc.aa.node.ScopeNode.early_ctrl</a></div><div class="ttdeci">RegionNode early_ctrl()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00079">ScopeNode.java:79</a></div></div>
<div class="ttc" id="aa01006_html_a2c77b2d03bef1847d37ba3a567335960"><div class="ttname"><a href="../../dc/d81/a01006.html#a2c77b2d03bef1847d37ba3a567335960">com.cliffc.aa.node.CallEpiNode.wired</a></div><div class="ttdeci">RetNode wired(int x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/a00050_source.html#l00038">CallEpiNode.java:38</a></div></div>
<div class="ttc" id="aa01550_html_a1dccdbfce4b3d101038883cb065c4e17"><div class="ttname"><a href="../../d8/daf/a01550.html#a1dccdbfce4b3d101038883cb065c4e17">com.cliffc.aa.util.AryInt.last</a></div><div class="ttdeci">int last()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00260_source.html#l00031">AryInt.java:31</a></div></div>
<div class="ttc" id="aa01158_html_a97d0187c871a8c81de4696742a9684cb"><div class="ttname"><a href="../../df/db5/a01158.html#a97d0187c871a8c81de4696742a9684cb">com.cliffc.aa.node.Node.is_forward_ref</a></div><div class="ttdeci">boolean is_forward_ref()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00830">Node.java:830</a></div></div>
<div class="ttc" id="aa01054_html_afe1dcfcf70b42faf751d07f024ec8296"><div class="ttname"><a href="../../dd/d57/a01054.html#afe1dcfcf70b42faf751d07f024ec8296">com.cliffc.aa.node.FunPtrNode._name</a></div><div class="ttdeci">String _name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2a/a00086_source.html#l00041">FunPtrNode.java:41</a></div></div>
<div class="ttc" id="aa01634_html_ac801338e82849a7fe2ae7a0feb80bb55"><div class="ttname"><a href="../../d4/d99/a01634.html#ac801338e82849a7fe2ae7a0feb80bb55">com.cliffc.aa.util.SB.p</a></div><div class="ttdeci">SB p(String s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d04/a00281_source.html#l00013">SB.java:13</a></div></div>
<div class="ttc" id="aa00390_html_a30adb7d17b631cd35a2e994feaa511f1"><div class="ttname"><a href="../../d9/d0a/a00390.html#a30adb7d17b631cd35a2e994feaa511f1">com.cliffc.aa.GVNGCM.gcp</a></div><div class="ttdeci">void gcp(Mode mode, ScopeNode rez)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00217">GVNGCM.java:217</a></div></div>
<div class="ttc" id="aa01006_html_ac39aeb81eefff07ab2a49de25c0d802b"><div class="ttname"><a href="../../dc/d81/a01006.html#ac39aeb81eefff07ab2a49de25c0d802b">com.cliffc.aa.node.CallEpiNode.nwired</a></div><div class="ttdeci">int nwired()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/a00050_source.html#l00037">CallEpiNode.java:37</a></div></div>
<div class="ttc" id="aa01158_html_a76827313ea74c03a0d11a9cbf9e11c6e"><div class="ttname"><a href="../../df/db5/a01158.html#a76827313ea74c03a0d11a9cbf9e11c6e">com.cliffc.aa.node.Node.set_def</a></div><div class="ttdeci">Node set_def(int idx, Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00154">Node.java:154</a></div></div>
<div class="ttc" id="aa01482_html"><div class="ttname"><a href="../../da/d36/a01482.html">com.cliffc.aa.type.TypeFunSig</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9a/a00218_source.html#l00010">TypeFunSig.java:10</a></div></div>
<div class="ttc" id="aa01382_html"><div class="ttname"><a href="../../de/d9d/a01382.html">com.cliffc.aa.node.ThunkNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddf/a00164_source.html#l00016">ThunkNode.java:16</a></div></div>
<div class="ttc" id="aa01398_html_a447d1bca2271f39a327759e1103c2961"><div class="ttname"><a href="../../da/de3/a01398.html#a447d1bca2271f39a327759e1103c2961">com.cliffc.aa.Parse._gvn</a></div><div class="ttdeci">final GVNGCM _gvn</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00075">Parse.java:75</a></div></div>
<div class="ttc" id="aa01158_html_a79a1280d5fd0f6c6c4445a52372beec0"><div class="ttname"><a href="../../df/db5/a01158.html#a79a1280d5fd0f6c6c4445a52372beec0">com.cliffc.aa.node.Node.sharptr</a></div><div class="ttdeci">Type sharptr(Node mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00855">Node.java:855</a></div></div>
<div class="ttc" id="aa00390_html_ad52b88a21b47c661e6f6a3bcfdbb3576"><div class="ttname"><a href="../../d9/d0a/a00390.html#ad52b88a21b47c661e6f6a3bcfdbb3576">com.cliffc.aa.GVNGCM.add_reduce</a></div><div class="ttdeci">public&lt; N extends Node &gt; N add_reduce(N n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00049">GVNGCM.java:49</a></div></div>
<div class="ttc" id="aa01398_html_abdbcf692e194b481456bc7c244ff1bf1"><div class="ttname"><a href="../../da/de3/a01398.html#abdbcf692e194b481456bc7c244ff1bf1">com.cliffc.aa.Parse.number</a></div><div class="ttdeci">Type number()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01098">Parse.java:1098</a></div></div>
<div class="ttc" id="aa01398_html_a9776bbfb3b7a794122e3abbabfd55f99"><div class="ttname"><a href="../../da/de3/a01398.html#a9776bbfb3b7a794122e3abbabfd55f99">com.cliffc.aa.Parse.field_number</a></div><div class="ttdeci">int field_number()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01107">Parse.java:1107</a></div></div>
<div class="ttc" id="aa01006_html"><div class="ttname"><a href="../../dc/d81/a01006.html">com.cliffc.aa.node.CallEpiNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/a00050_source.html#l00024">CallEpiNode.java:24</a></div></div>
<div class="ttc" id="aa01170_html"><div class="ttname"><a href="../../d3/dc7/a01170.html">com.cliffc.aa.node.ParmNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d06/a00131_source.html#l00014">ParmNode.java:14</a></div></div>
<div class="ttc" id="aa01158_html_a20c127c310699e286ef53cb6d59f95b1"><div class="ttname"><a href="../../df/db5/a01158.html#a20c127c310699e286ef53cb6d59f95b1">com.cliffc.aa.node.Node.walkerr_def</a></div><div class="ttdeci">void walkerr_def(HashSet&lt; ErrMsg &gt; errs, VBitSet bs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00771">Node.java:771</a></div></div>
<div class="ttc" id="aa01406_html"><div class="ttname"><a href="../../dc/d25/a01406.html">com.cliffc.aa.tvar.TV2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d25/a00182_source.html#l00023">TV2.java:23</a></div></div>
<div class="ttc" id="aa01050_html_a7af5f33338c5bc1f0b1a910fec91800c"><div class="ttname"><a href="../../d9/d8e/a01050.html#a7af5f33338c5bc1f0b1a910fec91800c">com.cliffc.aa.node.FunNode._bal_close</a></div><div class="ttdeci">String _bal_close</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00060">FunNode.java:60</a></div></div>
<div class="ttc" id="aa01522_html_a7f8e1f0000812b5468e8eaca07dd28f3"><div class="ttname"><a href="../../da/da6/a01522.html#a7f8e1f0000812b5468e8eaca07dd28f3">com.cliffc.aa.type.TypeStruct.make</a></div><div class="ttdeci">static TypeStruct make(String fld_name, Type t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d22/a00245_source.html#l00190">TypeStruct.java:190</a></div></div>
<div class="ttc" id="aa00394_html_a133301b3dd51a129eda1b2dc315e3fbe"><div class="ttname"><a href="../../d9/dad/a00394.html#a133301b3dd51a129eda1b2dc315e3fbe">com.cliffc.aa.GVNGCM.Mode.Opto</a></div><div class="ttdeci">Opto</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00017">GVNGCM.java:17</a></div></div>
<div class="ttc" id="aa01398_html_aba380e8c7c4a8837421637794e9c99c0"><div class="ttname"><a href="../../da/de3/a01398.html#aba380e8c7c4a8837421637794e9c99c0">com.cliffc.aa.Parse.isWS</a></div><div class="ttdeci">static boolean isWS(byte c)</div><div class="ttdoc">Return true if c passes a test.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01350">Parse.java:1350</a></div></div>
<div class="ttc" id="aa01506_html"><div class="ttname"><a href="../../db/d57/a01506.html">com.cliffc.aa.type.TypeRPC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/a00236_source.html#l00007">TypeRPC.java:7</a></div></div>
<div class="ttc" id="aa01398_html_a175237b7563f1fae965ef0ee7bc38162"><div class="ttname"><a href="../../da/de3/a01398.html#a175237b7563f1fae965ef0ee7bc38162">com.cliffc.aa.Parse.token0</a></div><div class="ttdeci">String token0()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01077">Parse.java:1077</a></div></div>
<div class="ttc" id="aa01134_html_ac708967c3d171fd813493c0948b3b4f1"><div class="ttname"><a href="../../dd/de2/a01134.html#ac708967c3d171fd813493c0948b3b4f1">com.cliffc.aa.node.NewObjNode.create_active</a></div><div class="ttdeci">void create_active(String name, Node val, Access mutable)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00057">NewObjNode.java:57</a></div></div>
<div class="ttc" id="aa01354_html_ad45583d004cee7da674274ccf0afcc05"><div class="ttname"><a href="../../d7/dc4/a01354.html#ad45583d004cee7da674274ccf0afcc05">com.cliffc.aa.node.RetNode.fun</a></div><div class="ttdeci">FunNode fun()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/a00146_source.html#l00032">RetNode.java:32</a></div></div>
<div class="ttc" id="aa00390_html_afc12ab83b476735fbb3f66cb65a7630d"><div class="ttname"><a href="../../d9/d0a/a00390.html#afc12ab83b476735fbb3f66cb65a7630d">com.cliffc.aa.GVNGCM._opt_mode</a></div><div class="ttdeci">Mode _opt_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00022">GVNGCM.java:22</a></div></div>
<div class="ttc" id="aa01398_html_ac9a7ddd9ba4579d064ec41f8e80f4e1f"><div class="ttname"><a href="../../da/de3/a01398.html#ac9a7ddd9ba4579d064ec41f8e80f4e1f">com.cliffc.aa.Parse.con</a></div><div class="ttdeci">ConNode con(Type t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01369">Parse.java:1369</a></div></div>
<div class="ttc" id="aa01498_html_ad5040f4213368c62870a608932657358"><div class="ttname"><a href="../../d6/dc9/a01498.html#ad5040f4213368c62870a608932657358">com.cliffc.aa.type.TypeMemPtr.ISUSED</a></div><div class="ttdeci">static final TypeMemPtr ISUSED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00092">TypeMemPtr.java:92</a></div></div>
<div class="ttc" id="aa01442_html_aab7369296ae5bd611e50ebb40c38fceb"><div class="ttname"><a href="../../d0/de2/a01442.html#aab7369296ae5bd611e50ebb40c38fceb">com.cliffc.aa.type.Type.XNIL</a></div><div class="ttdeci">static final Type XNIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db1/a00200_source.html#l00333">Type.java:333</a></div></div>
<div class="ttc" id="aa01398_html_ac627d3aaaed60f3d4a68bc4431dba21e"><div class="ttname"><a href="../../da/de3/a01398.html#ac627d3aaaed60f3d4a68bc4431dba21e">com.cliffc.aa.Parse.inc</a></div><div class="ttdeci">Node inc(String tok, int d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00713">Parse.java:713</a></div></div>
<div class="ttc" id="aa00378_html_ab52ec2507f95f3e51c717a0d9befd55c"><div class="ttname"><a href="../../d7/d08/a00378.html#ab52ec2507f95f3e51c717a0d9befd55c">com.cliffc.aa.Env._scope</a></div><div class="ttdeci">final ScopeNode _scope</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00035">Env.java:35</a></div></div>
<div class="ttc" id="aa00398_html"><div class="ttname"><a href="../../d9/dd1/a00398.html">com.cliffc.aa.GVNGCM.Build</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00356">GVNGCM.java:356</a></div></div>
<div class="ttc" id="aa00390_html_a195b2b7d0b8f0f1770422573c2cc22ff"><div class="ttname"><a href="../../d9/d0a/a00390.html#a195b2b7d0b8f0f1770422573c2cc22ff">com.cliffc.aa.GVNGCM.add_flow</a></div><div class="ttdeci">public&lt; N extends Node &gt; N add_flow(N n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00050">GVNGCM.java:50</a></div></div>
<div class="ttc" id="aa00378_html_a66fd66e169d8ae0553cda1444fdcad76"><div class="ttname"><a href="../../d7/d08/a00378.html#a66fd66e169d8ae0553cda1444fdcad76">com.cliffc.aa.Env.nongen_pop</a></div><div class="ttdeci">Node nongen_pop(Node ret)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00254">Env.java:254</a></div></div>
<div class="ttc" id="aa01358_html_a5fdee2674d3c57c4bea3ae65cec5b7a4"><div class="ttname"><a href="../../de/d5c/a01358.html#a5fdee2674d3c57c4bea3ae65cec5b7a4">com.cliffc.aa.node.ScopeNode.push_if</a></div><div class="ttdeci">void push_if()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00178">ScopeNode.java:178</a></div></div>
<div class="ttc" id="aa00390_html_af23b6c0debccdb7104dea273b231c716"><div class="ttname"><a href="../../d9/d0a/a00390.html#af23b6c0debccdb7104dea273b231c716">com.cliffc.aa.GVNGCM.add_dead</a></div><div class="ttdeci">void add_dead(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00048">GVNGCM.java:48</a></div></div>
<div class="ttc" id="aa01398_html_a279ff3a9e04bccd45c335a42d6610e61"><div class="ttname"><a href="../../da/de3/a01398.html#a279ff3a9e04bccd45c335a42d6610e61">com.cliffc.aa.Parse.init</a></div><div class="ttdeci">private&lt; N extends Node &gt; N init(N n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01359">Parse.java:1359</a></div></div>
<div class="ttc" id="aa01126_html_a1dc80a33189e19f73f4fb3c33982c64b"><div class="ttname"><a href="../../db/d1e/a01126.html#a1dc80a33189e19f73f4fb3c33982c64b">com.cliffc.aa.node.NewNode._alias</a></div><div class="ttdeci">int _alias</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6a/a00119_source.html#l00020">NewNode.java:20</a></div></div>
<div class="ttc" id="aa01158_html_a7e1a61828c0c95c2036c0d455288cfe0"><div class="ttname"><a href="../../df/db5/a01158.html#a7e1a61828c0c95c2036c0d455288cfe0">com.cliffc.aa.node.Node.dump</a></div><div class="ttdeci">String dump(int max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00286">Node.java:286</a></div></div>
<div class="ttc" id="aa01062_html_a940f72f7e41cd0b0785d4a9e717d0d40"><div class="ttname"><a href="../../d4/d8a/a01062.html#a940f72f7e41cd0b0785d4a9e717d0d40">com.cliffc.aa.node.IntrinsicNode.convertTypeNameStruct</a></div><div class="ttdeci">static FunPtrNode convertTypeNameStruct(TypeStruct to, int alias, Parse bad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc1/a00092_source.html#l00133">IntrinsicNode.java:133</a></div></div>
<div class="ttc" id="aa01062_html"><div class="ttname"><a href="../../d4/d8a/a01062.html">com.cliffc.aa.node.IntrinsicNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc1/a00092_source.html#l00015">IntrinsicNode.java:15</a></div></div>
<div class="ttc" id="aa00390_html_a42d9a00a9163833e11b84dd2ad3a494f"><div class="ttname"><a href="../../d9/d0a/a00390.html#a42d9a00a9163833e11b84dd2ad3a494f">com.cliffc.aa.GVNGCM.iter</a></div><div class="ttdeci">void iter(Mode opt_mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00147">GVNGCM.java:147</a></div></div>
<div class="ttc" id="aa01542_html_ab4d6a36a4e0b73f4267f777c91df42ef"><div class="ttname"><a href="../../d6/d02/a01542.html#ab4d6a36a4e0b73f4267f777c91df42ef">com.cliffc.aa.util.Ary.find</a></div><div class="ttdeci">int find(E e)</div><div class="ttdoc">Find the first matching element using ==, or -1 if none.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00192">Ary.java:192</a></div></div>
<div class="ttc" id="aa01462_html"><div class="ttname"><a href="../../de/d36/a01462.html">com.cliffc.aa.type.TypeFld.Access</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00109">TypeFld.java:109</a></div></div>
<div class="ttc" id="aa01054_html_a993fb4c1eec14c6c9958900157915a3b"><div class="ttname"><a href="../../dd/d57/a01054.html#a993fb4c1eec14c6c9958900157915a3b">com.cliffc.aa.node.FunPtrNode.fun</a></div><div class="ttdeci">FunNode fun()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2a/a00086_source.html#l00064">FunPtrNode.java:64</a></div></div>
<div class="ttc" id="aa01158_html_a1019549c2b013489e9ccf53787fb5ca3"><div class="ttname"><a href="../../df/db5/a01158.html#a1019549c2b013489e9ccf53787fb5ca3">com.cliffc.aa.node.Node.tvar</a></div><div class="ttdeci">TV2 tvar()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00096">Node.java:96</a></div></div>
<div class="ttc" id="aa01358_html_a3cc9506aee2694c80b4e40f0995aedbd"><div class="ttname"><a href="../../de/d5c/a01358.html#a3cc9506aee2694c80b4e40f0995aedbd">com.cliffc.aa.node.ScopeNode.set_ctrl</a></div><div class="ttdeci">public&lt; N extends Node &gt; N set_ctrl(N n)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00049">ScopeNode.java:49</a></div></div>
<div class="ttc" id="aa01398_html_af4bbf26ee356318a4ab80490f56074f8"><div class="ttname"><a href="../../da/de3/a01398.html#af4bbf26ee356318a4ab80490f56074f8">com.cliffc.aa.Parse.tuple</a></div><div class="ttdeci">Node tuple(int oldx, Node s, int first_arg_start)</div><div class="ttdoc">Parse a tuple; first stmt but not the ',' parsed.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00843">Parse.java:843</a></div></div>
<div class="ttc" id="aa01134_html_aab8e6a60474b997f0f73f590b01b172e"><div class="ttname"><a href="../../dd/de2/a01134.html#aab8e6a60474b997f0f73f590b01b172e">com.cliffc.aa.node.NewObjNode.is_mutable</a></div><div class="ttdeci">boolean is_mutable(String name)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00039">NewObjNode.java:39</a></div></div>
<div class="ttc" id="aa01050_html"><div class="ttname"><a href="../../d9/d8e/a01050.html">com.cliffc.aa.node.FunNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00058">FunNode.java:58</a></div></div>
<div class="ttc" id="aa00378_html_a76f140c0940d6639743ec6fdab8424ca"><div class="ttname"><a href="../../d7/d08/a00378.html#a76f140c0940d6639743ec6fdab8424ca">com.cliffc.aa.Env.lookup_fref</a></div><div class="ttdeci">Env lookup_fref(String tok)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00311">Env.java:311</a></div></div>
<div class="ttc" id="aa01178_html_a4c691e5e8199666ba7e95e2df7d49b96"><div class="ttname"><a href="../../d8/d11/a01178.html#a4c691e5e8199666ba7e95e2df7d49b96">com.cliffc.aa.node.PrimNode.as_fun</a></div><div class="ttdeci">FunPtrNode as_fun(GVNGCM gvn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df5/a00137_source.html#l00178">PrimNode.java:178</a></div></div>
<div class="ttc" id="aa01350_html"><div class="ttname"><a href="../../da/d61/a01350.html">com.cliffc.aa.node.RegionNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dce/a00143_source.html#l00011">RegionNode.java:11</a></div></div>
<div class="ttc" id="aa01398_html_a37ffb44f488648e80ce8621724180b32"><div class="ttname"><a href="../../da/de3/a01398.html#a37ffb44f488648e80ce8621724180b32">com.cliffc.aa.Parse._buf</a></div><div class="ttdeci">final byte[] _buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00071">Parse.java:71</a></div></div>
<div class="ttc" id="aa01166_html_a015093c76a85b1f00ad4afc08b5b8241"><div class="ttname"><a href="../../dc/dee/a01166.html#a015093c76a85b1f00ad4afc08b5b8241">com.cliffc.aa.node.Node.ErrMsg.forward_ref</a></div><div class="ttdeci">static ErrMsg forward_ref(Parse loc, FunPtrNode fun)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00896">Node.java:896</a></div></div>
<div class="ttc" id="aa01550_html"><div class="ttname"><a href="../../d8/daf/a01550.html">com.cliffc.aa.util.AryInt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00260_source.html#l00008">AryInt.java:8</a></div></div>
<div class="ttc" id="aa01398_html_a4092ce9560331b1ca5975ee8123a3a00"><div class="ttname"><a href="../../da/de3/a01398.html#a4092ce9560331b1ca5975ee8123a3a00">com.cliffc.aa.Parse.bal_open</a></div><div class="ttdeci">UnOrFunPtrNode bal_open()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01054">Parse.java:1054</a></div></div>
<div class="ttc" id="aa01398_html_a94ed5d5f61b9f2ca3f52c9b4886408de"><div class="ttname"><a href="../../da/de3/a01398.html#a94ed5d5f61b9f2ca3f52c9b4886408de">com.cliffc.aa.Parse.args</a></div><div class="ttdeci">Node[] args(Node a0, Node a1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01395">Parse.java:1395</a></div></div>
<div class="ttc" id="aa00378_html_a2266a7c52c83d25a9ef2232e6b24d7e2"><div class="ttname"><a href="../../d7/d08/a00378.html#a2266a7c52c83d25a9ef2232e6b24d7e2">com.cliffc.aa.Env.ANY</a></div><div class="ttdeci">static ConNode ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00024">Env.java:24</a></div></div>
<div class="ttc" id="aa00382_html_a51facebfc1ad9583e2aa7a44ea5e5cf5"><div class="ttname"><a href="../../d3/d45/a00382.html#a51facebfc1ad9583e2aa7a44ea5e5cf5">com.cliffc.aa.Env.VStack.add_var</a></div><div class="ttdeci">String add_var(String fld, TV2 tv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00261">Env.java:261</a></div></div>
<div class="ttc" id="aa00348_html"><div class="ttname"><a href="../../df/d03/a00348.html">com</a></div></div>
<div class="ttc" id="aa01398_html_a3d2b9c687f747bb1f28fbf64f126c002"><div class="ttname"><a href="../../da/de3/a01398.html#a3d2b9c687f747bb1f28fbf64f126c002">com.cliffc.aa.Parse.err_ctrl2</a></div><div class="ttdeci">ErrNode err_ctrl2(String msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01438">Parse.java:1438</a></div></div>
<div class="ttc" id="aa01134_html_a06afa34c5086b8c837374c554dc580cc"><div class="ttname"><a href="../../dd/de2/a01134.html#a06afa34c5086b8c837374c554dc580cc">com.cliffc.aa.node.NewObjNode._fld_starts</a></div><div class="ttdeci">Parse[] _fld_starts</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00022">NewObjNode.java:22</a></div></div>
<div class="ttc" id="aa01398_html_a3ce3409203fa4d16cb65a708de63046b"><div class="ttname"><a href="../../da/de3/a01398.html#a3ce3409203fa4d16cb65a708de63046b">com.cliffc.aa.Parse.lookup_scope</a></div><div class="ttdeci">ScopeNode lookup_scope(String tok, boolean lookup_current_scope_only)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01373">Parse.java:1373</a></div></div>
<div class="ttc" id="aa01550_html_ad4a0cb619aba4a21b05006e674dbf87f"><div class="ttname"><a href="../../d8/daf/a01550.html#ad4a0cb619aba4a21b05006e674dbf87f">com.cliffc.aa.util.AryInt._len</a></div><div class="ttdeci">int _len</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd7/a00260_source.html#l00010">AryInt.java:10</a></div></div>
<div class="ttc" id="aa01398_html_a5a80391a2c91183b97b5bfbb3dfa7eb9"><div class="ttname"><a href="../../da/de3/a01398.html#a5a80391a2c91183b97b5bfbb3dfa7eb9">com.cliffc.aa.Parse.peek1</a></div><div class="ttdeci">boolean peek1(String tok)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01317">Parse.java:1317</a></div></div>
<div class="ttc" id="aa01494_html_ae7d48276898d3e1a6852ac71d53ff095"><div class="ttname"><a href="../../d6/d51/a01494.html#ae7d48276898d3e1a6852ac71d53ff095">com.cliffc.aa.type.TypeMem.MEM</a></div><div class="ttdeci">static final TypeMem MEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d01/a00227_source.html#l00224">TypeMem.java:224</a></div></div>
<div class="ttc" id="aa00378_html_a1b0669a4008a623e544af1259f425f82"><div class="ttname"><a href="../../d7/d08/a00378.html#a1b0669a4008a623e544af1259f425f82">com.cliffc.aa.Env.DEFMEM</a></div><div class="ttdeci">static DefMemNode DEFMEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00019">Env.java:19</a></div></div>
<div class="ttc" id="aa00378_html_af4bc5ac4070d80816f02ed287b24817e"><div class="ttname"><a href="../../d7/d08/a00378.html#af4bc5ac4070d80816f02ed287b24817e">com.cliffc.aa.Env.lookup_filter_fresh</a></div><div class="ttdeci">UnOrFunPtrNode lookup_filter_fresh(String name, int nargs, Node ctrl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00203">Env.java:203</a></div></div>
<div class="ttc" id="aa01158_html_a512496941a4b0d7e291ff7ae0c8ccbfb"><div class="ttname"><a href="../../df/db5/a01158.html#a512496941a4b0d7e291ff7ae0c8ccbfb">com.cliffc.aa.node.Node.op_prec</a></div><div class="ttdeci">byte op_prec()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00533">Node.java:533</a></div></div>
<div class="ttc" id="aa00378_html"><div class="ttname"><a href="../../d7/d08/a00378.html">com.cliffc.aa.Env</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00012">Env.java:12</a></div></div>
<div class="ttc" id="aa01430_html_a7d2e985901f6a700c2dd2ff53c051e10"><div class="ttname"><a href="../../d8/dd0/a01430.html#a7d2e985901f6a700c2dd2ff53c051e10">com.cliffc.aa.type.BitsAlias.STR</a></div><div class="ttdeci">static final int STR</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd0/a00191_source.html#l00025">BitsAlias.java:25</a></div></div>
<div class="ttc" id="aa00394_html_aef4ee3741fae6e47b9275f60a1fd66d3"><div class="ttname"><a href="../../d9/dad/a00394.html#aef4ee3741fae6e47b9275f60a1fd66d3">com.cliffc.aa.GVNGCM.Mode.Parse</a></div><div class="ttdeci">Parse</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00015">GVNGCM.java:15</a></div></div>
<div class="ttc" id="aa01634_html_a810e7fa54cbd178760c86b30b2aa893c"><div class="ttname"><a href="../../d4/d99/a01634.html#a810e7fa54cbd178760c86b30b2aa893c">com.cliffc.aa.util.SB.toString</a></div><div class="ttdeci">String toString()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d04/a00281_source.html#l00062">SB.java:62</a></div></div>
<div class="ttc" id="aa01358_html_ae82fad194d042fa512afc1d75eba9c76"><div class="ttname"><a href="../../de/d5c/a01358.html#ae82fad194d042fa512afc1d75eba9c76">com.cliffc.aa.node.ScopeNode.set_mem</a></div><div class="ttdeci">Node set_mem(Node n)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00054">ScopeNode.java:54</a></div></div>
<div class="ttc" id="aa01398_html_a2a5934e98ffa96d31e2135ab66c7e796"><div class="ttname"><a href="../../da/de3/a01398.html#a2a5934e98ffa96d31e2135ab66c7e796">com.cliffc.aa.Parse.stmt</a></div><div class="ttdeci">Node stmt(boolean lookup_current_scope_only)</div><div class="ttdoc">A statement is a list of variables to final-assign or re-assign, and an ifex for the value.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00268">Parse.java:268</a></div></div>
<div class="ttc" id="aa00382_html_a2d7e237a0cdc862a4ea838acb8cf9331"><div class="ttname"><a href="../../d3/d45/a00382.html#a2d7e237a0cdc862a4ea838acb8cf9331">com.cliffc.aa.Env.VStack.compact</a></div><div class="ttdeci">TV2[] compact()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00267">Env.java:267</a></div></div>
<div class="ttc" id="aa00353_html"><div class="ttname"><a href="../../db/ddc/a00353.html">com.cliffc.aa.type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d15/a00188_source.html#l00001">Bits.java:1</a></div></div>
<div class="ttc" id="aa01398_html_acbcb660e5a4a1dabeaadcfa84f078c06"><div class="ttname"><a href="../../da/de3/a01398.html#acbcb660e5a4a1dabeaadcfa84f078c06">com.cliffc.aa.Parse.Parse</a></div><div class="ttdeci">Parse(String src, Env env, String str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00082">Parse.java:82</a></div></div>
<div class="ttc" id="aa00390_html_ab9ca8498e36ef4261363a01f68523fc3"><div class="ttname"><a href="../../d9/d0a/a00390.html#ab9ca8498e36ef4261363a01f68523fc3">com.cliffc.aa.GVNGCM.init</a></div><div class="ttdeci">public&lt; N extends Node &gt; N init(N n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00099">GVNGCM.java:99</a></div></div>
<div class="ttc" id="aa01158_html_a24ecbb219b172a53198e2542ab0ac404"><div class="ttname"><a href="../../df/db5/a01158.html#a24ecbb219b172a53198e2542ab0ac404">com.cliffc.aa.node.Node._defs</a></div><div class="ttdeci">Ary&lt; Node &gt; _defs</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00124">Node.java:124</a></div></div>
<div class="ttc" id="aa01386_html_abfb2c975501644933081cf75a2ad47a5"><div class="ttname"><a href="../../d3/deb/a01386.html#abfb2c975501644933081cf75a2ad47a5">com.cliffc.aa.node.UnOrFunPtrNode.funptr</a></div><div class="ttdeci">abstract FunPtrNode funptr()</div></div>
<div class="ttc" id="aa01050_html_a61f716b3e36146f3f56fc69dd8ab7cc8"><div class="ttname"><a href="../../d9/d8e/a01050.html#a61f716b3e36146f3f56fc69dd8ab7cc8">com.cliffc.aa.node.FunNode._thunk_rhs</a></div><div class="ttdeci">final boolean _thunk_rhs</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d1f/a00083_source.html#l00068">FunNode.java:68</a></div></div>
<div class="ttc" id="aa01498_html"><div class="ttname"><a href="../../d6/dc9/a01498.html">com.cliffc.aa.type.TypeMemPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00014">TypeMemPtr.java:14</a></div></div>
<div class="ttc" id="aa01398_html"><div class="ttname"><a href="../../da/de3/a01398.html">com.cliffc.aa.Parse</a></div><div class="ttdoc">an implementation of language AA</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00068">Parse.java:68</a></div></div>
<div class="ttc" id="aa01398_html_a0ec3257f6fb8881b7cae406c147082af"><div class="ttname"><a href="../../da/de3/a01398.html#a0ec3257f6fb8881b7cae406c147082af">com.cliffc.aa.Parse.args</a></div><div class="ttdeci">Node[] args(Node a0, Node a1, Node a2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01396">Parse.java:1396</a></div></div>
<div class="ttc" id="aa00378_html_a2632f934894ac8f5b54c2a8f14bba771"><div class="ttname"><a href="../../d7/d08/a00378.html#a2632f934894ac8f5b54c2a8f14bba771">com.cliffc.aa.Env.ALL_CTRL</a></div><div class="ttdeci">static ConNode ALL_CTRL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00020">Env.java:20</a></div></div>
<div class="ttc" id="aa01398_html_a82ba72b2499417c9561ed968ddf9666a"><div class="ttname"><a href="../../da/de3/a01398.html#a82ba72b2499417c9561ed968ddf9666a">com.cliffc.aa.Parse.stmts</a></div><div class="ttdeci">Node stmts()</div><div class="ttdoc">Parse a list of statements; final semi-colon is optional.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00167">Parse.java:167</a></div></div>
<div class="ttc" id="aa01398_html_a7de58cb94e034d32c45310fa8d87f292"><div class="ttname"><a href="../../da/de3/a01398.html#a7de58cb94e034d32c45310fa8d87f292">com.cliffc.aa.Parse.tstmt</a></div><div class="ttdeci">Node tstmt()</div><div class="ttdoc">A type-statement assigns a type to a type variable.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00195">Parse.java:195</a></div></div>
<div class="ttc" id="aa00351_html"><div class="ttname"><a href="../../d0/d48/a00351.html">com.cliffc.aa.node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2d/a00047_source.html#l00001">AssertNode.java:1</a></div></div>
<div class="ttc" id="aa00394_html"><div class="ttname"><a href="../../d9/dad/a00394.html">com.cliffc.aa.GVNGCM.Mode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de7/a00014_source.html#l00014">GVNGCM.java:14</a></div></div>
<div class="ttc" id="aa00378_html_a42e71dfd1f2f65a3cb25c9cd210dafb0"><div class="ttname"><a href="../../d7/d08/a00378.html#a42e71dfd1f2f65a3cb25c9cd210dafb0">com.cliffc.aa.Env.lookup_scope</a></div><div class="ttdeci">ScopeNode lookup_scope(String name, boolean lookup_current_scope_only)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00177">Env.java:177</a></div></div>
<div class="ttc" id="aa01358_html_a0e8b9662df99b6290a1204f31999873f"><div class="ttname"><a href="../../de/d5c/a01358.html#a0e8b9662df99b6290a1204f31999873f">com.cliffc.aa.node.ScopeNode.replace_mem</a></div><div class="ttdeci">void replace_mem(Node st)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00069">ScopeNode.java:69</a></div></div>
<div class="ttc" id="aa01398_html_a3a562163dc71952bd9051d5193c00a65"><div class="ttname"><a href="../../da/de3/a01398.html#a3a562163dc71952bd9051d5193c00a65">com.cliffc.aa.Parse.token</a></div><div class="ttdeci">String token()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01072">Parse.java:1072</a></div></div>
<div class="ttc" id="aa01398_html_a05da96b3f1e33d3e36188d5c72b8188b"><div class="ttname"><a href="../../da/de3/a01398.html#a05da96b3f1e33d3e36188d5c72b8188b">com.cliffc.aa.Parse.type0</a></div><div class="ttdeci">Type type0(boolean type_var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01185">Parse.java:1185</a></div></div>
<div class="ttc" id="aa01398_html_a46dce8b4234acbc73175269dd3a31135"><div class="ttname"><a href="../../da/de3/a01398.html#a46dce8b4234acbc73175269dd3a31135">com.cliffc.aa.Parse._lines</a></div><div class="ttdeci">final AryInt _lines</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l00074">Parse.java:74</a></div></div>
<div class="ttc" id="aa01358_html_a09cdd56e51abdf6fa73e8051dd30f929"><div class="ttname"><a href="../../de/d5c/a01358.html#a09cdd56e51abdf6fa73e8051dd30f929">com.cliffc.aa.node.ScopeNode.early_val</a></div><div class="ttdeci">PhiNode early_val()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1e/a00149_source.html#l00081">ScopeNode.java:81</a></div></div>
<div class="ttc" id="aa01398_html_add75d4940edeaef88472954f30ea8c70"><div class="ttname"><a href="../../da/de3/a01398.html#add75d4940edeaef88472954f30ea8c70">com.cliffc.aa.Parse._args</a></div><div class="ttdeci">Node[] _args(Node[] args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de9/a00176_source.html#l01398">Parse.java:1398</a></div></div>
<div class="ttc" id="aa01498_html_adeddf1e33c774f9440baf7aac978c090"><div class="ttname"><a href="../../d6/dc9/a01498.html#adeddf1e33c774f9440baf7aac978c090">com.cliffc.aa.type.TypeMemPtr.make</a></div><div class="ttdeci">static TypeMemPtr make(BitsAlias aliases, TypeObj obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da8/a00230_source.html#l00066">TypeMemPtr.java:66</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5eb159725f84c66aafd839904a4acdd0.html">main</a></li><li class="navelem"><a class="el" href="../../dir_fd3f6763802dee1ad875f6c80eac0bda.html">java</a></li><li class="navelem"><a class="el" href="../../dir_d8517d8b842053dc3dd7dde525dd9163.html">com</a></li><li class="navelem"><a class="el" href="../../dir_56acb4c897cae467839e432eb6d90ced.html">cliffc</a></li><li class="navelem"><a class="el" href="../../dir_4bf2c2aaa4c8c297b7b3132f0a2c4126.html">aa</a></li><li class="navelem"><a class="el" href="../../d5/de9/a00176.html">Parse.java</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
