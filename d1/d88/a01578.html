<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>aa: com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">aa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d88/a01578.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pac-static-methods">Static Package Functions</a> &#124;
<a href="#pac-static-attribs">Static Package Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d4/d2c/a01575.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A lock-free alternate implementation of <a class="el" href="../../">java.util.concurrent.ConcurrentHashMap</a> with better scaling properties and generally lower costs to mutate the Map.  
 <a href="../../d1/d88/a01578.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/daa/a01577.svg" width="100%" height="481"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../db/dfd/a01576.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html">CHM</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/da5/a01598.html">NBHMEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/a01582.html">Prime</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dcf/a01602.html">SnapshotE</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/def/a01594.html">SnapshotK</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d49/a01590.html">SnapshotV</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa5a4a7c2e7bcf912ab8659068dd2823b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a> ()</td></tr>
<tr class="memdesc:aa5a4a7c2e7bcf912ab8659068dd2823b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="../../d1/d88/a01578.html" title="A lock-free alternate implementation of java.util.concurrent.ConcurrentHashMap with better scaling pr...">NonBlockingHashMap</a> with default minimum size (currently set to 8 K/V pairs or roughly 84 bytes on a standard 32-bit JVM).  <a href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">More...</a><br /></td></tr>
<tr class="separator:aa5a4a7c2e7bcf912ab8659068dd2823b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427e49ce6d59cf5510cd815b34c2b82b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a427e49ce6d59cf5510cd815b34c2b82b">NonBlockingHashMap</a> (final int initial_sz)</td></tr>
<tr class="memdesc:a427e49ce6d59cf5510cd815b34c2b82b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="../../d1/d88/a01578.html" title="A lock-free alternate implementation of java.util.concurrent.ConcurrentHashMap with better scaling pr...">NonBlockingHashMap</a> with initial room for the given number of elements, thus avoiding internal resizing operations to reach an appropriate size.  <a href="../../d1/d88/a01578.html#a427e49ce6d59cf5510cd815b34c2b82b">More...</a><br /></td></tr>
<tr class="separator:a427e49ce6d59cf5510cd815b34c2b82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41578dafc2cc1570dce5f16ba4a7b473"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a41578dafc2cc1570dce5f16ba4a7b473">clear</a> ()</td></tr>
<tr class="memdesc:a41578dafc2cc1570dce5f16ba4a7b473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all of the mappings from this map.  <a href="../../d1/d88/a01578.html#a41578dafc2cc1570dce5f16ba4a7b473">More...</a><br /></td></tr>
<tr class="separator:a41578dafc2cc1570dce5f16ba4a7b473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc0e95bdf9baf70b8079f9cb0a629ea"><td class="memItemLeft" align="right" valign="top">Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a4bc0e95bdf9baf70b8079f9cb0a629ea">clone</a> ()</td></tr>
<tr class="memdesc:a4bc0e95bdf9baf70b8079f9cb0a629ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a shallow copy of this hashtable.  <a href="../../d1/d88/a01578.html#a4bc0e95bdf9baf70b8079f9cb0a629ea">More...</a><br /></td></tr>
<tr class="separator:a4bc0e95bdf9baf70b8079f9cb0a629ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e50dd4a2bb1a50cc21427052074825"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a67e50dd4a2bb1a50cc21427052074825">contains</a> (Object <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="memdesc:a67e50dd4a2bb1a50cc21427052074825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Legacy method testing if some key maps into the specified value in this table.  <a href="../../d1/d88/a01578.html#a67e50dd4a2bb1a50cc21427052074825">More...</a><br /></td></tr>
<tr class="separator:a67e50dd4a2bb1a50cc21427052074825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1225e5842170b7a780c5def2c172e2cd"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a1225e5842170b7a780c5def2c172e2cd">containsKey</a> (Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="memdesc:a1225e5842170b7a780c5def2c172e2cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the key in the table using the <code>equals</code> method.  <a href="../../d1/d88/a01578.html#a1225e5842170b7a780c5def2c172e2cd">More...</a><br /></td></tr>
<tr class="separator:a1225e5842170b7a780c5def2c172e2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016e347fbfcc37c612d1feae0a9e450f"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a016e347fbfcc37c612d1feae0a9e450f">containsValue</a> (final Object <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="memdesc:a016e347fbfcc37c612d1feae0a9e450f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if this Map maps one or more keys to the specified value.  <a href="../../d1/d88/a01578.html#a016e347fbfcc37c612d1feae0a9e450f">More...</a><br /></td></tr>
<tr class="separator:a016e347fbfcc37c612d1feae0a9e450f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dfea67e36a39738bcb9844de13dd935"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dff/a02506.html">Enumeration</a>&lt; TypeV &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a0dfea67e36a39738bcb9844de13dd935">elements</a> ()</td></tr>
<tr class="memdesc:a0dfea67e36a39738bcb9844de13dd935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an enumeration of the values in this table.  <a href="../../d1/d88/a01578.html#a0dfea67e36a39738bcb9844de13dd935">More...</a><br /></td></tr>
<tr class="separator:a0dfea67e36a39738bcb9844de13dd935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ab0f7012b12477e4a52081d23523d8"><td class="memItemLeft" align="right" valign="top">Set&lt; Map.Entry&lt; TypeK, TypeV &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ae7ab0f7012b12477e4a52081d23523d8">entrySet</a> ()</td></tr>
<tr class="memdesc:ae7ab0f7012b12477e4a52081d23523d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="../../">Set</a> view of the mappings contained in this map.  <a href="../../d1/d88/a01578.html#ae7ab0f7012b12477e4a52081d23523d8">More...</a><br /></td></tr>
<tr class="separator:ae7ab0f7012b12477e4a52081d23523d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a826f06d155e8bb331a58ac3b65b4ba"><td class="memItemLeft" align="right" valign="top">TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a2a826f06d155e8bb331a58ac3b65b4ba">get</a> (Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="memdesc:a2a826f06d155e8bb331a58ac3b65b4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value to which the specified key is mapped, or.  <a href="../../d1/d88/a01578.html#a2a826f06d155e8bb331a58ac3b65b4ba">More...</a><br /></td></tr>
<tr class="separator:a2a826f06d155e8bb331a58ac3b65b4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49f4698fa048af8ec4cec0e0e13d7c1b"><td class="memItemLeft" align="right" valign="top">TypeK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a49f4698fa048af8ec4cec0e0e13d7c1b">getk</a> (TypeK <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="memdesc:a49f4698fa048af8ec4cec0e0e13d7c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Key to which the specified key is mapped, or.  <a href="../../d1/d88/a01578.html#a49f4698fa048af8ec4cec0e0e13d7c1b">More...</a><br /></td></tr>
<tr class="separator:a49f4698fa048af8ec4cec0e0e13d7c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73197022ecced0d249ebfff22214793f"><td class="memItemLeft" align="right" valign="top">TypeK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a73197022ecced0d249ebfff22214793f">getKey</a> ()</td></tr>
<tr class="separator:a73197022ecced0d249ebfff22214793f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422283acfb44f1e28410d99ce9c35f54"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a422283acfb44f1e28410d99ce9c35f54">isEmpty</a> ()</td></tr>
<tr class="memdesc:a422283acfb44f1e28410d99ce9c35f54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code><a class="el" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef" title="Returns the number of key-value mappings in this map.">size()</a> == 0</code>.  <a href="../../d1/d88/a01578.html#a422283acfb44f1e28410d99ce9c35f54">More...</a><br /></td></tr>
<tr class="separator:a422283acfb44f1e28410d99ce9c35f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cd2147c58e54c3c194e3016f5521c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dff/a02506.html">Enumeration</a>&lt; TypeK &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ae3cd2147c58e54c3c194e3016f5521c8">keys</a> ()</td></tr>
<tr class="memdesc:ae3cd2147c58e54c3c194e3016f5521c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an enumeration of the keys in this table.  <a href="../../d1/d88/a01578.html#ae3cd2147c58e54c3c194e3016f5521c8">More...</a><br /></td></tr>
<tr class="separator:ae3cd2147c58e54c3c194e3016f5521c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70355b993683e31ca9f621a16dfebbad"><td class="memItemLeft" align="right" valign="top">Set&lt; TypeK &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad">keySet</a> ()</td></tr>
<tr class="memdesc:a70355b993683e31ca9f621a16dfebbad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="../../">Set</a> view of the keys contained in this map.  <a href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad">More...</a><br /></td></tr>
<tr class="separator:a70355b993683e31ca9f621a16dfebbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6253bb32cd7b713625eebacc54ba5292"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a6253bb32cd7b713625eebacc54ba5292">print</a> ()</td></tr>
<tr class="memdesc:a6253bb32cd7b713625eebacc54ba5292"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verbose printout of table internals, useful for debugging.  <a href="../../d1/d88/a01578.html#a6253bb32cd7b713625eebacc54ba5292">More...</a><br /></td></tr>
<tr class="separator:a6253bb32cd7b713625eebacc54ba5292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173a0399a8be0ce533fa8293f931510a"><td class="memItemLeft" align="right" valign="top">TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">put</a> (TypeK <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, TypeV <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="memdesc:a173a0399a8be0ce533fa8293f931510a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps the specified key to the specified value in the table.  <a href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">More...</a><br /></td></tr>
<tr class="separator:a173a0399a8be0ce533fa8293f931510a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e33a0d7b302d02b3dcf33a26ed5071"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a03e33a0d7b302d02b3dcf33a26ed5071">putAll</a> (Map&lt;? extends TypeK, ? extends TypeV &gt; m)</td></tr>
<tr class="memdesc:a03e33a0d7b302d02b3dcf33a26ed5071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies all of the mappings from the specified map to this one, replacing any existing mappings.  <a href="../../d1/d88/a01578.html#a03e33a0d7b302d02b3dcf33a26ed5071">More...</a><br /></td></tr>
<tr class="separator:a03e33a0d7b302d02b3dcf33a26ed5071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d350d73a1d39668f151a06e47c87b7"><td class="memItemLeft" align="right" valign="top">TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#af1d350d73a1d39668f151a06e47c87b7">putIfAbsent</a> (TypeK <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, TypeV <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="memdesc:af1d350d73a1d39668f151a06e47c87b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically, do a <a class="el" href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">put</a> if-and-only-if the key is not mapped.  <a href="../../d1/d88/a01578.html#af1d350d73a1d39668f151a06e47c87b7">More...</a><br /></td></tr>
<tr class="separator:af1d350d73a1d39668f151a06e47c87b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1b68c203e1b0abdf4cc2d76249d2b5"><td class="memItemLeft" align="right" valign="top">final TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a5b1b68c203e1b0abdf4cc2d76249d2b5">putIfMatchAllowNull</a> (Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, Object newVal, Object oldVal)</td></tr>
<tr class="separator:a5b1b68c203e1b0abdf4cc2d76249d2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94aaba238aaba8f4c28e407e53879b3a"><td class="memItemLeft" align="right" valign="top">Object[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a94aaba238aaba8f4c28e407e53879b3a">raw_array</a> ()</td></tr>
<tr class="separator:a94aaba238aaba8f4c28e407e53879b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0cc3951d8054357105de8932cbf9801"><td class="memItemLeft" align="right" valign="top">TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#af0cc3951d8054357105de8932cbf9801">remove</a> (Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="memdesc:af0cc3951d8054357105de8932cbf9801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the key (and its corresponding value) from this map.  <a href="../../d1/d88/a01578.html#af0cc3951d8054357105de8932cbf9801">More...</a><br /></td></tr>
<tr class="separator:af0cc3951d8054357105de8932cbf9801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6001ba2cd7ae216c138e96199400c9c2"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a6001ba2cd7ae216c138e96199400c9c2">remove</a> (Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, Object <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="memdesc:a6001ba2cd7ae216c138e96199400c9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically do a <a class="el" href="../../d1/d88/a01578.html#af0cc3951d8054357105de8932cbf9801">remove(Object)</a> if-and-only-if the key is mapped to a value which is <code>equals</code> to the given value.  <a href="../../d1/d88/a01578.html#a6001ba2cd7ae216c138e96199400c9c2">More...</a><br /></td></tr>
<tr class="separator:a6001ba2cd7ae216c138e96199400c9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0547ef941313b7cb4a3c0d9026d739d0"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a0547ef941313b7cb4a3c0d9026d739d0">replace</a> (TypeK <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, TypeV oldValue, TypeV newValue)</td></tr>
<tr class="memdesc:a0547ef941313b7cb4a3c0d9026d739d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically do a <code>put(key,newValue)</code> if-and-only-if the key is mapped a value which is <code>equals</code> to <code>oldValue</code>.  <a href="../../d1/d88/a01578.html#a0547ef941313b7cb4a3c0d9026d739d0">More...</a><br /></td></tr>
<tr class="separator:a0547ef941313b7cb4a3c0d9026d739d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eddb22ee08ee10f0b96c4e31a280038"><td class="memItemLeft" align="right" valign="top">TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a5eddb22ee08ee10f0b96c4e31a280038">replace</a> (TypeK <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, TypeV <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="memdesc:a5eddb22ee08ee10f0b96c4e31a280038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically do a <code>put(key,val)</code> if-and-only-if the key is mapped to some value already.  <a href="../../d1/d88/a01578.html#a5eddb22ee08ee10f0b96c4e31a280038">More...</a><br /></td></tr>
<tr class="separator:a5eddb22ee08ee10f0b96c4e31a280038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfb1116c7c9c9f86c366e012dfbf17e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a6bfb1116c7c9c9f86c366e012dfbf17e">reprobes</a> ()</td></tr>
<tr class="memdesc:a6bfb1116c7c9c9f86c366e012dfbf17e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get and clear the current count of reprobes.  <a href="../../d1/d88/a01578.html#a6bfb1116c7c9c9f86c366e012dfbf17e">More...</a><br /></td></tr>
<tr class="separator:a6bfb1116c7c9c9f86c366e012dfbf17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca05011f2b72616c600a56f312d321ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">size</a> ()</td></tr>
<tr class="memdesc:aca05011f2b72616c600a56f312d321ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of key-value mappings in this map.  <a href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">More...</a><br /></td></tr>
<tr class="separator:aca05011f2b72616c600a56f312d321ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8aef4d71cf6778b7cc44b9e0fc33985"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ad8aef4d71cf6778b7cc44b9e0fc33985">toString</a> ()</td></tr>
<tr class="memdesc:ad8aef4d71cf6778b7cc44b9e0fc33985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of this map.  <a href="../../d1/d88/a01578.html#ad8aef4d71cf6778b7cc44b9e0fc33985">More...</a><br /></td></tr>
<tr class="separator:ad8aef4d71cf6778b7cc44b9e0fc33985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea275e426eccf899ad2f0e03f64728b"><td class="memItemLeft" align="right" valign="top">Collection&lt; TypeV &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a1ea275e426eccf899ad2f0e03f64728b">values</a> ()</td></tr>
<tr class="memdesc:a1ea275e426eccf899ad2f0e03f64728b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="../../">Collection</a> view of the values contained in this map.  <a href="../../d1/d88/a01578.html#a1ea275e426eccf899ad2f0e03f64728b">More...</a><br /></td></tr>
<tr class="separator:a1ea275e426eccf899ad2f0e03f64728b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a73d36f36b4d06eaeee5e2a5331118f33"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> = new Object()</td></tr>
<tr class="separator:a73d36f36b4d06eaeee5e2a5331118f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad31298afc7fd95cf38cfc20ef53dcf9a"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ad31298afc7fd95cf38cfc20ef53dcf9a">initialize</a> ()</td></tr>
<tr class="separator:ad31298afc7fd95cf38cfc20ef53dcf9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b043735ab8cc9dd38de1772f83b11f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a9b043735ab8cc9dd38de1772f83b11f4">rehash</a> ()</td></tr>
<tr class="separator:a9b043735ab8cc9dd38de1772f83b11f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-static-methods"></a>
Static Package Functions</h2></td></tr>
<tr class="memitem:ae6382b3fe7386b3a871fb69e7e7b9bc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ae6382b3fe7386b3a871fb69e7e7b9bc1">[static initializer]</a></td></tr>
<tr class="separator:ae6382b3fe7386b3a871fb69e7e7b9bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-static-attribs"></a>
Static Package Attributes</h2></td></tr>
<tr class="memitem:a64920034ee7c8e3e966a536a36b37062"><td class="memItemLeft" align="right" valign="top">static volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a64920034ee7c8e3e966a536a36b37062">DUMMY_VOLATILE</a></td></tr>
<tr class="separator:a64920034ee7c8e3e966a536a36b37062"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a260eace7b16370bdf1ebb67f0f21b251"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a260eace7b16370bdf1ebb67f0f21b251">CAS_kvs</a> (final Object[] oldkvs, final Object[] newkvs)</td></tr>
<tr class="separator:a260eace7b16370bdf1ebb67f0f21b251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9ed5c1410821a369a111421023deec"><td class="memItemLeft" align="right" valign="top">final Object[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#aee9ed5c1410821a369a111421023deec">help_copy</a> (Object[] helper)</td></tr>
<tr class="separator:aee9ed5c1410821a369a111421023deec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d369c84ddfa3cc4aa1e7b5bd7b52a8"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a86d369c84ddfa3cc4aa1e7b5bd7b52a8">initialize</a> (int initial_sz)</td></tr>
<tr class="separator:a86d369c84ddfa3cc4aa1e7b5bd7b52a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f909d380f1f7cfef951b7ac8329d94"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a82f909d380f1f7cfef951b7ac8329d94">print</a> (Object[] kvs)</td></tr>
<tr class="separator:a82f909d380f1f7cfef951b7ac8329d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba29b0d8df543f7a59129d27f5826c9a"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#aba29b0d8df543f7a59129d27f5826c9a">print2</a> (Object[] kvs)</td></tr>
<tr class="separator:aba29b0d8df543f7a59129d27f5826c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c31fa94e334f5bb1e508349061b058"><td class="memItemLeft" align="right" valign="top">final TypeV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a> (Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, Object newVal, Object oldVal)</td></tr>
<tr class="separator:a39c31fa94e334f5bb1e508349061b058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af841c66640102303c22e32ea3c5be39a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#af841c66640102303c22e32ea3c5be39a">readObject</a> (java.io.ObjectInputStream s)  throws IOException, ClassNotFoundException </td></tr>
<tr class="separator:af841c66640102303c22e32ea3c5be39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5f285326b27962079e131b4903665a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a5f5f285326b27962079e131b4903665a">writeObject</a> (java.io.ObjectOutputStream s)  throws IOException  </td></tr>
<tr class="separator:a5f5f285326b27962079e131b4903665a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a21c3e2311c668431c60603113a2ea36f"><td class="memItemLeft" align="right" valign="top">static Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a21c3e2311c668431c60603113a2ea36f">_getKey</a> (Object[] kvs)</td></tr>
<tr class="separator:a21c3e2311c668431c60603113a2ea36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8631d4996a2fe7a961ee7a1ce04aac"><td class="memItemLeft" align="right" valign="top">static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a0f8631d4996a2fe7a961ee7a1ce04aac">CAS_key</a> (Object[] kvs, int idx, Object old, Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="separator:a0f8631d4996a2fe7a961ee7a1ce04aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdccf6b774bcd40e49b9befaddcff62f"><td class="memItemLeft" align="right" valign="top">static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#acdccf6b774bcd40e49b9befaddcff62f">CAS_val</a> (Object[] kvs, int idx, Object old, Object <a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>)</td></tr>
<tr class="separator:acdccf6b774bcd40e49b9befaddcff62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a115294c7aac1ca8f3439ce725c0b025d"><td class="memItemLeft" align="right" valign="top">static final <a class="el" href="../../d2/d2f/a01586.html">CHM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a> (Object[] kvs)</td></tr>
<tr class="separator:a115294c7aac1ca8f3439ce725c0b025d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bab2e9a84a115e693c549ceca1ec335"><td class="memItemLeft" align="right" valign="top">static Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a3bab2e9a84a115e693c549ceca1ec335">get_impl</a> (final <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, final Object[] kvs, final Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="separator:a3bab2e9a84a115e693c549ceca1ec335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279ff4e8be63d9a354b52cc0e708eee6"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a279ff4e8be63d9a354b52cc0e708eee6">getk_impl</a> (final <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, final Object[] kvs, final Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="separator:a279ff4e8be63d9a354b52cc0e708eee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4af3f9c0ac82532eb4a94a1ea2d3fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a> (final Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>)</td></tr>
<tr class="separator:a8c4af3f9c0ac82532eb4a94a1ea2d3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3a8cee989940e81156e7797fb1e64d"><td class="memItemLeft" align="right" valign="top">static final int[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a> (Object[] kvs)</td></tr>
<tr class="separator:a9f3a8cee989940e81156e7797fb1e64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17cadc8cc7460b02f6f76100f6e64513"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> (Object[] kvs, int idx)</td></tr>
<tr class="separator:a17cadc8cc7460b02f6f76100f6e64513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bfd6f803c25fcc9cfb1dc5e547cc4f3"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a8bfd6f803c25fcc9cfb1dc5e547cc4f3">keyeq</a> (Object K, Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, int[] <a class="el" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>, int <a class="el" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a>, int fullhash)</td></tr>
<tr class="separator:a8bfd6f803c25fcc9cfb1dc5e547cc4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1835db75a57079b5194e312f8de3d3"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a> (Object[] kvs)</td></tr>
<tr class="separator:a6e1835db75a57079b5194e312f8de3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de08e8f6ee1fa095943fae0dda60b7a"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a5de08e8f6ee1fa095943fae0dda60b7a">putIfMatch</a> (final <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, final Object[] kvs, final Object <a class="el" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, final Object putval, final Object expVal)</td></tr>
<tr class="separator:a5de08e8f6ee1fa095943fae0dda60b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf58031418609a5bf8dd80de9d17d621"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#acf58031418609a5bf8dd80de9d17d621">rawIndex</a> (final Object[] ary, final int idx)</td></tr>
<tr class="separator:acf58031418609a5bf8dd80de9d17d621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36952c53870f9307338b1c5a4bf9258"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">reprobe_limit</a> (int <a class="el" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>)</td></tr>
<tr class="separator:ad36952c53870f9307338b1c5a4bf9258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae663333cf20049876dbf772db24daa32"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> (Object[] kvs, int idx)</td></tr>
<tr class="separator:ae663333cf20049876dbf772db24daa32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ace2bbe57bac92e9ee927fdd8d3884124"><td class="memItemLeft" align="right" valign="top">transient Object[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a></td></tr>
<tr class="separator:ace2bbe57bac92e9ee927fdd8d3884124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb9a2cd607ad286854c9b170b2417d7"><td class="memItemLeft" align="right" valign="top">transient long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#adcb9a2cd607ad286854c9b170b2417d7">_last_resize_milli</a></td></tr>
<tr class="separator:adcb9a2cd607ad286854c9b170b2417d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a64d4af5d87d6d47e02c6823ce46e04"><td class="memItemLeft" align="right" valign="top">transient <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a8a64d4af5d87d6d47e02c6823ce46e04">_reprobes</a> = new <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a>()</td></tr>
<tr class="separator:a8a64d4af5d87d6d47e02c6823ce46e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a091bf94c00a1b4f653c25ab36619c676"><td class="memItemLeft" align="right" valign="top">static final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a091bf94c00a1b4f653c25ab36619c676">_kvs_offset</a></td></tr>
<tr class="separator:a091bf94c00a1b4f653c25ab36619c676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9610b9098e45a1eefdf32aecfe2266e0"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a9610b9098e45a1eefdf32aecfe2266e0">_Obase</a> = _unsafe.arrayBaseOffset(Object[].class)</td></tr>
<tr class="separator:a9610b9098e45a1eefdf32aecfe2266e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c52ee60d8284ee765f487bee8dc2d45"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a0c52ee60d8284ee765f487bee8dc2d45">_Olog</a> = <a class="el" href="../../d1/d88/a01578.html#a4f84ef0037643b7a14d23103c907e7bd">_Oscale</a>==4?2:(<a class="el" href="../../d1/d88/a01578.html#a4f84ef0037643b7a14d23103c907e7bd">_Oscale</a>==8?3:9999)</td></tr>
<tr class="separator:a0c52ee60d8284ee765f487bee8dc2d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f84ef0037643b7a14d23103c907e7bd"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a4f84ef0037643b7a14d23103c907e7bd">_Oscale</a> = _unsafe.arrayIndexScale(Object[].class)</td></tr>
<tr class="separator:a4f84ef0037643b7a14d23103c907e7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf4b0f4f4f63df7896a8a788d42a752"><td class="memItemLeft" align="right" valign="top">static final Unsafe&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a3bf4b0f4f4f63df7896a8a788d42a752">_unsafe</a> = <a class="el" href="../../d7/d94/a01642.html#a2fcd3c4eb083b744f168496baef1afa0">UtilUnsafe.getUnsafe</a>()</td></tr>
<tr class="separator:a3bf4b0f4f4f63df7896a8a788d42a752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd293facb9f4aaea89a265775e91480"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a4fd293facb9f4aaea89a265775e91480">MATCH_ANY</a> = new Object()</td></tr>
<tr class="separator:a4fd293facb9f4aaea89a265775e91480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25496961ad3157c0701f88adfb49cd2"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#af25496961ad3157c0701f88adfb49cd2">MIN_SIZE</a> =(1&lt;&lt;<a class="el" href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">MIN_SIZE_LOG</a>)</td></tr>
<tr class="separator:af25496961ad3157c0701f88adfb49cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fad8e9cda544ddf7b4b4ea5d1ae0b4"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">MIN_SIZE_LOG</a> =3</td></tr>
<tr class="separator:ab2fad8e9cda544ddf7b4b4ea5d1ae0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac059be9599a72c86893355f0a657bf74"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ac059be9599a72c86893355f0a657bf74">NO_MATCH_OLD</a> = new Object()</td></tr>
<tr class="separator:ac059be9599a72c86893355f0a657bf74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5af05c979113a7acb20e9c222051b7a"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#ad5af05c979113a7acb20e9c222051b7a">REPROBE_LIMIT</a> =10</td></tr>
<tr class="separator:ad5af05c979113a7acb20e9c222051b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3f7965b6be70851f5dbd440a94884b"><td class="memItemLeft" align="right" valign="top">static final long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a9d3f7965b6be70851f5dbd440a94884b">serialVersionUID</a> = 1234123412341234123L</td></tr>
<tr class="separator:a9d3f7965b6be70851f5dbd440a94884b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0935e42c9a836308eb5f4ebae3f19ebc"><td class="memItemLeft" align="right" valign="top">static final <a class="el" href="../../d0/d21/a01582.html">Prime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">TOMBPRIME</a> = new <a class="el" href="../../d0/d21/a01582.html">Prime</a>(<a class="el" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>)</td></tr>
<tr class="separator:a0935e42c9a836308eb5f4ebae3f19ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A lock-free alternate implementation of <a class="el" href="../../">java.util.concurrent.ConcurrentHashMap</a> with better scaling properties and generally lower costs to mutate the Map. </p>
<p>It provides identical correctness properties as ConcurrentHashMap. All operations are non-blocking and multi-thread safe, including all update operations. <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> scales substantially better than <a class="el" href="../../">java.util.concurrent.ConcurrentHashMap</a> for high update rates, even with a large concurrency factor. Scaling is linear up to 768 CPUs on a 768-CPU Azul box, even with 100% updates or 100% reads or any fraction in-between. Linear scaling up to all cpus has been observed on a 32-way Sun US2 box, 32-way Sun Niagara box, 8-way Intel box and a 4-way Power box.</p>
<p>This class obeys the same functional specification as {<a class="el" href="../../">}, and includes versions of methods corresponding to each method of <code>Hashtable</code>. However, even though all operations are thread-safe, operations do <em>not</em> entail locking and there is <em>not</em> any support for locking the entire table in a way that prevents all access. This class is fully interoperable with <code>Hashtable</code> in programs that rely on its thread safety but not on its synchronization details. </a> Operations (including <code>put</code>) generally do not block, so may overlap with other update operations (including other <code>puts</code> and <code>removes</code>). Retrievals reflect the results of the most recently <em>completed</em> update operations holding upon their onset. For aggregate operations such as <code>putAll</code>, concurrent retrievals may reflect insertion or removal of only some entries. Similarly, Iterators and Enumerations return elements reflecting the state of the hash table at some point at or since the creation of the iterator/enumeration. They do <em>not</em> throw <a class="el" href="../../">ConcurrentModificationException</a>. However, iterators are designed to be used by only one thread at a time.</p>
<p>Very full tables, or tables with high reprobe rates may trigger an internal resize operation to move into a larger table. Resizing is not terribly expensive, but it is not free either; during resize operations table throughput may drop somewhat. All threads that visit the table during a resize will 'help' the resizing but will still be allowed to complete their operation before the resize is finished (i.e., a simple 'get' operation on a million-entry table undergoing resizing will not need to block until the entire million entries are copied).</p>
<p>This class and its views and iterators implement all of the <em>optional</em> methods of the <a class="el" href="../../">Map</a> and <a class="el" href="../../">Iterator</a> interfaces.</p>
<p>Like <a class="el" href="../../">Hashtable</a> but unlike <a class="el" href="../../">HashMap</a>, this class does <em>not</em> allow <code>null</code> to be used as a key or value.</p>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Cliff Click </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;TypeK&gt;</td><td>the type of keys maintained by this map </td></tr>
    <tr><td class="paramname">&lt;TypeV&gt;</td><td>the type of mapped values </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00073">73</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa5a4a7c2e7bcf912ab8659068dd2823b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5a4a7c2e7bcf912ab8659068dd2823b">&#9670;&nbsp;</a></span>NonBlockingHashMap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="../../d1/d88/a01578.html" title="A lock-free alternate implementation of java.util.concurrent.ConcurrentHashMap with better scaling pr...">NonBlockingHashMap</a> with default minimum size (currently set to 8 K/V pairs or roughly 84 bytes on a standard 32-bit JVM). </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00251">251</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{ <span class="keyword">this</span>(<a class="code" href="../../d1/d88/a01578.html#af25496961ad3157c0701f88adfb49cd2">MIN_SIZE</a>); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00381">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clear()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_aa5a4a7c2e7bcf912ab8659068dd2823b_icgraph.svg" width="506" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a427e49ce6d59cf5510cd815b34c2b82b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427e49ce6d59cf5510cd815b34c2b82b">&#9670;&nbsp;</a></span>NonBlockingHashMap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> </td>
          <td>(</td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>initial_sz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="../../d1/d88/a01578.html" title="A lock-free alternate implementation of java.util.concurrent.ConcurrentHashMap with better scaling pr...">NonBlockingHashMap</a> with initial room for the given number of elements, thus avoiding internal resizing operations to reach an appropriate size. </p>
<p>Large numbers here when used with a small count of elements will sacrifice space for a small amount of time gained. The initial size will be rounded up internally to the next larger power of 2. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00258">258</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{ <a class="code" href="../../d1/d88/a01578.html#ad31298afc7fd95cf38cfc20ef53dcf9a">initialize</a>(initial_sz); }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae6382b3fe7386b3a871fb69e7e7b9bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6382b3fe7386b3a871fb69e7e7b9bc1">&#9670;&nbsp;</a></span>[static initializer]()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.[static initializer]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a21c3e2311c668431c60603113a2ea36f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c3e2311c668431c60603113a2ea36f">&#9670;&nbsp;</a></span>_getKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._getKey </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00478">478</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                              {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>(kvs); i++ ) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      Object <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(kvs,i);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      Object <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(kvs,i);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      Object U = Prime.unbox(<a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> != <span class="keyword">null</span> &amp;&amp; <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> &amp;&amp;  <span class="comment">// key is sane</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;          <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> != <span class="keyword">null</span> &amp;&amp; U   != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> )   <span class="comment">// val is sane</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    Object[] newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(kvs).<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// New table, if any</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> newkvs == <span class="keyword">null</span> ? null : <a class="code" href="../../d1/d88/a01578.html#a21c3e2311c668431c60603113a2ea36f">_getKey</a>(newkvs);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00477">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getKey()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a21c3e2311c668431c60603113a2ea36f_icgraph.svg" width="491" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0f8631d4996a2fe7a961ee7a1ce04aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8631d4996a2fe7a961ee7a1ce04aac">&#9670;&nbsp;</a></span>CAS_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.CAS_key </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00174">174</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                                                        {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a3bf4b0f4f4f63df7896a8a788d42a752">_unsafe</a>.compareAndSwapObject( kvs, <a class="code" href="../../d1/d88/a01578.html#acf58031418609a5bf8dd80de9d17d621">rawIndex</a>(kvs,(idx&lt;&lt;1)+2), old, <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a0f8631d4996a2fe7a961ee7a1ce04aac_icgraph.svg" width="100%" height="481"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a260eace7b16370bdf1ebb67f0f21b251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a260eace7b16370bdf1ebb67f0f21b251">&#9670;&nbsp;</a></span>CAS_kvs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.CAS_kvs </td>
          <td>(</td>
          <td class="paramtype">final Object[]&#160;</td>
          <td class="paramname"><em>oldkvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object[]&#160;</td>
          <td class="paramname"><em>newkvs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00101">101</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                                          {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a3bf4b0f4f4f63df7896a8a788d42a752">_unsafe</a>.compareAndSwapObject(<span class="keyword">this</span>, <a class="code" href="../../d1/d88/a01578.html#a091bf94c00a1b4f653c25ab36619c676">_kvs_offset</a>, oldkvs, newkvs );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00381">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clear()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a260eace7b16370bdf1ebb67f0f21b251_icgraph.svg" width="100%" height="481"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acdccf6b774bcd40e49b9befaddcff62f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdccf6b774bcd40e49b9befaddcff62f">&#9670;&nbsp;</a></span>CAS_val()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.CAS_val </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00177">177</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                                                        {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a3bf4b0f4f4f63df7896a8a788d42a752">_unsafe</a>.compareAndSwapObject( kvs, <a class="code" href="../../d1/d88/a01578.html#acf58031418609a5bf8dd80de9d17d621">rawIndex</a>(kvs,(idx&lt;&lt;1)+3), old, <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> );</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_acdccf6b774bcd40e49b9befaddcff62f_icgraph.svg" width="100%" height="481"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a115294c7aac1ca8f3439ce725c0b025d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a115294c7aac1ca8f3439ce725c0b025d">&#9670;&nbsp;</a></span>chm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final <a class="el" href="../../d2/d2f/a01586.html">CHM</a> <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.chm </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00135">135</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{ <span class="keywordflow">return</span> (CHM  )kvs[0]; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01066">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot_and_check()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00788">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.help_copy()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00278">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.size()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01182">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.SnapshotV()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a115294c7aac1ca8f3439ce725c0b025d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a41578dafc2cc1570dce5f16ba4a7b473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41578dafc2cc1570dce5f16ba4a7b473">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all of the mappings from this map. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00381">381</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                      {         <span class="comment">// Smack a new empty table down</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    Object[] newkvs = <span class="keyword">new</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>(<a class="code" href="../../d1/d88/a01578.html#af25496961ad3157c0701f88adfb49cd2">MIN_SIZE</a>)._kvs;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">while</span>( !<a class="code" href="../../d1/d88/a01578.html#a260eace7b16370bdf1ebb67f0f21b251">CAS_kvs</a>(<a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>,newkvs) ) <span class="comment">// Spin until the clear works</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      ;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00417">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clone()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01358">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.entrySet()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01305">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keySet()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01265">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.values()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a41578dafc2cc1570dce5f16ba4a7b473_icgraph.svg" width="491" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4bc0e95bdf9baf70b8079f9cb0a629ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc0e95bdf9baf70b8079f9cb0a629ea">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a shallow copy of this hashtable. </p>
<p>All the structure of the hashtable itself is copied, but the keys and values are not cloned. This is a relatively expensive operation.</p>
<dl class="section return"><dt>Returns</dt><dd>a clone of the hashtable. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00417">417</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="comment">// Must clone, to get the class right; NBHM might have been</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="comment">// extended so it would be wrong to just make a new NBHM.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      NonBlockingHashMap&lt;TypeK,TypeV&gt; t = (NonBlockingHashMap&lt;TypeK,TypeV&gt;) super.clone();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">// But I don&#39;t have an atomic clone operation - the underlying _kvs</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="comment">// structure is undergoing rapid change.  If I just clone the _kvs</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="comment">// field, the CHM in _kvs[0] won&#39;t be in sync.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="comment">// Wipe out the cloned array (it was shallow anyways).</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      t.clear();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="comment">// Now copy sanely</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">for</span>( TypeK K : <a class="code" href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad">keySet</a>() ) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keyword">final</span> TypeV V = <span class="keyword">get</span>(K);  <span class="comment">// Do an official &#39;get&#39;</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        t.put(K,V);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    } <span class="keywordflow">catch</span> (CloneNotSupportedException e) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="comment">// this shouldn&#39;t happen, since we are Cloneable</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">throw</span> <span class="keyword">new</span> InternalError();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00417">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clone()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a4bc0e95bdf9baf70b8079f9cb0a629ea_icgraph.svg" width="227" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a67e50dd4a2bb1a50cc21427052074825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e50dd4a2bb1a50cc21427052074825">&#9670;&nbsp;</a></span>contains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.contains </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Legacy method testing if some key maps into the specified value in this table. </p>
<p>This method is identical in functionality to {<a class="el" href="../../d1/d88/a01578.html#a016e347fbfcc37c612d1feae0a9e450f">}, and exists solely to ensure full compatibility with class  java.util.Hashtable}, which supported this method prior to introduction of the Java Collections framework.  val a value to search for  <code>true</code> if this map maps one or more keys to the specified value  NullPointerException if the specified value is null </a></p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00298">298</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a016e347fbfcc37c612d1feae0a9e450f">containsValue</a>(<a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01358">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.entrySet()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01305">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keySet()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01265">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.values()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a67e50dd4a2bb1a50cc21427052074825_icgraph.svg" width="491" height="271"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1225e5842170b7a780c5def2c172e2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1225e5842170b7a780c5def2c172e2cd">&#9670;&nbsp;</a></span>containsKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.containsKey </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests if the key in the table using the <code>equals</code> method. </p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the key is in the table using the <code>equals</code> method </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key is null <br  />
 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00288">288</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">get</span>(<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>) != <span class="keyword">null</span>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01305">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keySet()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a1225e5842170b7a780c5def2c172e2cd_icgraph.svg" width="491" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a016e347fbfcc37c612d1feae0a9e450f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016e347fbfcc37c612d1feae0a9e450f">&#9670;&nbsp;</a></span>containsValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.containsValue </td>
          <td>(</td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns <code>true</code> if this Map maps one or more keys to the specified value. </p>
<p><em>Note</em>: This method requires a full internal traversal of the hash table and is much slower than <a class="el" href="../../d1/d88/a01578.html#a1225e5842170b7a780c5def2c172e2cd">containsKey</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>value whose presence in this map is to be tested </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if this map maps one or more keys to the specified value </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified value is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00394">394</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                                   {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> == <span class="keyword">null</span> ) <span class="keywordflow">throw</span> <span class="keyword">new</span> NullPointerException();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">for</span>( TypeV V : <a class="code" href="../../d1/d88/a01578.html#a1ea275e426eccf899ad2f0e03f64728b">values</a>() )</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span>( V == <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> || V.equals(<a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>) )</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00298">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.contains()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01265">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.values()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a016e347fbfcc37c612d1feae0a9e450f_icgraph.svg" width="491" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0dfea67e36a39738bcb9844de13dd935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dfea67e36a39738bcb9844de13dd935">&#9670;&nbsp;</a></span>elements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dff/a02506.html">Enumeration</a>&lt;TypeV&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.elements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an enumeration of the values in this table. </p>
<dl class="section return"><dt>Returns</dt><dd>an enumeration of the values in this table </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d88/a01578.html#a1ea275e426eccf899ad2f0e03f64728b" title="Returns a Collection view of the values contained in this map.">values()</a> <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01248">1248</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> SnapshotV(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7ab0f7012b12477e4a52081d23523d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ab0f7012b12477e4a52081d23523d8">&#9670;&nbsp;</a></span>entrySet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Set&lt;Map.Entry&lt;TypeK,TypeV&gt; &gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.entrySet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a <a class="el" href="../../">Set</a> view of the mappings contained in this map. </p>
<p>The set is backed by the map, so changes to the map are reflected in the set, and vice-versa. The set supports element removal, which removes the corresponding mapping from the map, via the <code>Iterator.remove</code>, <code>Set.remove</code>, <code>removeAll</code>, <code>retainAll</code>, and <code>clear</code> operations. It does not support the <code>add</code> or <code>addAll</code> operations.</p>
<p>The view's <code>iterator</code> is a "weakly consistent" iterator that will never throw <a class="el" href="../../">ConcurrentModificationException</a>, and guarantees to traverse elements as they existed upon construction of the iterator, and may (but is not guaranteed to) reflect any modifications subsequent to construction.</p>
<p><b>Warning:</b> the iterator associated with this Set requires the creation of <a class="el" href="../../">java.util.Map.Entry</a> objects with each iteration. The <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> does not normally create or using <a class="el" href="../../">java.util.Map.Entry</a> objects so they will be created soley to support this iteration. Iterating using <a class="el" href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad">keySet</a> or {<a class="el" href="../../d1/d88/a01578.html#a1ea275e426eccf899ad2f0e03f64728b">} will be more efficient. </a></p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01358">1358</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                                                {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> AbstractSet&lt;Map.Entry&lt;TypeK,TypeV&gt;&gt;() {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">void</span>    <a class="code" href="../../d1/d88/a01578.html#a41578dafc2cc1570dce5f16ba4a7b473">clear</a>   (          ) {        <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.clear( ); }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">int</span>     <a class="code" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">size</a>    (          ) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.size ( ); }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">boolean</span> <span class="keyword">remove</span>( <span class="keyword">final</span> Object o ) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">if</span>( !(o instanceof Map.Entry)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keyword">final</span> Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.remove(e.getKey(), e.getValue());</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="../../d1/d88/a01578.html#a67e50dd4a2bb1a50cc21427052074825">contains</a>(<span class="keyword">final</span> Object o) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span>( !(o instanceof Map.Entry)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keyword">final</span> Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        TypeV v = <span class="keyword">get</span>(e.getKey());</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">return</span> v.equals(e.getValue());</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      @Override <span class="keyword">public</span> Iterator&lt;Map.Entry&lt;TypeK,TypeV&gt;&gt; iterator() { <span class="keywordflow">return</span> <span class="keyword">new</span> SnapshotE(); }</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    };</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00453">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.toString()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_ae7ab0f7012b12477e4a52081d23523d8_icgraph.svg" width="491" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2a826f06d155e8bb331a58ac3b65b4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a826f06d155e8bb331a58ac3b65b4ba">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.get </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value to which the specified key is mapped, or. </p>
<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --><p> if this map contains no mapping for the key. </p>
<p>More formally, if this map contains a mapping from a key</p><div class="fragment"><div class="line">k </div>
</div><!-- fragment --><p> to a value</p><div class="fragment"><div class="line">v </div>
</div><!-- fragment --><p> such that</p><div class="fragment"><div class="line"><a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>.equals(k) </div>
</div><!-- fragment --><p> , then this method returns</p><div class="fragment"><div class="line">v </div>
</div><!-- fragment --><p> ; otherwise it returns</p><div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --><p> . (There can be at most one such mapping.) </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00524">524</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                 {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keyword">final</span> Object V = <a class="code" href="../../d1/d88/a01578.html#a3bab2e9a84a115e693c549ceca1ec335">get_impl</a>(<span class="keyword">this</span>,<a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    assert !(V instanceof Prime); <span class="comment">// Never return a Prime</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    assert V != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> (TypeV)V;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bab2e9a84a115e693c549ceca1ec335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bab2e9a84a115e693c549ceca1ec335">&#9670;&nbsp;</a></span>get_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.get_impl </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00531">531</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                                                                                          {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> fullhash= <a class="code" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a> (<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>); <span class="comment">// throws NullPointerException if key is null</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>     = <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>  (kvs); <span class="comment">// Count of key/value pairs, reads kvs.length</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keyword">final</span> CHM <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>     = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>  (kvs); <span class="comment">// The CHM, for a volatile read below; reads slot 0 of kvs</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span>[] <a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>=<a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>(kvs); <span class="comment">// The memoized hashes; reads slot 1 of kvs</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">int</span> idx = fullhash &amp; (<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>-1); <span class="comment">// First key hash</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">// Main spin/reprobe loop, looking for a Key hit</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordtype">int</span> reprobe_cnt=0;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="comment">// Probe table.  Each read of &#39;val&#39; probably misses in cache in a big</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="comment">// table; hopefully the read of &#39;key&#39; then hits in cache.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keyword">final</span> Object K = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(kvs,idx); <span class="comment">// Get key   before volatile read, could be null</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keyword">final</span> Object V = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(kvs,idx); <span class="comment">// Get value before volatile read, could be null or Tombstone or Prime</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">if</span>( K == <span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;   <span class="comment">// A clear miss</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="comment">// We need a volatile-read here to preserve happens-before semantics on</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="comment">// newly inserted Keys.  If the Key body was written just before inserting</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="comment">// into the table a Key-compare here might read the uninitialized Key body.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="comment">// Annoyingly this means we have to volatile-read before EACH key compare.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="comment">// .</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">// We also need a volatile-read between reading a newly inserted Value</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">// and returning the Value (so the user might end up reading the stale</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="comment">// Value contents).  Same problem as with keys - and the one volatile</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">// read covers both.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keyword">final</span> Object[] newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// VOLATILE READ before key compare</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="comment">// Key-compare</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#a8bfd6f803c25fcc9cfb1dc5e547cc4f3">keyeq</a>(K,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,<a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>,idx,fullhash) ) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="comment">// Key hit!  Check for no table-copy-in-progress</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">if</span>( !(V instanceof Prime) ) <span class="comment">// No copy?</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          <span class="keywordflow">return</span> (V == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) ? null : V; <span class="comment">// Return the value</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// Key hit - but slot is (possibly partially) copied to the new table.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">// Finish the copy &amp; retry in the new table.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a3bab2e9a84a115e693c549ceca1ec335">get_impl</a>(topmap,<a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#a3a59a61ee44b01b1fc7a39e9c7e5659b">copy_slot_and_check</a>(topmap,kvs,idx,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>),<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>); <span class="comment">// Retry in the new table</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="comment">// get and put must have the same key lookup logic!  But only &#39;put&#39;</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">// needs to force a table-resize for a too-long key-reprobe sequence.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="comment">// Check for too-many-reprobes on get - and flip to the new table.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span>( ++reprobe_cnt &gt;= <a class="code" href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">reprobe_limit</a>(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>) || <span class="comment">// too many probes</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;          K == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) <span class="comment">// found a TOMBSTONE key, means no more keys in this table</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">return</span> newkvs == <span class="keyword">null</span> ? null : <a class="code" href="../../d1/d88/a01578.html#a3bab2e9a84a115e693c549ceca1ec335">get_impl</a>(topmap,topmap.help_copy(newkvs),<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>); <span class="comment">// Retry in the new table</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      idx = (idx+1)&amp;(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>-1);    <span class="comment">// Reprobe by 1!  (could now prefetch)</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00524">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a3bab2e9a84a115e693c549ceca1ec335_icgraph.svg" width="491" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a49f4698fa048af8ec4cec0e0e13d7c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49f4698fa048af8ec4cec0e0e13d7c1b">&#9670;&nbsp;</a></span>getk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeK <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.getk </td>
          <td>(</td>
          <td class="paramtype">TypeK&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the Key to which the specified key is mapped, or. </p>
<div class="fragment"><div class="line"><span class="keyword">null</span> </div>
</div><!-- fragment --><p> if this map contains no mapping for the key. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00585">585</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                 {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> (TypeK)<a class="code" href="../../d1/d88/a01578.html#a279ff4e8be63d9a354b52cc0e708eee6">getk_impl</a>(<span class="keyword">this</span>,<a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a279ff4e8be63d9a354b52cc0e708eee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a279ff4e8be63d9a354b52cc0e708eee6">&#9670;&nbsp;</a></span>getk_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.getk_impl </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00589">589</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                                                                                                                 {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> fullhash= <a class="code" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a> (<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>); <span class="comment">// throws NullPointerException if key is null</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>     = <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>  (kvs); <span class="comment">// Count of key/value pairs, reads kvs.length</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keyword">final</span> CHM <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>     = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>  (kvs); <span class="comment">// The CHM, for a volatile read below; reads slot 0 of kvs</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span>[] <a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>=<a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>(kvs); <span class="comment">// The memoized hashes; reads slot 1 of kvs</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordtype">int</span> idx = fullhash &amp; (<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>-1); <span class="comment">// First key hash</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// Main spin/reprobe loop, looking for a Key hit</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordtype">int</span> reprobe_cnt=0;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="comment">// Probe table.</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keyword">final</span> Object K = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(kvs,idx); <span class="comment">// Get key before volatile read, could be null</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">if</span>( K == <span class="keyword">null</span> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;   <span class="comment">// A clear miss</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// We need a volatile-read here to preserve happens-before semantics on</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// newly inserted Keys.  If the Key body was written just before inserting</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="comment">// into the table a Key-compare here might read the uninitialized Key body.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">// Annoyingly this means we have to volatile-read before EACH key compare.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// .</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="comment">// We also need a volatile-read between reading a newly inserted Value</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="comment">// and returning the Value (so the user might end up reading the stale</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="comment">// Value contents).  Same problem as with keys - and the one volatile</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="comment">// read covers both.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keyword">final</span> Object[] newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// VOLATILE READ before key compare</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="comment">// Key-compare</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#a8bfd6f803c25fcc9cfb1dc5e547cc4f3">keyeq</a>(K,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,<a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>,idx,fullhash) )</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">return</span> K;              <span class="comment">// Return existing Key!</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="comment">// get and put must have the same key lookup logic!  But only &#39;put&#39;</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="comment">// needs to force a table-resize for a too-long key-reprobe sequence.</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="comment">// Check for too-many-reprobes on get - and flip to the new table.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">if</span>( ++reprobe_cnt &gt;= <a class="code" href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">reprobe_limit</a>(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>) || <span class="comment">// too many probes</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;          K == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) { <span class="comment">// found a TOMBSTONE key, means no more keys in this table</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">return</span> newkvs == <span class="keyword">null</span> ? null : <a class="code" href="../../d1/d88/a01578.html#a279ff4e8be63d9a354b52cc0e708eee6">getk_impl</a>(topmap,topmap.help_copy(newkvs),<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>); <span class="comment">// Retry in the new table</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      idx = (idx+1)&amp;(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>-1);    <span class="comment">// Reprobe by 1!  (could now prefetch)</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00585">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a279ff4e8be63d9a354b52cc0e708eee6_icgraph.svg" width="491" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a73197022ecced0d249ebfff22214793f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73197022ecced0d249ebfff22214793f">&#9670;&nbsp;</a></span>getKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeK <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.getKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00477">477</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{ <span class="keywordflow">return</span> (TypeK)<a class="code" href="../../d1/d88/a01578.html#a21c3e2311c668431c60603113a2ea36f">_getKey</a>(<a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c4af3f9c0ac82532eb4a94a1ea2d3fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">&#9670;&nbsp;</a></span>hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.hash </td>
          <td>(</td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00114">114</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                             {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">int</span> h = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>.hashCode();     <span class="comment">// The real hashCode call</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    h ^= (h&gt;&gt;&gt;20) ^ (h&gt;&gt;&gt;12);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    h ^= (h&gt;&gt;&gt; 7) ^ (h&gt;&gt;&gt; 4);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> h;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00495">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keyeq()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a8c4af3f9c0ac82532eb4a94a1ea2d3fa_icgraph.svg" width="491" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9f3a8cee989940e81156e7797fb1e64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f3a8cee989940e81156e7797fb1e64d">&#9670;&nbsp;</a></span>hashes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final int [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.hashes </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00136">136</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>[])kvs[1]; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00495">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keyeq()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a9f3a8cee989940e81156e7797fb1e64d_icgraph.svg" width="491" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aee9ed5c1410821a369a111421023deec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9ed5c1410821a369a111421023deec">&#9670;&nbsp;</a></span>help_copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.help_copy </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>helper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00788">788</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                                                      {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// Read the top-level KVS only once.  We&#39;ll try to help this copy along,</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// even if it gets promoted out from under us (i.e., the copy completes</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// and another KVS becomes the top-level copy).</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    Object[] topkvs = <a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    CHM topchm = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(topkvs);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span>( topchm._newkvs == <span class="keyword">null</span> ) <span class="keywordflow">return</span> helper; <span class="comment">// No copy in-progress</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    topchm.help_copy_impl(<span class="keyword">this</span>,topkvs,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> helper;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01066">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot_and_check()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_aee9ed5c1410821a369a111421023deec_icgraph.svg" width="100%" height="499"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad31298afc7fd95cf38cfc20ef53dcf9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31298afc7fd95cf38cfc20ef53dcf9a">&#9670;&nbsp;</a></span>initialize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00271">271</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{ <a class="code" href="../../d1/d88/a01578.html#ad31298afc7fd95cf38cfc20ef53dcf9a">initialize</a>(<a class="code" href="../../d1/d88/a01578.html#af25496961ad3157c0701f88adfb49cd2">MIN_SIZE</a>); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00271">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.initialize()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00258">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.NonBlockingHashMap()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01393">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.readObject()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_ad31298afc7fd95cf38cfc20ef53dcf9a_icgraph.svg" width="562" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a86d369c84ddfa3cc4aa1e7b5bd7b52a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d369c84ddfa3cc4aa1e7b5bd7b52a8">&#9670;&nbsp;</a></span>initialize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initial_sz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00259">259</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                                  {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span>( initial_sz &lt; 0 ) <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordtype">int</span> i;                      <span class="comment">// Convert to next largest power-of-2</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span>( initial_sz &gt; 1024*1024 ) initial_sz = 1024*1024;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">for</span>( i=<a class="code" href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">MIN_SIZE_LOG</a>; (1&lt;&lt;i) &lt; (initial_sz&lt;&lt;2); i++ ) ;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Double size for K,V pairs, add 1 for CHM and 1 for hashes</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a> = <span class="keyword">new</span> Object[((1&lt;&lt;i)&lt;&lt;1)+2];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>[0] = <span class="keyword">new</span> CHM(<span class="keyword">new</span> ConcurrentAutoTable()); <span class="comment">// CHM in slot 0</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>[1] = <span class="keyword">new</span> <span class="keywordtype">int</span>[1&lt;&lt;i];          <span class="comment">// Matching hash entries</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="../../d1/d88/a01578.html#adcb9a2cd607ad286854c9b170b2417d7">_last_resize_milli</a> = System.currentTimeMillis();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a422283acfb44f1e28410d99ce9c35f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422283acfb44f1e28410d99ce9c35f54">&#9670;&nbsp;</a></span>isEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns <code><a class="el" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef" title="Returns the number of key-value mappings in this map.">size()</a> == 0</code>. </p>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef" title="Returns the number of key-value mappings in this map.">size()</a> == 0</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00282">282</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">size</a>() == 0;      }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a17cadc8cc7460b02f6f76100f6e64513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17cadc8cc7460b02f6f76100f6e64513">&#9670;&nbsp;</a></span>key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.key </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00172">172</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{ <span class="keywordflow">return</span> kvs[(idx&lt;&lt;1)+2]; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00174">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_key()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00288">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.containsKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00524">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00585">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00114">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.hash()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01201">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.key()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00495">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keyeq()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00310">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.put()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00318">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfAbsent()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00361">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00351">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatchAllowNull()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00326">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.remove()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00336">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.replace()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00453">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.toString()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a17cadc8cc7460b02f6f76100f6e64513_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8bfd6f803c25fcc9cfb1dc5e547cc4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bfd6f803c25fcc9cfb1dc5e547cc4f3">&#9670;&nbsp;</a></span>keyeq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.keyeq </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>K</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int[]&#160;</td>
          <td class="paramname"><em>hashes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fullhash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00495">495</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                                                                             {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      K==<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> ||                 <span class="comment">// Either keys match exactly OR</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="comment">// hash exists and matches?  hash can be zero during the install of a</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="comment">// new key/value pair.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      ((<a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>[<a class="code" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a>] == 0 || <a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>[<a class="code" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a>] == fullhash) &amp;&amp;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;       <span class="comment">// Do not call the users&#39; &quot;equals()&quot; call with a Tombstone, as this can</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;       <span class="comment">// surprise poorly written &quot;equals()&quot; calls that throw exceptions</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;       <span class="comment">// instead of simply returning false.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;       K != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> &amp;&amp;        <span class="comment">// Do not call users&#39; equals call with a Tombstone</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;       <span class="comment">// Do the match the hard way - with the users&#39; key being the loop-</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;       <span class="comment">// invariant &quot;this&quot; pointer.  I could have flipped the order of</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;       <span class="comment">// operands (since equals is commutative), but I&#39;m making mega-morphic</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;       <span class="comment">// v-calls in a reprobing loop and nailing down the &#39;this&#39; argument</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;       <span class="comment">// gives both the JIT and the hardware a chance to prefetch the call target.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;       <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>.equals(K));          <span class="comment">// Finally do the hard match</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a8bfd6f803c25fcc9cfb1dc5e547cc4f3_icgraph.svg" width="491" height="271"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae3cd2147c58e54c3c194e3016f5521c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cd2147c58e54c3c194e3016f5521c8">&#9670;&nbsp;</a></span>keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dff/a02506.html">Enumeration</a>&lt;TypeK&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an enumeration of the keys in this table. </p>
<dl class="section return"><dt>Returns</dt><dd>an enumeration of the keys in this table </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad" title="Returns a Set view of the keys contained in this map.">keySet()</a> <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01289">1289</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> SnapshotK(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a70355b993683e31ca9f621a16dfebbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70355b993683e31ca9f621a16dfebbad">&#9670;&nbsp;</a></span>keySet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Set&lt;TypeK&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.keySet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a <a class="el" href="../../">Set</a> view of the keys contained in this map. </p>
<p>The set is backed by the map, so changes to the map are reflected in the set, and vice-versa. The set supports element removal, which removes the corresponding mapping from this map, via the <code>Iterator.remove</code>, <code>Set.remove</code>, <code>removeAll</code>, <code>retainAll</code>, and <code>clear</code> operations. It does not support the <code>add</code> or <code>addAll</code> operations.</p>
<p>The view's <code>iterator</code> is a "weakly consistent" iterator that will never throw <a class="el" href="../../">ConcurrentModificationException</a>, and guarantees to traverse elements as they existed upon construction of the iterator, and may (but is not guaranteed to) reflect any modifications subsequent to construction. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01305">1305</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                             {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> AbstractSet&lt;TypeK&gt; () {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">void</span>    <a class="code" href="../../d1/d88/a01578.html#a41578dafc2cc1570dce5f16ba4a7b473">clear</a>   (          ) {        <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.clear   ( ); }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">int</span>     <a class="code" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">size</a>    (          ) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.size    ( ); }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="../../d1/d88/a01578.html#a67e50dd4a2bb1a50cc21427052074825">contains</a>( Object k ) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.containsKey(k); }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">boolean</span> <span class="keyword">remove</span>  ( Object k ) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.remove  (k) != <span class="keyword">null</span>; }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      @Override <span class="keyword">public</span> Iterator&lt;TypeK&gt; iterator()   { <span class="keywordflow">return</span> <span class="keyword">new</span> SnapshotK(); }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    };</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00417">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clone()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01379">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.writeObject()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a70355b993683e31ca9f621a16dfebbad_icgraph.svg" width="494" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6e1835db75a57079b5194e312f8de3d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e1835db75a57079b5194e312f8de3d3">&#9670;&nbsp;</a></span>len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.len </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00138">138</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{ <span class="keywordflow">return</span> (kvs.length-2)&gt;&gt;1; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01200">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.length()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00242">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.reprobe_limit()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00870">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.tableFull()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a6e1835db75a57079b5194e312f8de3d3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6253bb32cd7b713625eebacc54ba5292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6253bb32cd7b713625eebacc54ba5292">&#9670;&nbsp;</a></span>print() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verbose printout of table internals, useful for debugging. </p>
<p><br  />
 </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00184">184</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                            {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    System.out.println(<span class="stringliteral">&quot;=========&quot;</span>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="../../d1/d88/a01578.html#aba29b0d8df543f7a59129d27f5826c9a">print2</a>(<a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    System.out.println(<span class="stringliteral">&quot;=========&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a6253bb32cd7b713625eebacc54ba5292_icgraph.svg" width="491" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a82f909d380f1f7cfef951b7ac8329d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f909d380f1f7cfef951b7ac8329d94">&#9670;&nbsp;</a></span>print() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.print </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00190">190</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                           {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>(kvs); i++ ) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      Object K = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(kvs,i);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span>( K != <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        String KS = (K == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) ? <span class="stringliteral">&quot;XXX&quot;</span> : K.toString();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        Object V = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(kvs,i);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        Object U = Prime.unbox(V);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        String p = (V==U) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;prime_&quot;</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        String US = (U == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) ? <span class="stringliteral">&quot;tombstone&quot;</span> : U.toString();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        System.out.println(<span class="stringliteral">&quot;&quot;</span>+i+<span class="stringliteral">&quot; (&quot;</span>+KS+<span class="stringliteral">&quot;,&quot;</span>+p+US+<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    Object[] newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(kvs).<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// New table, if any</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span>( newkvs != <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      System.out.println(<span class="stringliteral">&quot;----&quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <a class="code" href="../../d1/d88/a01578.html#a6253bb32cd7b713625eebacc54ba5292">print</a>(newkvs);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aba29b0d8df543f7a59129d27f5826c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba29b0d8df543f7a59129d27f5826c9a">&#9670;&nbsp;</a></span>print2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.print2 </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00209">209</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                           {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>(kvs); i++ ) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      Object <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(kvs,i);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      Object <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(kvs,i);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      Object U = Prime.unbox(<a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> != <span class="keyword">null</span> &amp;&amp; <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> &amp;&amp;  <span class="comment">// key is sane</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> != <span class="keyword">null</span> &amp;&amp; U   != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) { <span class="comment">// val is sane</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        String p = (<a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>==U) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;prime_&quot;</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        System.out.println(<span class="stringliteral">&quot;&quot;</span>+i+<span class="stringliteral">&quot; (&quot;</span>+<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>+<span class="stringliteral">&quot;,&quot;</span>+p+<a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>+<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    Object[] newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(kvs).<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// New table, if any</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span>( newkvs != <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      System.out.println(<span class="stringliteral">&quot;----&quot;</span>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <a class="code" href="../../d1/d88/a01578.html#aba29b0d8df543f7a59129d27f5826c9a">print2</a>(newkvs);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00184">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_aba29b0d8df543f7a59129d27f5826c9a_icgraph.svg" width="491" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a173a0399a8be0ce533fa8293f931510a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173a0399a8be0ce533fa8293f931510a">&#9670;&nbsp;</a></span>put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.put </td>
          <td>(</td>
          <td class="paramtype">TypeK&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TypeV&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps the specified key to the specified value in the table. </p>
<p>Neither key nor value can be null. </p>
<p>The value can be retrieved by calling <a class="el" href="../../d1/d88/a01578.html#a2a826f06d155e8bb331a58ac3b65b4ba">get</a> with a key that is equal to the original key. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>key with which the specified value is to be associated </td></tr>
    <tr><td class="paramname">val</td><td>value to be associated with the specified key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value associated with <code>key</code>, or <code>null</code> if there was no mapping for <code>key</code> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key or value is null <br  />
 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00310">310</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,      <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>, <a class="code" href="../../d1/d88/a01578.html#ac059be9599a72c86893355f0a657bf74">NO_MATCH_OLD</a>); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00417">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clone()</a>, <a class="el" href="../../d7/d25/a00182_source.html#l00163">com.cliffc.aa.tvar.TV2.make()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00374">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putAll()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01393">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.readObject()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01320">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.NBHMEntry.setValue()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a173a0399a8be0ce533fa8293f931510a_icgraph.svg" width="495" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a03e33a0d7b302d02b3dcf33a26ed5071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e33a0d7b302d02b3dcf33a26ed5071">&#9670;&nbsp;</a></span>putAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.putAll </td>
          <td>(</td>
          <td class="paramtype">Map&lt;? extends TypeK, ? extends TypeV &gt;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies all of the mappings from the specified map to this one, replacing any existing mappings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>mappings to be stored in this map </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00374">374</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                              {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">for</span> (Map.Entry&lt;? extends TypeK, ? extends TypeV&gt; e : m.entrySet())</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">put</a>(e.getKey(), e.getValue());</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1d350d73a1d39668f151a06e47c87b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d350d73a1d39668f151a06e47c87b7">&#9670;&nbsp;</a></span>putIfAbsent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.putIfAbsent </td>
          <td>(</td>
          <td class="paramtype">TypeK&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TypeV&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically, do a <a class="el" href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">put</a> if-and-only-if the key is not mapped. </p>
<p>Useful to ensure that only a single mapping for the key exists, even if many threads are trying to create the mapping in parallel. </p><dl class="section return"><dt>Returns</dt><dd>the previous value associated with the specified key, or <code>null</code> if there was no mapping for the key </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key or value is null <br  />
 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00318">318</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,      <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>, <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>   ); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5de08e8f6ee1fa095943fae0dda60b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de08e8f6ee1fa095943fae0dda60b7a">&#9670;&nbsp;</a></span>putIfMatch() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.putIfMatch </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>putval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Object&#160;</td>
          <td class="paramname"><em>expVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00638">638</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                                                                                                                                            {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    assert putval != <span class="keyword">null</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    assert !(putval instanceof Prime);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    assert !(expVal instanceof Prime);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> fullhash = <a class="code" href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">hash</a>  (<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>); <span class="comment">// throws NullPointerException if key null</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>      = <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>   (kvs); <span class="comment">// Count of key/value pairs, reads kvs.length</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keyword">final</span> CHM <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>      = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>   (kvs); <span class="comment">// Reads kvs[0]</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keyword">final</span> <span class="keywordtype">int</span>[] <a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a> = <a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>(kvs); <span class="comment">// Reads kvs[1], read before kvs[0]</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordtype">int</span> idx = fullhash &amp; (<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>-1);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// Key-Claim stanza: spin till we can claim a Key (or force a resizing).</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordtype">int</span> reprobe_cnt=0;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    Object K=<span class="keyword">null</span>, V=<span class="keyword">null</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    Object[] newkvs=<span class="keyword">null</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {             <span class="comment">// Spin till we get a Key slot</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      V = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(kvs,idx);         <span class="comment">// Get old value (before volatile read below!)</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      K = <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(kvs,idx);         <span class="comment">// Get current key</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">if</span>( K == <span class="keyword">null</span> ) {         <span class="comment">// Slot is free?</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="comment">// Found an empty Key slot - which means this Key has never been in</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="comment">// this table.  No need to put a Tombstone - the Key is not here!</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span>( putval == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) <span class="keywordflow">return</span> putval; <span class="comment">// Not-now &amp; never-been in this table</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">if</span>( expVal == <a class="code" href="../../d1/d88/a01578.html#a4fd293facb9f4aaea89a265775e91480">MATCH_ANY</a> ) <span class="keywordflow">return</span> <span class="keyword">null</span>;   <span class="comment">// Will not match, even after K inserts</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="comment">// Claim the null key-slot</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#a0f8631d4996a2fe7a961ee7a1ce04aac">CAS_key</a>(kvs,idx, <span class="keyword">null</span>, <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> ) ) { <span class="comment">// Claim slot for Key</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">_slots</a>.<a class="code" href="../../da/dcf/a01558.html#a4b0bab4576aff6bfb017f0d1c794bef3">add</a>(1);      <span class="comment">// Raise key-slots-used count</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;          <a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>[idx] = fullhash; <span class="comment">// Memoize fullhash</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;          <span class="keywordflow">break</span>;                  <span class="comment">// Got it!</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="comment">// CAS to claim the key-slot failed.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="comment">// This re-read of the Key points out an annoying short-coming of Java</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">// CAS.  Most hardware CAS&#39;s report back the existing value - so that</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="comment">// if you fail you have a *witness* - the value which caused the CAS to</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="comment">// fail.  The Java API turns this into a boolean destroying the</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="comment">// witness.  Re-reading does not recover the witness because another</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">// thread can write over the memory after the CAS.  Hence we can be in</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">// the unfortunate situation of having a CAS fail *for cause* but</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="comment">// having that cause removed by a later store.  This turns a</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="comment">// non-spurious-failure CAS (such as Azul has) into one that can</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="comment">// apparently spuriously fail - and we avoid apparent spurious failure</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="comment">// by not allowing Keys to ever change.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="comment">// Volatile read, to force loads of K to retry despite JIT, otherwise</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// it is legal to e.g. haul the load of &quot;K = key(kvs,idx);&quot; outside of</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="comment">// this loop (since failed CAS ops have no memory ordering semantics).</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordtype">int</span> dummy = <a class="code" href="../../d1/d88/a01578.html#a64920034ee7c8e3e966a536a36b37062">DUMMY_VOLATILE</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="comment">// Key slot was not null, there exists a Key here</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="comment">// We need a volatile-read here to preserve happens-before semantics on</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="comment">// newly inserted Keys.  If the Key body was written just before inserting</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="comment">// into the table a Key-compare here might read the uninitialized Key body.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="comment">// Annoyingly this means we have to volatile-read before EACH key compare.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>;     <span class="comment">// VOLATILE READ before key compare</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#a8bfd6f803c25fcc9cfb1dc5e547cc4f3">keyeq</a>(K,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,<a class="code" href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">hashes</a>,idx,fullhash) )</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">break</span>;                  <span class="comment">// Got it!</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="comment">// get and put must have the same key lookup logic!  Lest &#39;get&#39; give</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="comment">// up looking too soon.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="comment">//topmap._reprobes.add(1);</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">if</span>( ++reprobe_cnt &gt;= <a class="code" href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">reprobe_limit</a>(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>) || <span class="comment">// too many probes or</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          K == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) { <span class="comment">// found a TOMBSTONE key, means no more keys</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="comment">// We simply must have a new table to do a &#39;put&#39;.  At this point a</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="comment">// &#39;get&#39; will also go to the new table (if any).  We do not need</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// to claim a key slot (indeed, we cannot find a free one to claim!).</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#addb4e95343345696d085ca6f75a990cf">resize</a>(topmap,kvs);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">if</span>( expVal != <span class="keyword">null</span> ) topmap.help_copy(newkvs); <span class="comment">// help along an existing copy</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>(topmap,newkvs,<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,putval,expVal);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      idx = (idx+1)&amp;(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>-1); <span class="comment">// Reprobe!</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    } <span class="comment">// End of spinning till we get a Key slot</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// Found the proper Key slot, now update the matching Value slot.  We</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// never put a null, so Value slots monotonically move from null to</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// not-null (deleted Values use Tombstone).  Thus if &#39;V&#39; is null we</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// fail this fast cutout and fall into the check for table-full.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span>( putval == V ) <span class="keywordflow">return</span> V; <span class="comment">// Fast cutout for no-change</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// See if we want to move to a new table (to avoid high average re-probe</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// counts).  We only check on the initial set of a Value from null to</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">// not-null (i.e., once per key-insert).  Of course we got a &#39;free&#39; check</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="comment">// of newkvs once per key-compare (not really free, but paid-for by the</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// time we get here).</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span>( newkvs == <span class="keyword">null</span> &amp;&amp;       <span class="comment">// New table-copy already spotted?</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="comment">// Once per fresh key-insert check the hard way</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        ((V == <span class="keyword">null</span> &amp;&amp; <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#addfa938dafe9243e09aa6d5268980bed">tableFull</a>(reprobe_cnt,<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>)) ||</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         <span class="comment">// Or we found a Prime, but the JMM allowed reordering such that we</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <span class="comment">// did not spot the new table (very rare race here: the writing</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <span class="comment">// thread did a CAS of _newkvs then a store of a Prime.  This thread</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         <span class="comment">// reads the Prime, then reads _newkvs - but the read of Prime was so</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;         <span class="comment">// delayed (or the read of _newkvs was so accelerated) that they</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         <span class="comment">// swapped and we still read a null _newkvs.  The resize call below</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;         <span class="comment">// will do a CAS on _newkvs forcing the read.</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;         V instanceof Prime) )</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      newkvs = <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#addb4e95343345696d085ca6f75a990cf">resize</a>(topmap,kvs); <span class="comment">// Force the new table copy to start</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// See if we are moving to a new table.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// If so, copy our slot and retry in the new table.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span>( newkvs != <span class="keyword">null</span> )</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>(topmap,<a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#a3a59a61ee44b01b1fc7a39e9c7e5659b">copy_slot_and_check</a>(topmap,kvs,idx,expVal),<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,putval,expVal);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// We are finally prepared to update the existing table</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    assert !(V instanceof Prime);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// Must match old, and we do not?  Then bail out now.  Note that either V</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// or expVal might be TOMBSTONE.  Also V can be null, if we&#39;ve never</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// inserted a value before.  expVal can be null if we are called from</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// copy_slot.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span>( expVal != <a class="code" href="../../d1/d88/a01578.html#ac059be9599a72c86893355f0a657bf74">NO_MATCH_OLD</a> &amp;&amp; <span class="comment">// Do we care about expected-Value at all?</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        V != expVal &amp;&amp;            <span class="comment">// No instant match already?</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        (expVal != <a class="code" href="../../d1/d88/a01578.html#a4fd293facb9f4aaea89a265775e91480">MATCH_ANY</a> || V == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> || V == <span class="keyword">null</span>) &amp;&amp;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        !(V==<span class="keyword">null</span> &amp;&amp; expVal == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) &amp;&amp;    <span class="comment">// Match on null/TOMBSTONE combo</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        (expVal == <span class="keyword">null</span> || !expVal.equals(V)) ) <span class="comment">// Expensive equals check at the last</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">return</span> V;                                 <span class="comment">// Do not update!</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// Actually change the Value in the Key,Value pair</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#acdccf6b774bcd40e49b9befaddcff62f">CAS_val</a>(kvs, idx, V, putval ) ) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">// CAS succeeded - we did the update!</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="comment">// Both normal put&#39;s and table-copy calls putIfMatch, but table-copy</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="comment">// does not (effectively) increase the number of live k/v pairs.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">if</span>( expVal != <span class="keyword">null</span> ) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment">// Adjust sizes - a striped counter</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">if</span>(  (V == <span class="keyword">null</span> || V == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) &amp;&amp; putval != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">_size</a>.<a class="code" href="../../da/dcf/a01558.html#a4b0bab4576aff6bfb017f0d1c794bef3">add</a>( 1);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span>( !(V == <span class="keyword">null</span> || V == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) &amp;&amp; putval == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ) <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">_size</a>.<a class="code" href="../../da/dcf/a01558.html#a4b0bab4576aff6bfb017f0d1c794bef3">add</a>(-1);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    } <span class="keywordflow">else</span> {                    <span class="comment">// Else CAS failed</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      V = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(kvs,idx);         <span class="comment">// Get new value</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="comment">// If a Prime&#39;d value got installed, we need to re-run the put on the</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="comment">// new table.  Otherwise we lost the CAS to another racing put.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="comment">// Simply retry from the start.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">if</span>( V instanceof Prime )</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>(topmap,<a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>.<a class="code" href="../../d2/d2f/a01586.html#a3a59a61ee44b01b1fc7a39e9c7e5659b">copy_slot_and_check</a>(topmap,kvs,idx,expVal),<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,putval,expVal);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">// Win or lose the CAS, we are done.  If we won then we know the update</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">// happened as expected.  If we lost, it means &quot;we won but another thread</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// immediately stomped our update with no chance of a reader reading&quot;.</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> (V==<span class="keyword">null</span> &amp;&amp; expVal!=<span class="keyword">null</span>) ? <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> : V;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a39c31fa94e334f5bb1e508349061b058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c31fa94e334f5bb1e508349061b058">&#9670;&nbsp;</a></span>putIfMatch() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.putIfMatch </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>newVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>oldVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00361">361</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                                             {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (oldVal == <span class="keyword">null</span> || newVal == <span class="keyword">null</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> NullPointerException();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keyword">final</span> Object res = <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <span class="keyword">this</span>, <a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>, <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, newVal, oldVal );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    assert !(res instanceof Prime);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    assert res != <span class="keyword">null</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> res == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ? null : (TypeV)res;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00310">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.put()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00318">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfAbsent()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00361">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00351">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatchAllowNull()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00326">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.remove()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01234">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.remove()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00336">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.replace()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a39c31fa94e334f5bb1e508349061b058_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5b1b68c203e1b0abdf4cc2d76249d2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1b68c203e1b0abdf4cc2d76249d2b5">&#9670;&nbsp;</a></span>putIfMatchAllowNull()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.putIfMatchAllowNull </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>newVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>oldVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00351">351</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span>( oldVal == <span class="keyword">null</span> ) oldVal = <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span>( newVal == <span class="keyword">null</span> ) newVal = <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">final</span> TypeV res = (TypeV)<a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <span class="keyword">this</span>, <a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>, <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, newVal, oldVal );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    assert !(res instanceof Prime);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">//assert res != null;</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> res == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a> ? null : res;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a94aaba238aaba8f4c28e407e53879b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94aaba238aaba8f4c28e407e53879b3a">&#9670;&nbsp;</a></span>raw_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Object [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.raw_array </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01243">1243</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> SnapshotV()._sskvs; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acf58031418609a5bf8dd80de9d17d621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf58031418609a5bf8dd80de9d17d621">&#9670;&nbsp;</a></span>rawIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.rawIndex </td>
          <td>(</td>
          <td class="paramtype">final Object[]&#160;</td>
          <td class="paramname"><em>ary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00086">86</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                                                  {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    assert idx &gt;= 0 &amp;&amp; idx &lt; ary.length;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Note the long-math requirement, to handle arrays of more than 2^31 bytes</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// - or 2^28 - or about 268M - 8-byte pointer elements.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a9610b9098e45a1eefdf32aecfe2266e0">_Obase</a> + ((long)idx &lt;&lt; <a class="code" href="../../d1/d88/a01578.html#a0c52ee60d8284ee765f487bee8dc2d45">_Olog</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00174">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_key()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00177">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_val()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_acf58031418609a5bf8dd80de9d17d621_icgraph.svg" width="491" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af841c66640102303c22e32ea3c5be39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af841c66640102303c22e32ea3c5be39a">&#9670;&nbsp;</a></span>readObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.readObject </td>
          <td>(</td>
          <td class="paramtype">java.io.ObjectInputStream&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> throws IOException, ClassNotFoundException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01393">1393</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                                                                                                  {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    s.defaultReadObject();      <span class="comment">// Read nothing</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="../../d1/d88/a01578.html#ad31298afc7fd95cf38cfc20ef53dcf9a">initialize</a>(<a class="code" href="../../d1/d88/a01578.html#af25496961ad3157c0701f88adfb49cd2">MIN_SIZE</a>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">for</span>(;;) {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keyword">final</span> TypeK K = (TypeK) s.readObject();</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="keyword">final</span> TypeV V = (TypeV) s.readObject();</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <span class="keywordflow">if</span>( K == <span class="keyword">null</span> ) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <a class="code" href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">put</a>(K,V);                 <span class="comment">// Insert with an offical put</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b043735ab8cc9dd38de1772f83b11f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b043735ab8cc9dd38de1772f83b11f4">&#9670;&nbsp;</a></span>rehash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.rehash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00405">405</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                          {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a9b043735ab8cc9dd38de1772f83b11f4_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af0cc3951d8054357105de8932cbf9801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0cc3951d8054357105de8932cbf9801">&#9670;&nbsp;</a></span>remove() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.remove </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the key (and its corresponding value) from this map. </p>
<p>This method does nothing if the key is not in the map. </p><dl class="section return"><dt>Returns</dt><dd>the previous value associated with <code>key</code>, or <code>null</code> if there was no mapping for <code>key</code> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00326">326</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,<a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>, <a class="code" href="../../d1/d88/a01578.html#ac059be9599a72c86893355f0a657bf74">NO_MATCH_OLD</a>); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01358">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.entrySet()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01305">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keySet()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_af0cc3951d8054357105de8932cbf9801_icgraph.svg" width="491" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6001ba2cd7ae216c138e96199400c9c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6001ba2cd7ae216c138e96199400c9c2">&#9670;&nbsp;</a></span>remove() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.remove </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically do a <a class="el" href="../../d1/d88/a01578.html#af0cc3951d8054357105de8932cbf9801">remove(Object)</a> if-and-only-if the key is mapped to a value which is <code>equals</code> to the given value. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key or value is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00331">331</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,<a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>, <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a> ) == <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0547ef941313b7cb4a3c0d9026d739d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0547ef941313b7cb4a3c0d9026d739d0">&#9670;&nbsp;</a></span>replace() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.replace </td>
          <td>(</td>
          <td class="paramtype">TypeK&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TypeV&#160;</td>
          <td class="paramname"><em>oldValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TypeV&#160;</td>
          <td class="paramname"><em>newValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically do a <code>put(key,newValue)</code> if-and-only-if the key is mapped a value which is <code>equals</code> to <code>oldValue</code>. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key or value is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00341">341</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                                                            {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, newValue, oldValue ) == oldValue;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5eddb22ee08ee10f0b96c4e31a280038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eddb22ee08ee10f0b96c4e31a280038">&#9670;&nbsp;</a></span>replace() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TypeV <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.replace </td>
          <td>(</td>
          <td class="paramtype">TypeK&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TypeV&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically do a <code>put(key,val)</code> if-and-only-if the key is mapped to some value already. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NullPointerException</td><td>if the specified key or value is null </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00336">336</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>( <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>,      <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>,<a class="code" href="../../d1/d88/a01578.html#a4fd293facb9f4aaea89a265775e91480">MATCH_ANY</a>   ); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad36952c53870f9307338b1c5a4bf9258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36952c53870f9307338b1c5a4bf9258">&#9670;&nbsp;</a></span>reprobe_limit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.reprobe_limit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00242">242</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                                    {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#ad5af05c979113a7acb20e9c222051b7a">REPROBE_LIMIT</a> + (<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>&gt;&gt;4);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00870">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.tableFull()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_ad36952c53870f9307338b1c5a4bf9258_icgraph.svg" width="100%" height="520"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6bfb1116c7c9c9f86c366e012dfbf17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bfb1116c7c9c9f86c366e012dfbf17e">&#9670;&nbsp;</a></span>reprobes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.reprobes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get and clear the current count of reprobes. </p>
<p>Reprobes happen on key collisions, and a high reprobe rate may indicate a poor hash function or weaknesses in the table resizing function. </p><dl class="section return"><dt>Returns</dt><dd>the count of reprobes since the last call to <a class="el" href="../../d1/d88/a01578.html#a6bfb1116c7c9c9f86c366e012dfbf17e">reprobes</a> or since the table was created. <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00234">234</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{ <span class="keywordtype">long</span> r = <a class="code" href="../../d1/d88/a01578.html#a8a64d4af5d87d6d47e02c6823ce46e04">_reprobes</a>.<a class="code" href="../../da/dcf/a01558.html#a0829d01be3a5a0269feb836ed02db8f2">get</a>(); <a class="code" href="../../d1/d88/a01578.html#a8a64d4af5d87d6d47e02c6823ce46e04">_reprobes</a> = <span class="keyword">new</span> ConcurrentAutoTable(); <span class="keywordflow">return</span> r; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca05011f2b72616c600a56f312d321ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca05011f2b72616c600a56f312d321ef">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of key-value mappings in this map. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of key-value mappings in this map </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00278">278</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(<a class="code" href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">_kvs</a>).<a class="code" href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">size</a>(); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01358">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.entrySet()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00282">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.isEmpty()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01305">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keySet()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01265">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.values()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_aca05011f2b72616c600a56f312d321ef_icgraph.svg" width="491" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad8aef4d71cf6778b7cc44b9e0fc33985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8aef4d71cf6778b7cc44b9e0fc33985">&#9670;&nbsp;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.toString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string representation of this map. </p>
<p>The string representation consists of a list of key-value mappings in the order returned by the map's <code>entrySet</code> view's iterator, enclosed in braces (<code>"{}"</code>). Adjacent mappings are separated by the characters <code>", "</code> (comma and space). Each key-value mapping is rendered as the key followed by an equals sign (<code>"="</code>) followed by the associated value. Keys and values are converted to strings as by <a class="el" href="../../">String#valueOf(Object)</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>a string representation of this map </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00453">453</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                           {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    Iterator&lt;Entry&lt;TypeK,TypeV&gt;&gt; i = <a class="code" href="../../d1/d88/a01578.html#ae7ab0f7012b12477e4a52081d23523d8">entrySet</a>().iterator();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span>( !i.hasNext())</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;{}&quot;</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    sb.append(<span class="charliteral">&#39;{&#39;</span>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      Entry&lt;TypeK,TypeV&gt; e = i.next();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      TypeK <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a> = e.getKey();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      TypeV value = e.getValue();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      sb.append(<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>   == <span class="keyword">this</span> ? <span class="stringliteral">&quot;(this Map)&quot;</span> : <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      sb.append(<span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      sb.append(value == <span class="keyword">this</span> ? <span class="stringliteral">&quot;(this Map)&quot;</span> : value);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span>( !i.hasNext())</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> sb.append(<span class="charliteral">&#39;}&#39;</span>).toString();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      sb.append(<span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae663333cf20049876dbf772db24daa32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae663333cf20049876dbf772db24daa32">&#9670;&nbsp;</a></span>val()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.val </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00173">173</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{ <span class="keywordflow">return</span> kvs[(idx&lt;&lt;1)+3]; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00177">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_val()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00298">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.contains()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00394">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.containsValue()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00310">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.put()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00318">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfAbsent()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00331">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.remove()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00336">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.replace()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01320">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.NBHMEntry.setValue()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01202">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.val()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_ae663333cf20049876dbf772db24daa32_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1ea275e426eccf899ad2f0e03f64728b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea275e426eccf899ad2f0e03f64728b">&#9670;&nbsp;</a></span>values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Collection&lt;TypeV&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a <a class="el" href="../../">Collection</a> view of the values contained in this map. </p>
<p>The collection is backed by the map, so changes to the map are reflected in the collection, and vice-versa. The collection supports element removal, which removes the corresponding mapping from this map, via the <code>Iterator.remove</code>, <code>Collection.remove</code>, <code>removeAll</code>, <code>retainAll</code>, and <code>clear</code> operations. It does not support the <code>add</code> or <code>addAll</code> operations.</p>
<p>The view's <code>iterator</code> is a "weakly consistent" iterator that will never throw <a class="el" href="../../">ConcurrentModificationException</a>, and guarantees to traverse elements as they existed upon construction of the iterator, and may (but is not guaranteed to) reflect any modifications subsequent to construction. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01265">1265</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                                    {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> AbstractCollection&lt;TypeV&gt;() {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">void</span>    <a class="code" href="../../d1/d88/a01578.html#a41578dafc2cc1570dce5f16ba4a7b473">clear</a>   (          ) {        <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.clear        ( ); }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">int</span>     <a class="code" href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">size</a>    (          ) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.size         ( ); }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      @Override <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="../../d1/d88/a01578.html#a67e50dd4a2bb1a50cc21427052074825">contains</a>( Object v ) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">NonBlockingHashMap</a>.this.containsValue(v); }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      @Override <span class="keyword">public</span> Iterator&lt;TypeV&gt; iterator()   { <span class="keywordflow">return</span> <span class="keyword">new</span> SnapshotV(); }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    };</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00394">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.containsValue()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d88/a01578_a1ea275e426eccf899ad2f0e03f64728b_icgraph.svg" width="510" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5f5f285326b27962079e131b4903665a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f5f285326b27962079e131b4903665a">&#9670;&nbsp;</a></span>writeObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.writeObject </td>
          <td>(</td>
          <td class="paramtype">java.io.ObjectOutputStream&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01379">1379</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                                                                             {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    s.defaultWriteObject();     <span class="comment">// Nothing to write</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">for</span>( Object K : <a class="code" href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad">keySet</a>() ) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keyword">final</span> Object V = <span class="keyword">get</span>(K);  <span class="comment">// Do an official &#39;get&#39;</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      s.writeObject(K);         <span class="comment">// Write the &lt;TypeK,TypeV&gt; pair</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      s.writeObject(V);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    s.writeObject(<span class="keyword">null</span>);        <span class="comment">// Sentinel to indicate end-of-data</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    s.writeObject(<span class="keyword">null</span>);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ace2bbe57bac92e9ee927fdd8d3884124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2bbe57bac92e9ee927fdd8d3884124">&#9670;&nbsp;</a></span>_kvs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">transient Object [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._kvs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00134">134</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00381">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clear()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00524">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00585">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00477">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00788">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.help_copy()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00259">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.initialize()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00184">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00361">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00351">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatchAllowNull()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00278">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.size()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01182">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.SnapshotV()</a>.</p>

</div>
</div>
<a id="a091bf94c00a1b4f653c25ab36619c676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091bf94c00a1b4f653c25ab36619c676">&#9670;&nbsp;</a></span>_kvs_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._kvs_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00094">94</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00101">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_kvs()</a>.</p>

</div>
</div>
<a id="adcb9a2cd607ad286854c9b170b2417d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcb9a2cd607ad286854c9b170b2417d7">&#9670;&nbsp;</a></span>_last_resize_milli</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">transient long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._last_resize_milli</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00141">141</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00259">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.initialize()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>

</div>
</div>
<a id="a9610b9098e45a1eefdf32aecfe2266e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9610b9098e45a1eefdf32aecfe2266e0">&#9670;&nbsp;</a></span>_Obase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._Obase = _unsafe.arrayBaseOffset(Object[].class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00083">83</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00086">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.rawIndex()</a>.</p>

</div>
</div>
<a id="a0c52ee60d8284ee765f487bee8dc2d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c52ee60d8284ee765f487bee8dc2d45">&#9670;&nbsp;</a></span>_Olog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._Olog = <a class="el" href="../../d1/d88/a01578.html#a4f84ef0037643b7a14d23103c907e7bd">_Oscale</a>==4?2:(<a class="el" href="../../d1/d88/a01578.html#a4f84ef0037643b7a14d23103c907e7bd">_Oscale</a>==8?3:9999)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00085">85</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00086">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.rawIndex()</a>.</p>

</div>
</div>
<a id="a4f84ef0037643b7a14d23103c907e7bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f84ef0037643b7a14d23103c907e7bd">&#9670;&nbsp;</a></span>_Oscale</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._Oscale = _unsafe.arrayIndexScale(Object[].class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00084">84</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

</div>
</div>
<a id="a8a64d4af5d87d6d47e02c6823ce46e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a64d4af5d87d6d47e02c6823ce46e04">&#9670;&nbsp;</a></span>_reprobes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">transient <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a> <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._reprobes = new <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00228">228</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00234">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.reprobes()</a>.</p>

</div>
</div>
<a id="a3bf4b0f4f4f63df7896a8a788d42a752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf4b0f4f4f63df7896a8a788d42a752">&#9670;&nbsp;</a></span>_unsafe</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Unsafe <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;._unsafe = <a class="el" href="../../d7/d94/a01642.html#a2fcd3c4eb083b744f168496baef1afa0">UtilUnsafe.getUnsafe</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00082">82</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00174">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_key()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00101">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_kvs()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00177">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.CAS_val()</a>.</p>

</div>
</div>
<a id="a64920034ee7c8e3e966a536a36b37062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64920034ee7c8e3e966a536a36b37062">&#9670;&nbsp;</a></span>DUMMY_VOLATILE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.DUMMY_VOLATILE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00637">637</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>

</div>
</div>
<a id="a4fd293facb9f4aaea89a265775e91480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd293facb9f4aaea89a265775e91480">&#9670;&nbsp;</a></span>MATCH_ANY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.MATCH_ANY = new Object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00155">155</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00336">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.replace()</a>.</p>

</div>
</div>
<a id="af25496961ad3157c0701f88adfb49cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25496961ad3157c0701f88adfb49cd2">&#9670;&nbsp;</a></span>MIN_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.MIN_SIZE =(1&lt;&lt;<a class="el" href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">MIN_SIZE_LOG</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00147">147</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00381">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.clear()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00271">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.initialize()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00251">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.NonBlockingHashMap()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01393">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.readObject()</a>.</p>

</div>
</div>
<a id="ab2fad8e9cda544ddf7b4b4ea5d1ae0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">&#9670;&nbsp;</a></span>MIN_SIZE_LOG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.MIN_SIZE_LOG =3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00146">146</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00259">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.initialize()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>

</div>
</div>
<a id="ac059be9599a72c86893355f0a657bf74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac059be9599a72c86893355f0a657bf74">&#9670;&nbsp;</a></span>NO_MATCH_OLD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.NO_MATCH_OLD = new Object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00152">152</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00310">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.put()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00326">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.remove()</a>.</p>

</div>
</div>
<a id="ad5af05c979113a7acb20e9c222051b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5af05c979113a7acb20e9c222051b7a">&#9670;&nbsp;</a></span>REPROBE_LIMIT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.REPROBE_LIMIT =10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00079">79</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00242">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.reprobe_limit()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00870">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.tableFull()</a>.</p>

</div>
</div>
<a id="a9d3f7965b6be70851f5dbd440a94884b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3f7965b6be70851f5dbd440a94884b">&#9670;&nbsp;</a></span>serialVersionUID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.serialVersionUID = 1234123412341234123L</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00077">77</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

</div>
</div>
<a id="a0935e42c9a836308eb5f4ebae3f19ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0935e42c9a836308eb5f4ebae3f19ebc">&#9670;&nbsp;</a></span>TOMBPRIME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="../../d0/d21/a01582.html">Prime</a> <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.TOMBPRIME = new <a class="el" href="../../d0/d21/a01582.html">Prime</a>(<a class="el" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00163">163</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>.</p>

</div>
</div>
<a id="a73d36f36b4d06eaeee5e2a5331118f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d36f36b4d06eaeee5e2a5331118f33">&#9670;&nbsp;</a></span>TOMBSTONE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.TOMBSTONE = new Object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00158">158</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00524">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00495">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.keyeq()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01208">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.next()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00318">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfAbsent()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00361">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00351">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatchAllowNull()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00326">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.remove()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01234">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.remove()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa01578_html_ae663333cf20049876dbf772db24daa32"><div class="ttname"><a href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">com.cliffc.aa.util.NonBlockingHashMap.val</a></div><div class="ttdeci">static final Object val(Object[] kvs, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00173">NonBlockingHashMap.java:173</a></div></div>
<div class="ttc" id="aa01578_html_a3bf4b0f4f4f63df7896a8a788d42a752"><div class="ttname"><a href="../../d1/d88/a01578.html#a3bf4b0f4f4f63df7896a8a788d42a752">com.cliffc.aa.util.NonBlockingHashMap._unsafe</a></div><div class="ttdeci">static final Unsafe _unsafe</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00082">NonBlockingHashMap.java:82</a></div></div>
<div class="ttc" id="aa01578_html_a21c3e2311c668431c60603113a2ea36f"><div class="ttname"><a href="../../d1/d88/a01578.html#a21c3e2311c668431c60603113a2ea36f">com.cliffc.aa.util.NonBlockingHashMap._getKey</a></div><div class="ttdeci">static Object _getKey(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00478">NonBlockingHashMap.java:478</a></div></div>
<div class="ttc" id="aa01578_html_a8bfd6f803c25fcc9cfb1dc5e547cc4f3"><div class="ttname"><a href="../../d1/d88/a01578.html#a8bfd6f803c25fcc9cfb1dc5e547cc4f3">com.cliffc.aa.util.NonBlockingHashMap.keyeq</a></div><div class="ttdeci">static boolean keyeq(Object K, Object key, int[] hashes, int hash, int fullhash)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00495">NonBlockingHashMap.java:495</a></div></div>
<div class="ttc" id="aa01578_html_a67e50dd4a2bb1a50cc21427052074825"><div class="ttname"><a href="../../d1/d88/a01578.html#a67e50dd4a2bb1a50cc21427052074825">com.cliffc.aa.util.NonBlockingHashMap.contains</a></div><div class="ttdeci">boolean contains(Object val)</div><div class="ttdoc">Legacy method testing if some key maps into the specified value in this table.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00298">NonBlockingHashMap.java:298</a></div></div>
<div class="ttc" id="aa01586_html_addfa938dafe9243e09aa6d5268980bed"><div class="ttname"><a href="../../d2/d2f/a01586.html#addfa938dafe9243e09aa6d5268980bed">com.cliffc.aa.util.NonBlockingHashMap.CHM.tableFull</a></div><div class="ttdeci">final boolean tableFull(int reprobe_cnt, int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00870">NonBlockingHashMap.java:870</a></div></div>
<div class="ttc" id="aa01586_html_a83c249a5e62177a70d11294cdf0f8ae1"><div class="ttname"><a href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">com.cliffc.aa.util.NonBlockingHashMap.CHM.size</a></div><div class="ttdeci">int size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00805">NonBlockingHashMap.java:805</a></div></div>
<div class="ttc" id="aa01578_html_a6e1835db75a57079b5194e312f8de3d3"><div class="ttname"><a href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">com.cliffc.aa.util.NonBlockingHashMap.len</a></div><div class="ttdeci">static final int len(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00138">NonBlockingHashMap.java:138</a></div></div>
<div class="ttc" id="aa01578_html_a1ea275e426eccf899ad2f0e03f64728b"><div class="ttname"><a href="../../d1/d88/a01578.html#a1ea275e426eccf899ad2f0e03f64728b">com.cliffc.aa.util.NonBlockingHashMap.values</a></div><div class="ttdeci">Collection&lt; TypeV &gt; values()</div><div class="ttdoc">Returns a Collection view of the values contained in this map.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01265">NonBlockingHashMap.java:1265</a></div></div>
<div class="ttc" id="aa01558_html_a4b0bab4576aff6bfb017f0d1c794bef3"><div class="ttname"><a href="../../da/dcf/a01558.html#a4b0bab4576aff6bfb017f0d1c794bef3">com.cliffc.aa.util.ConcurrentAutoTable.add</a></div><div class="ttdeci">void add(long x)</div><div class="ttdoc">Add the given value to current counter value.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/a00266_source.html#l00030">ConcurrentAutoTable.java:30</a></div></div>
<div class="ttc" id="aa01578_html_a260eace7b16370bdf1ebb67f0f21b251"><div class="ttname"><a href="../../d1/d88/a01578.html#a260eace7b16370bdf1ebb67f0f21b251">com.cliffc.aa.util.NonBlockingHashMap.CAS_kvs</a></div><div class="ttdeci">boolean CAS_kvs(final Object[] oldkvs, final Object[] newkvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00101">NonBlockingHashMap.java:101</a></div></div>
<div class="ttc" id="aa01578_html_aa5a4a7c2e7bcf912ab8659068dd2823b"><div class="ttname"><a href="../../d1/d88/a01578.html#aa5a4a7c2e7bcf912ab8659068dd2823b">com.cliffc.aa.util.NonBlockingHashMap.NonBlockingHashMap</a></div><div class="ttdeci">NonBlockingHashMap()</div><div class="ttdoc">Create a new NonBlockingHashMap with default minimum size (currently set to 8 K/V pairs or roughly 84...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00251">NonBlockingHashMap.java:251</a></div></div>
<div class="ttc" id="aa01578_html_a0c52ee60d8284ee765f487bee8dc2d45"><div class="ttname"><a href="../../d1/d88/a01578.html#a0c52ee60d8284ee765f487bee8dc2d45">com.cliffc.aa.util.NonBlockingHashMap._Olog</a></div><div class="ttdeci">static final int _Olog</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00085">NonBlockingHashMap.java:85</a></div></div>
<div class="ttc" id="aa01578_html_ad36952c53870f9307338b1c5a4bf9258"><div class="ttname"><a href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">com.cliffc.aa.util.NonBlockingHashMap.reprobe_limit</a></div><div class="ttdeci">static final int reprobe_limit(int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00242">NonBlockingHashMap.java:242</a></div></div>
<div class="ttc" id="aa01578_html_acf58031418609a5bf8dd80de9d17d621"><div class="ttname"><a href="../../d1/d88/a01578.html#acf58031418609a5bf8dd80de9d17d621">com.cliffc.aa.util.NonBlockingHashMap.rawIndex</a></div><div class="ttdeci">static long rawIndex(final Object[] ary, final int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00086">NonBlockingHashMap.java:86</a></div></div>
<div class="ttc" id="aa01578_html_a64920034ee7c8e3e966a536a36b37062"><div class="ttname"><a href="../../d1/d88/a01578.html#a64920034ee7c8e3e966a536a36b37062">com.cliffc.aa.util.NonBlockingHashMap.DUMMY_VOLATILE</a></div><div class="ttdeci">static volatile int DUMMY_VOLATILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00637">NonBlockingHashMap.java:637</a></div></div>
<div class="ttc" id="aa01578_html_ae7ab0f7012b12477e4a52081d23523d8"><div class="ttname"><a href="../../d1/d88/a01578.html#ae7ab0f7012b12477e4a52081d23523d8">com.cliffc.aa.util.NonBlockingHashMap.entrySet</a></div><div class="ttdeci">Set&lt; Map.Entry&lt; TypeK, TypeV &gt; &gt; entrySet()</div><div class="ttdoc">Returns a Set view of the mappings contained in this map.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01358">NonBlockingHashMap.java:1358</a></div></div>
<div class="ttc" id="aa01578_html_a17cadc8cc7460b02f6f76100f6e64513"><div class="ttname"><a href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">com.cliffc.aa.util.NonBlockingHashMap.key</a></div><div class="ttdeci">static final Object key(Object[] kvs, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00172">NonBlockingHashMap.java:172</a></div></div>
<div class="ttc" id="aa01578_html_a6253bb32cd7b713625eebacc54ba5292"><div class="ttname"><a href="../../d1/d88/a01578.html#a6253bb32cd7b713625eebacc54ba5292">com.cliffc.aa.util.NonBlockingHashMap.print</a></div><div class="ttdeci">final void print()</div><div class="ttdoc">Verbose printout of table internals, useful for debugging.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00184">NonBlockingHashMap.java:184</a></div></div>
<div class="ttc" id="aa01586_html_addb4e95343345696d085ca6f75a990cf"><div class="ttname"><a href="../../d2/d2f/a01586.html#addb4e95343345696d085ca6f75a990cf">com.cliffc.aa.util.NonBlockingHashMap.CHM.resize</a></div><div class="ttdeci">final Object[] resize(NonBlockingHashMap topmap, Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00885">NonBlockingHashMap.java:885</a></div></div>
<div class="ttc" id="aa01586_html_a7dcb49ee78b3d4e5230d2cd30e4876cd"><div class="ttname"><a href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">com.cliffc.aa.util.NonBlockingHashMap.CHM._size</a></div><div class="ttdeci">final ConcurrentAutoTable _size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00804">NonBlockingHashMap.java:804</a></div></div>
<div class="ttc" id="aa01578_html_ab2fad8e9cda544ddf7b4b4ea5d1ae0b4"><div class="ttname"><a href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">com.cliffc.aa.util.NonBlockingHashMap.MIN_SIZE_LOG</a></div><div class="ttdeci">static final int MIN_SIZE_LOG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00146">NonBlockingHashMap.java:146</a></div></div>
<div class="ttc" id="aa01578_html_a73d36f36b4d06eaeee5e2a5331118f33"><div class="ttname"><a href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">com.cliffc.aa.util.NonBlockingHashMap.TOMBSTONE</a></div><div class="ttdeci">static final Object TOMBSTONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00158">NonBlockingHashMap.java:158</a></div></div>
<div class="ttc" id="aa01578_html_ad5af05c979113a7acb20e9c222051b7a"><div class="ttname"><a href="../../d1/d88/a01578.html#ad5af05c979113a7acb20e9c222051b7a">com.cliffc.aa.util.NonBlockingHashMap.REPROBE_LIMIT</a></div><div class="ttdeci">static final int REPROBE_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00079">NonBlockingHashMap.java:79</a></div></div>
<div class="ttc" id="aa01578_html_a016e347fbfcc37c612d1feae0a9e450f"><div class="ttname"><a href="../../d1/d88/a01578.html#a016e347fbfcc37c612d1feae0a9e450f">com.cliffc.aa.util.NonBlockingHashMap.containsValue</a></div><div class="ttdeci">boolean containsValue(final Object val)</div><div class="ttdoc">Returns true if this Map maps one or more keys to the specified value.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00394">NonBlockingHashMap.java:394</a></div></div>
<div class="ttc" id="aa01578_html_ace2bbe57bac92e9ee927fdd8d3884124"><div class="ttname"><a href="../../d1/d88/a01578.html#ace2bbe57bac92e9ee927fdd8d3884124">com.cliffc.aa.util.NonBlockingHashMap._kvs</a></div><div class="ttdeci">transient Object[] _kvs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00134">NonBlockingHashMap.java:134</a></div></div>
<div class="ttc" id="aa01578_html_ac059be9599a72c86893355f0a657bf74"><div class="ttname"><a href="../../d1/d88/a01578.html#ac059be9599a72c86893355f0a657bf74">com.cliffc.aa.util.NonBlockingHashMap.NO_MATCH_OLD</a></div><div class="ttdeci">static final Object NO_MATCH_OLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00152">NonBlockingHashMap.java:152</a></div></div>
<div class="ttc" id="aa01578_html_a70355b993683e31ca9f621a16dfebbad"><div class="ttname"><a href="../../d1/d88/a01578.html#a70355b993683e31ca9f621a16dfebbad">com.cliffc.aa.util.NonBlockingHashMap.keySet</a></div><div class="ttdeci">Set&lt; TypeK &gt; keySet()</div><div class="ttdoc">Returns a Set view of the keys contained in this map.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01305">NonBlockingHashMap.java:1305</a></div></div>
<div class="ttc" id="aa01578_html_a173a0399a8be0ce533fa8293f931510a"><div class="ttname"><a href="../../d1/d88/a01578.html#a173a0399a8be0ce533fa8293f931510a">com.cliffc.aa.util.NonBlockingHashMap.put</a></div><div class="ttdeci">TypeV put(TypeK key, TypeV val)</div><div class="ttdoc">Maps the specified key to the specified value in the table.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00310">NonBlockingHashMap.java:310</a></div></div>
<div class="ttc" id="aa01586_html_a3a59a61ee44b01b1fc7a39e9c7e5659b"><div class="ttname"><a href="../../d2/d2f/a01586.html#a3a59a61ee44b01b1fc7a39e9c7e5659b">com.cliffc.aa.util.NonBlockingHashMap.CHM.copy_slot_and_check</a></div><div class="ttdeci">final Object[] copy_slot_and_check(NonBlockingHashMap topmap, Object[] oldkvs, int idx, Object should_help)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01066">NonBlockingHashMap.java:1066</a></div></div>
<div class="ttc" id="aa01578_html_adcb9a2cd607ad286854c9b170b2417d7"><div class="ttname"><a href="../../d1/d88/a01578.html#adcb9a2cd607ad286854c9b170b2417d7">com.cliffc.aa.util.NonBlockingHashMap._last_resize_milli</a></div><div class="ttdeci">transient long _last_resize_milli</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00141">NonBlockingHashMap.java:141</a></div></div>
<div class="ttc" id="aa01578_html_a39c31fa94e334f5bb1e508349061b058"><div class="ttname"><a href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">com.cliffc.aa.util.NonBlockingHashMap.putIfMatch</a></div><div class="ttdeci">final TypeV putIfMatch(Object key, Object newVal, Object oldVal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00361">NonBlockingHashMap.java:361</a></div></div>
<div class="ttc" id="aa01578_html_a091bf94c00a1b4f653c25ab36619c676"><div class="ttname"><a href="../../d1/d88/a01578.html#a091bf94c00a1b4f653c25ab36619c676">com.cliffc.aa.util.NonBlockingHashMap._kvs_offset</a></div><div class="ttdeci">static final long _kvs_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00094">NonBlockingHashMap.java:94</a></div></div>
<div class="ttc" id="aa01578_html_a8a64d4af5d87d6d47e02c6823ce46e04"><div class="ttname"><a href="../../d1/d88/a01578.html#a8a64d4af5d87d6d47e02c6823ce46e04">com.cliffc.aa.util.NonBlockingHashMap._reprobes</a></div><div class="ttdeci">transient ConcurrentAutoTable _reprobes</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00228">NonBlockingHashMap.java:228</a></div></div>
<div class="ttc" id="aa01578_html_ad31298afc7fd95cf38cfc20ef53dcf9a"><div class="ttname"><a href="../../d1/d88/a01578.html#ad31298afc7fd95cf38cfc20ef53dcf9a">com.cliffc.aa.util.NonBlockingHashMap.initialize</a></div><div class="ttdeci">final void initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00271">NonBlockingHashMap.java:271</a></div></div>
<div class="ttc" id="aa01586_html_a96654954f88ba2106d78160f2e4f2f13"><div class="ttname"><a href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">com.cliffc.aa.util.NonBlockingHashMap.CHM._slots</a></div><div class="ttdeci">final ConcurrentAutoTable _slots</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00817">NonBlockingHashMap.java:817</a></div></div>
<div class="ttc" id="aa01578_html_a41578dafc2cc1570dce5f16ba4a7b473"><div class="ttname"><a href="../../d1/d88/a01578.html#a41578dafc2cc1570dce5f16ba4a7b473">com.cliffc.aa.util.NonBlockingHashMap.clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Removes all of the mappings from this map.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00381">NonBlockingHashMap.java:381</a></div></div>
<div class="ttc" id="aa01578_html_a9610b9098e45a1eefdf32aecfe2266e0"><div class="ttname"><a href="../../d1/d88/a01578.html#a9610b9098e45a1eefdf32aecfe2266e0">com.cliffc.aa.util.NonBlockingHashMap._Obase</a></div><div class="ttdeci">static final int _Obase</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00083">NonBlockingHashMap.java:83</a></div></div>
<div class="ttc" id="aa01578_html_a9f3a8cee989940e81156e7797fb1e64d"><div class="ttname"><a href="../../d1/d88/a01578.html#a9f3a8cee989940e81156e7797fb1e64d">com.cliffc.aa.util.NonBlockingHashMap.hashes</a></div><div class="ttdeci">static final int[] hashes(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00136">NonBlockingHashMap.java:136</a></div></div>
<div class="ttc" id="aa01578_html_aca05011f2b72616c600a56f312d321ef"><div class="ttname"><a href="../../d1/d88/a01578.html#aca05011f2b72616c600a56f312d321ef">com.cliffc.aa.util.NonBlockingHashMap.size</a></div><div class="ttdeci">int size()</div><div class="ttdoc">Returns the number of key-value mappings in this map.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00278">NonBlockingHashMap.java:278</a></div></div>
<div class="ttc" id="aa01578_html_a3bab2e9a84a115e693c549ceca1ec335"><div class="ttname"><a href="../../d1/d88/a01578.html#a3bab2e9a84a115e693c549ceca1ec335">com.cliffc.aa.util.NonBlockingHashMap.get_impl</a></div><div class="ttdeci">static Object get_impl(final NonBlockingHashMap topmap, final Object[] kvs, final Object key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00531">NonBlockingHashMap.java:531</a></div></div>
<div class="ttc" id="aa01578_html_acdccf6b774bcd40e49b9befaddcff62f"><div class="ttname"><a href="../../d1/d88/a01578.html#acdccf6b774bcd40e49b9befaddcff62f">com.cliffc.aa.util.NonBlockingHashMap.CAS_val</a></div><div class="ttdeci">static final boolean CAS_val(Object[] kvs, int idx, Object old, Object val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00177">NonBlockingHashMap.java:177</a></div></div>
<div class="ttc" id="aa01578_html_a115294c7aac1ca8f3439ce725c0b025d"><div class="ttname"><a href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">com.cliffc.aa.util.NonBlockingHashMap.chm</a></div><div class="ttdeci">static final CHM chm(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00135">NonBlockingHashMap.java:135</a></div></div>
<div class="ttc" id="aa01578_html_a8c4af3f9c0ac82532eb4a94a1ea2d3fa"><div class="ttname"><a href="../../d1/d88/a01578.html#a8c4af3f9c0ac82532eb4a94a1ea2d3fa">com.cliffc.aa.util.NonBlockingHashMap.hash</a></div><div class="ttdeci">static int hash(final Object key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00114">NonBlockingHashMap.java:114</a></div></div>
<div class="ttc" id="aa01578_html_a0f8631d4996a2fe7a961ee7a1ce04aac"><div class="ttname"><a href="../../d1/d88/a01578.html#a0f8631d4996a2fe7a961ee7a1ce04aac">com.cliffc.aa.util.NonBlockingHashMap.CAS_key</a></div><div class="ttdeci">static final boolean CAS_key(Object[] kvs, int idx, Object old, Object key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00174">NonBlockingHashMap.java:174</a></div></div>
<div class="ttc" id="aa01558_html_a0829d01be3a5a0269feb836ed02db8f2"><div class="ttname"><a href="../../da/dcf/a01558.html#a0829d01be3a5a0269feb836ed02db8f2">com.cliffc.aa.util.ConcurrentAutoTable.get</a></div><div class="ttdeci">long get()</div><div class="ttdoc">Current value of the counter.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/a00266_source.html#l00050">ConcurrentAutoTable.java:50</a></div></div>
<div class="ttc" id="aa01578_html_aba29b0d8df543f7a59129d27f5826c9a"><div class="ttname"><a href="../../d1/d88/a01578.html#aba29b0d8df543f7a59129d27f5826c9a">com.cliffc.aa.util.NonBlockingHashMap.print2</a></div><div class="ttdeci">final void print2(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00209">NonBlockingHashMap.java:209</a></div></div>
<div class="ttc" id="aa01586_html_aad7843f40cac657eb44ea7493942d932"><div class="ttname"><a href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">com.cliffc.aa.util.NonBlockingHashMap.CHM._newkvs</a></div><div class="ttdeci">volatile Object[] _newkvs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00827">NonBlockingHashMap.java:827</a></div></div>
<div class="ttc" id="aa01578_html_af25496961ad3157c0701f88adfb49cd2"><div class="ttname"><a href="../../d1/d88/a01578.html#af25496961ad3157c0701f88adfb49cd2">com.cliffc.aa.util.NonBlockingHashMap.MIN_SIZE</a></div><div class="ttdeci">static final int MIN_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00147">NonBlockingHashMap.java:147</a></div></div>
<div class="ttc" id="aa01578_html_a4fd293facb9f4aaea89a265775e91480"><div class="ttname"><a href="../../d1/d88/a01578.html#a4fd293facb9f4aaea89a265775e91480">com.cliffc.aa.util.NonBlockingHashMap.MATCH_ANY</a></div><div class="ttdeci">static final Object MATCH_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00155">NonBlockingHashMap.java:155</a></div></div>
<div class="ttc" id="aa01578_html_a279ff4e8be63d9a354b52cc0e708eee6"><div class="ttname"><a href="../../d1/d88/a01578.html#a279ff4e8be63d9a354b52cc0e708eee6">com.cliffc.aa.util.NonBlockingHashMap.getk_impl</a></div><div class="ttdeci">static final Object getk_impl(final NonBlockingHashMap topmap, final Object[] kvs, final Object key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00589">NonBlockingHashMap.java:589</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d03/a00348.html">com</a></li><li class="navelem"><a class="el" href="../../d7/dfc/a00349.html">cliffc</a></li><li class="navelem"><a class="el" href="../../d1/dc6/a00347.html">aa</a></li><li class="navelem"><a class="el" href="../../d0/dc3/a00354.html">util</a></li><li class="navelem"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
