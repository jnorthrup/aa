<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>aa: com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">aa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/d2f/a01586.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#pac-attribs">Package Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d9/d1b/a01583.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d22/a01584.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a83c249a5e62177a70d11294cdf0f8ae1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">size</a> ()</td></tr>
<tr class="separator:a83c249a5e62177a70d11294cdf0f8ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29538019f9d4622e764ec5772b9605c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#af29538019f9d4622e764ec5772b9605c">slots</a> ()</td></tr>
<tr class="separator:af29538019f9d4622e764ec5772b9605c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:a5a8b9ba9efec713414f2d95424a01f94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">CHM</a> (<a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a> <a class="el" href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">size</a>)</td></tr>
<tr class="separator:a5a8b9ba9efec713414f2d95424a01f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43304059040308580055a49cf390f01"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#ab43304059040308580055a49cf390f01">CAS_newkvs</a> (Object[] newkvs)</td></tr>
<tr class="separator:ab43304059040308580055a49cf390f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-attribs"></a>
Package Attributes</h2></td></tr>
<tr class="memitem:a7edc49d6f942cb2e850215dd21963b34"><td class="memItemLeft" align="right" valign="top">volatile long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a7edc49d6f942cb2e850215dd21963b34">_copyDone</a> = 0</td></tr>
<tr class="separator:a7edc49d6f942cb2e850215dd21963b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cef1cf7cb694ba20d101bb1a94a9aad"><td class="memItemLeft" align="right" valign="top">volatile long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a8cef1cf7cb694ba20d101bb1a94a9aad">_copyIdx</a> = 0</td></tr>
<tr class="separator:a8cef1cf7cb694ba20d101bb1a94a9aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7843f40cac657eb44ea7493942d932"><td class="memItemLeft" align="right" valign="top">volatile Object[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a></td></tr>
<tr class="separator:aad7843f40cac657eb44ea7493942d932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ff0a9f7f7dfbf26b1e20eba71c5e88"><td class="memItemLeft" align="right" valign="top">volatile long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#ad1ff0a9f7f7dfbf26b1e20eba71c5e88">_resizers</a></td></tr>
<tr class="separator:ad1ff0a9f7f7dfbf26b1e20eba71c5e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a06c8a3a20b51acada744e571b85ad91a"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a06c8a3a20b51acada744e571b85ad91a">copy_check_and_promote</a> (<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, Object[] oldkvs, int workdone)</td></tr>
<tr class="separator:a06c8a3a20b51acada744e571b85ad91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfa5927a99814084a042cce290e3025"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a9bfa5927a99814084a042cce290e3025">copy_slot</a> (<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, int idx, Object[] oldkvs, Object[] newkvs)</td></tr>
<tr class="separator:a9bfa5927a99814084a042cce290e3025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a59a61ee44b01b1fc7a39e9c7e5659b"><td class="memItemLeft" align="right" valign="top">final Object[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a3a59a61ee44b01b1fc7a39e9c7e5659b">copy_slot_and_check</a> (<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, Object[] oldkvs, int idx, Object should_help)</td></tr>
<tr class="separator:a3a59a61ee44b01b1fc7a39e9c7e5659b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e0c5ac08432006230f0252afae721c"><td class="memItemLeft" align="right" valign="top">final void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a73e0c5ac08432006230f0252afae721c">help_copy_impl</a> (<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, Object[] oldkvs, boolean copy_all)</td></tr>
<tr class="separator:a73e0c5ac08432006230f0252afae721c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb4e95343345696d085ca6f75a990cf"><td class="memItemLeft" align="right" valign="top">final Object[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#addb4e95343345696d085ca6f75a990cf">resize</a> (<a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a> topmap, Object[] kvs)</td></tr>
<tr class="separator:addb4e95343345696d085ca6f75a990cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfa938dafe9243e09aa6d5268980bed"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#addfa938dafe9243e09aa6d5268980bed">tableFull</a> (int reprobe_cnt, int <a class="el" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>)</td></tr>
<tr class="separator:addfa938dafe9243e09aa6d5268980bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4778837c89f259b4a8dad0cf7dd4b2a2"><td class="memItemLeft" align="right" valign="top">final AtomicReferenceFieldUpdater&lt; <a class="el" href="../../d2/d2f/a01586.html">CHM</a>, Object[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a4778837c89f259b4a8dad0cf7dd4b2a2">_newkvsUpdater</a></td></tr>
<tr class="separator:a4778837c89f259b4a8dad0cf7dd4b2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcb49ee78b3d4e5230d2cd30e4876cd"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">_size</a></td></tr>
<tr class="separator:a7dcb49ee78b3d4e5230d2cd30e4876cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96654954f88ba2106d78160f2e4f2f13"><td class="memItemLeft" align="right" valign="top">final <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">_slots</a></td></tr>
<tr class="separator:a96654954f88ba2106d78160f2e4f2f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a1f64746443d1cc59fd39f8705dd1767e"><td class="memItemLeft" align="right" valign="top">static final AtomicLongFieldUpdater&lt; <a class="el" href="../../d2/d2f/a01586.html">CHM</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a1f64746443d1cc59fd39f8705dd1767e">_copyDoneUpdater</a></td></tr>
<tr class="separator:a1f64746443d1cc59fd39f8705dd1767e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6837b4dbbfb16731686eb8c0c90a20b"><td class="memItemLeft" align="right" valign="top">static final AtomicLongFieldUpdater&lt; <a class="el" href="../../d2/d2f/a01586.html">CHM</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#ae6837b4dbbfb16731686eb8c0c90a20b">_copyIdxUpdater</a></td></tr>
<tr class="separator:ae6837b4dbbfb16731686eb8c0c90a20b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cae5678cb4df12512bdeb9464d4d4c0"><td class="memItemLeft" align="right" valign="top">static final AtomicLongFieldUpdater&lt; <a class="el" href="../../d2/d2f/a01586.html">CHM</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d2f/a01586.html#a0cae5678cb4df12512bdeb9464d4d4c0">_resizerUpdater</a></td></tr>
<tr class="separator:a0cae5678cb4df12512bdeb9464d4d4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00802">802</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5a8b9ba9efec713414f2d95424a01f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a8b9ba9efec713414f2d95424a01f94">&#9670;&nbsp;</a></span>CHM()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a>&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00856">856</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                    {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">_size</a> = <a class="code" href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">size</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <a class="code" href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">_slots</a>= <span class="keyword">new</span> ConcurrentAutoTable();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00804">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._size</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00817">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._slots</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00805">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a5a8b9ba9efec713414f2d95424a01f94_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a5a8b9ba9efec713414f2d95424a01f94_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab43304059040308580055a49cf390f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43304059040308580055a49cf390f01">&#9670;&nbsp;</a></span>CAS_newkvs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.CAS_newkvs </td>
          <td>(</td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>newkvs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00831">831</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                          {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="keywordflow">while</span>( <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a> == <span class="keyword">null</span> )</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d2/d2f/a01586.html#a4778837c89f259b4a8dad0cf7dd4b2a2">_newkvsUpdater</a>.compareAndSet(<span class="keyword">this</span>,<span class="keyword">null</span>,newkvs) )</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00827">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._newkvs</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00828">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._newkvsUpdater</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_ab43304059040308580055a49cf390f01_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a06c8a3a20b51acada744e571b85ad91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c8a3a20b51acada744e571b85ad91a">&#9670;&nbsp;</a></span>copy_check_and_promote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.copy_check_and_promote </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>oldkvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>workdone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01079">1079</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                                                                                                          {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      assert <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(oldkvs) == <span class="keyword">this</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordtype">int</span> oldlen = <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>(oldkvs);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="comment">// We made a slot unusable and so did some of the needed copy work</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordtype">long</span> copyDone = <a class="code" href="../../d2/d2f/a01586.html#a7edc49d6f942cb2e850215dd21963b34">_copyDone</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      assert (copyDone+workdone) &lt;= oldlen;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">if</span>( workdone &gt; 0 ) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">while</span>( !<a class="code" href="../../d2/d2f/a01586.html#a1f64746443d1cc59fd39f8705dd1767e">_copyDoneUpdater</a>.compareAndSet(<span class="keyword">this</span>,copyDone,copyDone+workdone) ) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;          copyDone = <a class="code" href="../../d2/d2f/a01586.html#a7edc49d6f942cb2e850215dd21963b34">_copyDone</a>; <span class="comment">// Reload, retry</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;          assert (copyDone+workdone) &lt;= oldlen;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="comment">//if( (10*copyDone/oldlen) != (10*(copyDone+workdone)/oldlen) )</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="comment">//System.out.print(&quot; &quot;+(copyDone+workdone)*100/oldlen+&quot;%&quot;+&quot;_&quot;+(_copyIdx*100/oldlen)+&quot;%&quot;);</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="comment">// Check for copy being ALL done, and promote.  Note that we might have</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="comment">// nested in-progress copies and manage to finish a nested copy before</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="comment">// finishing the top-level copy.  We only promote top-level copies.</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">if</span>( copyDone+workdone == oldlen &amp;&amp; <span class="comment">// Ready to promote this table?</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;          topmap._kvs == oldkvs &amp;&amp;       <span class="comment">// Looking at the top-level table?</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;          <span class="comment">// Attempt to promote</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;          topmap.CAS_kvs(oldkvs,<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>) ) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        topmap._last_resize_milli = System.currentTimeMillis(); <span class="comment">// Record resize time for next check</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="comment">//long nano = System.nanoTime();</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="comment">//System.out.println(&quot; &quot;+nano+&quot; Promote table to &quot;+len(_newkvs));</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="comment">//if( System.out != null ) System.out.print(&quot;]&quot;);</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00999">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._copyDone</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01000">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._copyDoneUpdater</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00134">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;._kvs</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00141">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;._last_resize_milli</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00827">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._newkvs</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00101">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CAS_kvs()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00135">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.chm()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00138">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.len()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01066">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot_and_check()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a06c8a3a20b51acada744e571b85ad91a_cgraph.svg" width="504" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a06c8a3a20b51acada744e571b85ad91a_icgraph.svg" width="100%" height="481"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9bfa5927a99814084a042cce290e3025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bfa5927a99814084a042cce290e3025">&#9670;&nbsp;</a></span>copy_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.copy_slot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>oldkvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>newkvs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01119">1119</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                                                                                      {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="comment">// Blindly set the key slot from null to TOMBSTONE, to eagerly stop</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="comment">// fresh put&#39;s from inserting new values in the old table when the old</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <span class="comment">// table is mid-resize.  We don&#39;t need to act on the results here,</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="comment">// because our correctness stems from box&#39;ing the Value field.  Slamming</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="comment">// the Key field is a minor speed optimization.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      Object <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordflow">while</span>( (<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>=<a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>(oldkvs,idx)) == <span class="keyword">null</span> )</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <a class="code" href="../../d1/d88/a01578.html#a0f8631d4996a2fe7a961ee7a1ce04aac">CAS_key</a>(oldkvs,idx, <span class="keyword">null</span>, <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="comment">// ---</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="comment">// Prevent new values from appearing in the old table.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="comment">// Box what we see in the old table, to prevent further updates.</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      Object oldval = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(oldkvs,idx); <span class="comment">// Read OLD table</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">while</span>( !(oldval instanceof Prime) ) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keyword">final</span> Prime box = (oldval == <span class="keyword">null</span> || oldval == <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>) ? <a class="code" href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">TOMBPRIME</a> : <span class="keyword">new</span> Prime(oldval);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="../../d1/d88/a01578.html#acdccf6b774bcd40e49b9befaddcff62f">CAS_val</a>(oldkvs,idx,oldval,box) ) { <span class="comment">// CAS down a box&#39;d version of oldval</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;          <span class="comment">// If we made the Value slot hold a TOMBPRIME, then we both</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;          <span class="comment">// prevented further updates here but also the (absent)</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;          <span class="comment">// oldval is vacuously available in the new table.  We</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;          <span class="comment">// return with true here: any thread looking for a value for</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;          <span class="comment">// this key can correctly go straight to the new table and</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;          <span class="comment">// skip looking in the old table.</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;          <span class="keywordflow">if</span>( box == <a class="code" href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">TOMBPRIME</a> )</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;          <span class="comment">// Otherwise we boxed something, but it still needs to be</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          <span class="comment">// copied into the new table.</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;          oldval = box;         <span class="comment">// Record updated oldval</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;          <span class="keywordflow">break</span>;                <span class="comment">// Break loop; oldval is now boxed by us</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        oldval = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(oldkvs,idx); <span class="comment">// Else try, try again</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">if</span>( oldval == <a class="code" href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">TOMBPRIME</a> ) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Copy already complete here!</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <span class="comment">// ---</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="comment">// Copy the value into the new table, but only if we overwrite a null.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <span class="comment">// If another value is already in the new table, then somebody else</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="comment">// wrote something there and that write is happens-after any value that</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="comment">// appears in the old table.  If putIfMatch does not find a null in the</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="comment">// new table - somebody else should have recorded the null-not_null</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="comment">// transition in this copy.</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      Object old_unboxed = ((Prime)oldval)._V;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      assert old_unboxed != <a class="code" href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">TOMBSTONE</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <a class="code" href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">putIfMatch</a>(topmap, newkvs, <a class="code" href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">key</a>, old_unboxed, <span class="keyword">null</span>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="comment">// ---</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="comment">// Finally, now that any old value is exposed in the new table, we can</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="comment">// forever hide the old-table value by slapping a TOMBPRIME down.  This</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="comment">// will stop other threads from uselessly attempting to copy this slot</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="comment">// (i.e., it&#39;s a speed optimization not a correctness issue).</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">while</span>( oldval != <a class="code" href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">TOMBPRIME</a> &amp;&amp; !<a class="code" href="../../d1/d88/a01578.html#acdccf6b774bcd40e49b9befaddcff62f">CAS_val</a>(oldkvs,idx,oldval,<a class="code" href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">TOMBPRIME</a>) )</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        oldval = <a class="code" href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">val</a>(oldkvs,idx);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    } <span class="comment">// end copy_slot</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00174">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CAS_key()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00177">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CAS_val()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00172">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.key()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00361">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00163">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.TOMBPRIME</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00158">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.TOMBSTONE</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00173">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.val()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01066">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot_and_check()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a9bfa5927a99814084a042cce290e3025_cgraph.svg" width="491" height="314"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a9bfa5927a99814084a042cce290e3025_icgraph.svg" width="100%" height="481"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3a59a61ee44b01b1fc7a39e9c7e5659b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a59a61ee44b01b1fc7a39e9c7e5659b">&#9670;&nbsp;</a></span>copy_slot_and_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.copy_slot_and_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>oldkvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>should_help</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01066">1066</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                                                                                                          {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      assert <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(oldkvs) == <span class="keyword">this</span>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      Object[] newkvs = <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// VOLATILE READ</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="comment">// We&#39;re only here because the caller saw a Prime, which implies a</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="comment">// table-copy is in progress.</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      assert newkvs != <span class="keyword">null</span>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d2/d2f/a01586.html#a9bfa5927a99814084a042cce290e3025">copy_slot</a>(topmap,idx,oldkvs,<a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>) )   <span class="comment">// Copy the desired slot</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <a class="code" href="../../d2/d2f/a01586.html#a06c8a3a20b51acada744e571b85ad91a">copy_check_and_promote</a>(topmap, oldkvs, 1); <span class="comment">// Record the slot copied</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="comment">// Generically help along any copy (except if called recursively from a helper)</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordflow">return</span> (should_help == <span class="keyword">null</span>) ? newkvs : topmap.help_copy(newkvs);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00827">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._newkvs</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00135">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.chm()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00788">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.help_copy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a3a59a61ee44b01b1fc7a39e9c7e5659b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a3a59a61ee44b01b1fc7a39e9c7e5659b_icgraph.svg" width="535" height="176"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a73e0c5ac08432006230f0252afae721c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73e0c5ac08432006230f0252afae721c">&#9670;&nbsp;</a></span>help_copy_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final void <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.help_copy_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>oldkvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>copy_all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01007">1007</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                                                                                      {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      assert <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(oldkvs) == <span class="keyword">this</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      Object[] newkvs = <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      assert newkvs != <span class="keyword">null</span>;    <span class="comment">// Already checked by caller</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordtype">int</span> oldlen = <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>(oldkvs); <span class="comment">// Total amount to copy</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="keyword">final</span> <span class="keywordtype">int</span> MIN_COPY_WORK = Math.min(oldlen,1024); <span class="comment">// Limit per-thread work</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="comment">// ---</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordtype">int</span> panic_start = -1;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keywordtype">int</span> copyidx=-9999;            <span class="comment">// Fool javac to think it&#39;s initialized</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">while</span>( <a class="code" href="../../d2/d2f/a01586.html#a7edc49d6f942cb2e850215dd21963b34">_copyDone</a> &lt; oldlen ) { <span class="comment">// Still needing to copy?</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="comment">// Carve out a chunk of work.  The counter wraps around so every</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="comment">// thread eventually tries to copy every slot repeatedly.</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="comment">// We &quot;panic&quot; if we have tried TWICE to copy every slot - and it still</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <span class="comment">// has not happened.  i.e., twice some thread somewhere claimed they</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="comment">// would copy &#39;slot X&#39; (by bumping _copyIdx) but they never claimed to</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="comment">// have finished (by bumping _copyDone).  Our choices become limited:</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="comment">// we can wait for the work-claimers to finish (and become a blocking</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="comment">// algorithm) or do the copy work ourselves.  Tiny tables with huge</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="comment">// thread counts trying to copy the table often &#39;panic&#39;.</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">if</span>( panic_start == -1 ) { <span class="comment">// No panic?</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;          copyidx = (int)<a class="code" href="../../d2/d2f/a01586.html#a8cef1cf7cb694ba20d101bb1a94a9aad">_copyIdx</a>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;          <span class="keywordflow">while</span>( !<a class="code" href="../../d2/d2f/a01586.html#ae6837b4dbbfb16731686eb8c0c90a20b">_copyIdxUpdater</a>.compareAndSet(<span class="keyword">this</span>,copyidx,copyidx+MIN_COPY_WORK) )</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            copyidx = (<span class="keywordtype">int</span>)<a class="code" href="../../d2/d2f/a01586.html#a8cef1cf7cb694ba20d101bb1a94a9aad">_copyIdx</a>;      <span class="comment">// Re-read</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          <span class="keywordflow">if</span>( !(copyidx &lt; (oldlen&lt;&lt;1)) )  <span class="comment">// Panic!</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            panic_start = copyidx;        <span class="comment">// Record where we started to panic-copy</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="comment">// We now know what to copy.  Try to copy.</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordtype">int</span> workdone = 0;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;MIN_COPY_WORK; i++ )</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;          <span class="keywordflow">if</span>( <a class="code" href="../../d2/d2f/a01586.html#a9bfa5927a99814084a042cce290e3025">copy_slot</a>(topmap,(copyidx+i)&amp;(oldlen-1),oldkvs,newkvs) ) <span class="comment">// Made an oldtable slot go dead?</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            workdone++;         <span class="comment">// Yes!</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">if</span>( workdone &gt; 0 )      <span class="comment">// Report work-done occasionally</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;          <a class="code" href="../../d2/d2f/a01586.html#a06c8a3a20b51acada744e571b85ad91a">copy_check_and_promote</a>( topmap, oldkvs, workdone );<span class="comment">// See if we can promote</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        copyidx += MIN_COPY_WORK;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="comment">// Uncomment these next 2 lines to turn on incremental table-copy.</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="comment">// Otherwise this thread continues to copy until it is all done.</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">if</span>( !copy_all &amp;&amp; panic_start == -1 ) <span class="comment">// No panic?</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          <span class="keywordflow">return</span>;       <span class="comment">// Then done copying after doing MIN_COPY_WORK</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="comment">// Extra promotion check, in case another thread finished all copying</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="comment">// then got stalled before promoting.</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="../../d2/d2f/a01586.html#a06c8a3a20b51acada744e571b85ad91a">copy_check_and_promote</a>( topmap, oldkvs, 0 );<span class="comment">// See if we can promote</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00999">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._copyDone</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00992">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._copyIdx</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00993">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._copyIdxUpdater</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00827">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._newkvs</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00135">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.chm()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01119">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00138">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.len()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01182">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.SnapshotV()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a73e0c5ac08432006230f0252afae721c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a73e0c5ac08432006230f0252afae721c_icgraph.svg" width="510" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="addb4e95343345696d085ca6f75a990cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb4e95343345696d085ca6f75a990cf">&#9670;&nbsp;</a></span>resize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a>&#160;</td>
          <td class="paramname"><em>topmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object[]&#160;</td>
          <td class="paramname"><em>kvs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00885">885</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                                                            {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      assert <a class="code" href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">chm</a>(kvs) == <span class="keyword">this</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="comment">// Check for resize already in progress, probably triggered by another thread</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      Object[] newkvs = <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>; <span class="comment">// VOLATILE READ</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keywordflow">if</span>( newkvs != <span class="keyword">null</span> )       <span class="comment">// See if resize is already in progress</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">return</span> newkvs;           <span class="comment">// Use the new table already</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="comment">// No copy in-progress, so start one.  First up: compute new table size.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordtype">int</span> oldlen = <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>(kvs);    <span class="comment">// Old count of K,V pairs allowed</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordtype">int</span> sz = <a class="code" href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">size</a>();          <span class="comment">// Get current table count of active K,V pairs</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordtype">int</span> newsz = sz;           <span class="comment">// First size estimate</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="comment">// Heuristic to determine new size.  We expect plenty of dead-slots-with-keys</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="comment">// and we need some decent padding to avoid endless reprobing.</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">if</span>( sz &gt;= (oldlen&gt;&gt;2) ) { <span class="comment">// If we are &gt;25% full of keys then...</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        newsz = oldlen&lt;&lt;1;      <span class="comment">// Double size, so new table will be between 12.5% and 25% full</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="comment">// For tables less than 1M entries, if &gt;50% full of keys then...</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="comment">// For tables more than 1M entries, if &gt;75% full of keys then...</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span>( 4L*sz &gt;= ((oldlen&gt;&gt;20)!=0?3L:2L)*oldlen )</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;          newsz = oldlen&lt;&lt;2;    <span class="comment">// Double double size, so new table will be between %12.5 (18.75%) and 25% (25%)</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="comment">// This heuristic in the next 2 lines leads to a much denser table</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="comment">// with a higher reprobe rate</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="comment">//if( sz &gt;= (oldlen&gt;&gt;1) ) // If we are &gt;50% full of keys then...</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="comment">//  newsz = oldlen&lt;&lt;1;    // Double size</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">// Last (re)size operation was very recent?  Then double again; slows</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="comment">// down resize operations for tables subject to a high key churn rate.</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordtype">long</span> tm = System.currentTimeMillis();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordtype">long</span> q=0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordflow">if</span>( newsz &lt;= oldlen &amp;&amp; <span class="comment">// New table would shrink or hold steady?</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          (tm &lt;= topmap._last_resize_milli+10000 || <span class="comment">// Recent resize (less than 10 sec ago)</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;           (q=<a class="code" href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">_slots</a>.<a class="code" href="../../da/dcf/a01558.html#a9344a8223e6fa082967da3a2a9a537ae">estimate_get</a>()) &gt;= (sz&lt;&lt;1)) )  <span class="comment">// 1/2 of keys are dead?</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        newsz = oldlen&lt;&lt;1;      <span class="comment">// Double the existing size</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="comment">// Do not shrink, ever</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <span class="keywordflow">if</span>( newsz &lt; oldlen ) newsz = oldlen;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="comment">// Convert to power-of-2</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordtype">int</span> log2;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">for</span>( log2=<a class="code" href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">MIN_SIZE_LOG</a>; (1&lt;&lt;log2) &lt; newsz; log2++ ) ; <span class="comment">// Compute log2 of size</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordtype">long</span> <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a> = ((1L &lt;&lt; log2) &lt;&lt; 1) + 2;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="comment">// prevent integer overflow - limit of 2^31 elements in a Java array</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <span class="comment">// so here, 2^30 + 2 is the largest number of elements in the hash table</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>!=<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        log2 = 30;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a> = (1L &lt;&lt; log2) + 2;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">if</span> (sz &gt; ((<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a> &gt;&gt; 2) + (<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a> &gt;&gt; 1))) <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(<span class="stringliteral">&quot;Table is full.&quot;</span>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="comment">// Now limit the number of threads actually allocating memory to a</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="comment">// handful - lest we have 750 threads all trying to allocate a giant</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="comment">// resized array.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <span class="keywordtype">long</span> r = <a class="code" href="../../d2/d2f/a01586.html#ad1ff0a9f7f7dfbf26b1e20eba71c5e88">_resizers</a>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">while</span>( !<a class="code" href="../../d2/d2f/a01586.html#a0cae5678cb4df12512bdeb9464d4d4c0">_resizerUpdater</a>.compareAndSet(<span class="keyword">this</span>,r,r+1) )</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        r = <a class="code" href="../../d2/d2f/a01586.html#ad1ff0a9f7f7dfbf26b1e20eba71c5e88">_resizers</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="comment">// Size calculation: 2 words (K+V) per table entry, plus a handful.  We</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="comment">// guess at 64-bit pointers; 32-bit pointers screws up the size calc by</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="comment">// 2x but does not screw up the heuristic very much.</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="keywordtype">long</span> megs = ((((1L&lt;&lt;log2)&lt;&lt;1)+8)&lt;&lt;3<span class="comment">/*word to bytes*/</span>)&gt;&gt;20<span class="comment">/*megs*/</span>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">if</span>( r &gt;= 2 &amp;&amp; megs &gt; 0 ) { <span class="comment">// Already 2 guys trying; wait and see</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        newkvs = <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>;        <span class="comment">// Between dorking around, another thread did it</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">if</span>( newkvs != <span class="keyword">null</span> )     <span class="comment">// See if resize is already in progress</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;          <span class="keywordflow">return</span> newkvs;         <span class="comment">// Use the new table already</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="comment">// TODO - use a wait with timeout, so we&#39;ll wakeup as soon as the new table</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="comment">// is ready, or after the timeout in any case.</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="comment">//synchronized( this ) { wait(8*megs); }         // Timeout - we always wakeup</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="comment">// For now, sleep a tad and see if the 2 guys already trying to make</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="comment">// the table actually get around to making it happen.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">try</span> { Thread.sleep(megs); } <span class="keywordflow">catch</span>( Exception e ) { }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="comment">// Last check, since the &#39;new&#39; below is expensive and there is a chance</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="comment">// that another thread slipped in a new thread while we ran the heuristic.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      newkvs = <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">if</span>( newkvs != <span class="keyword">null</span> )      <span class="comment">// See if resize is already in progress</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">return</span> newkvs;          <span class="comment">// Use the new table already</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="comment">// Double size for K,V pairs, add 1 for CHM</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      newkvs = <span class="keyword">new</span> Object[(int)<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>]; <span class="comment">// This can get expensive for big arrays</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      newkvs[0] = <span class="keyword">new</span> <a class="code" href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">CHM</a>(<a class="code" href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">_size</a>); <span class="comment">// CHM in slot 0</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      newkvs[1] = <span class="keyword">new</span> <span class="keywordtype">int</span>[1&lt;&lt;log2]; <span class="comment">// hashes in slot 1</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="comment">// Another check after the slow allocation</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a> != <span class="keyword">null</span> )     <span class="comment">// See if resize is already in progress</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>;         <span class="comment">// Use the new table already</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="comment">// The new table must be CAS&#39;d in so only 1 winner amongst duplicate</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="comment">// racing resizing threads.  Extra CHM&#39;s will be GC&#39;d.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../d2/d2f/a01586.html#ab43304059040308580055a49cf390f01">CAS_newkvs</a>( newkvs ) ) { <span class="comment">// NOW a resize-is-in-progress!</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="comment">//notifyAll();            // Wake up any sleepers</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="comment">//long nano = System.nanoTime();</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="comment">//System.out.println(&quot; &quot;+nano+&quot; Resize from &quot;+oldlen+&quot; to &quot;+(1&lt;&lt;log2)+&quot; and had &quot;+(_resizers-1)+&quot; extras&quot; );</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="comment">//if( System.out != null ) System.out.print(&quot;[&quot;+log2);</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        topmap.rehash();        <span class="comment">// Call for Hashtable&#39;s benefit</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      } <span class="keywordflow">else</span>                    <span class="comment">// CAS failed?</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        newkvs = <a class="code" href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">_newkvs</a>;       <span class="comment">// Reread new table</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">return</span> newkvs;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00141">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;._last_resize_milli</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00827">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._newkvs</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00850">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._resizers</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00851">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._resizerUpdater</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00804">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._size</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00817">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._slots</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00831">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CAS_newkvs()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00135">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.chm()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00856">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CHM()</a>, <a class="el" href="../../d5/d35/a00266_source.html#l00060">com.cliffc.aa.util.ConcurrentAutoTable.estimate_get()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00138">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.len()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00146">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.MIN_SIZE_LOG</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00405">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.rehash()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00805">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_addb4e95343345696d085ca6f75a990cf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_addb4e95343345696d085ca6f75a990cf_icgraph.svg" width="491" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a83c249a5e62177a70d11294cdf0f8ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c249a5e62177a70d11294cdf0f8ae1">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00805">805</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">_size</a>.<a class="code" href="../../da/dcf/a01558.html#a0829d01be3a5a0269feb836ed02db8f2">get</a>(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00804">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._size</a>, and <a class="el" href="../../d5/d35/a00266_source.html#l00050">com.cliffc.aa.util.ConcurrentAutoTable.get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00856">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CHM()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00278">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.size()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a83c249a5e62177a70d11294cdf0f8ae1_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_a83c249a5e62177a70d11294cdf0f8ae1_icgraph.svg" width="100%" height="449"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af29538019f9d4622e764ec5772b9605c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af29538019f9d4622e764ec5772b9605c">&#9670;&nbsp;</a></span>slots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.slots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00818">818</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">_slots</a>.<a class="code" href="../../da/dcf/a01558.html#a0829d01be3a5a0269feb836ed02db8f2">get</a>(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00817">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._slots</a>, and <a class="el" href="../../d5/d35/a00266_source.html#l00050">com.cliffc.aa.util.ConcurrentAutoTable.get()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_af29538019f9d4622e764ec5772b9605c_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="addfa938dafe9243e09aa6d5268980bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfa938dafe9243e09aa6d5268980bed">&#9670;&nbsp;</a></span>tableFull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;.tableFull </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reprobe_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00870">870</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                                                                {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="keywordflow">return</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="comment">// Do the cheap check first: we allow some number of reprobes always</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        reprobe_cnt &gt;= <a class="code" href="../../d1/d88/a01578.html#ad5af05c979113a7acb20e9c222051b7a">REPROBE_LIMIT</a> &amp;&amp;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        (reprobe_cnt &gt;= <a class="code" href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">reprobe_limit</a>(<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>) ||</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;         <span class="comment">// More expensive check: see if the table is &gt; 1/2 full.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;         <a class="code" href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">_slots</a>.<a class="code" href="../../da/dcf/a01558.html#a9344a8223e6fa082967da3a2a9a537ae">estimate_get</a>() &gt;= (<a class="code" href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">len</a>&gt;&gt;1));</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5e/a00275_source.html#l00817">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;._slots</a>, <a class="el" href="../../d5/d35/a00266_source.html#l00060">com.cliffc.aa.util.ConcurrentAutoTable.estimate_get()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00138">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.len()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.REPROBE_LIMIT</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00242">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.reprobe_limit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_addfa938dafe9243e09aa6d5268980bed_cgraph.svg" width="100%" height="455"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d2f/a01586_addfa938dafe9243e09aa6d5268980bed_icgraph.svg" width="491" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7edc49d6f942cb2e850215dd21963b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edc49d6f942cb2e850215dd21963b34">&#9670;&nbsp;</a></span>_copyDone</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._copyDone = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00999">999</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>.</p>

</div>
</div>
<a id="a1f64746443d1cc59fd39f8705dd1767e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f64746443d1cc59fd39f8705dd1767e">&#9670;&nbsp;</a></span>_copyDoneUpdater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final AtomicLongFieldUpdater&lt;<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._copyDoneUpdater</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      AtomicLongFieldUpdater.newUpdater(<a class="code" href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">CHM</a>.class, <span class="stringliteral">&quot;_copyDone&quot;</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l01000">1000</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>.</p>

</div>
</div>
<a id="a8cef1cf7cb694ba20d101bb1a94a9aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cef1cf7cb694ba20d101bb1a94a9aad">&#9670;&nbsp;</a></span>_copyIdx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._copyIdx = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00992">992</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>.</p>

</div>
</div>
<a id="ae6837b4dbbfb16731686eb8c0c90a20b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6837b4dbbfb16731686eb8c0c90a20b">&#9670;&nbsp;</a></span>_copyIdxUpdater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final AtomicLongFieldUpdater&lt;<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._copyIdxUpdater</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      AtomicLongFieldUpdater.newUpdater(<a class="code" href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">CHM</a>.class, <span class="stringliteral">&quot;_copyIdx&quot;</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00993">993</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>.</p>

</div>
</div>
<a id="aad7843f40cac657eb44ea7493942d932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad7843f40cac657eb44ea7493942d932">&#9670;&nbsp;</a></span>_newkvs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile Object [] <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._newkvs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00827">827</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00478">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;._getKey()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00831">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CAS_newkvs()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01079">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_check_and_promote()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01066">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.copy_slot_and_check()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00531">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.get_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00589">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.getk_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l01007">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.help_copy_impl()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00190">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00209">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.print2()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l01182">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.SnapshotV.SnapshotV()</a>.</p>

</div>
</div>
<a id="a4778837c89f259b4a8dad0cf7dd4b2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4778837c89f259b4a8dad0cf7dd4b2a2">&#9670;&nbsp;</a></span>_newkvsUpdater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final AtomicReferenceFieldUpdater&lt;<a class="el" href="../../d2/d2f/a01586.html">CHM</a>,Object[]&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._newkvsUpdater</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      AtomicReferenceFieldUpdater.newUpdater(<a class="code" href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">CHM</a>.class,Object[].class, <span class="stringliteral">&quot;_newkvs&quot;</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00828">828</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00831">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CAS_newkvs()</a>.</p>

</div>
</div>
<a id="ad1ff0a9f7f7dfbf26b1e20eba71c5e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1ff0a9f7f7dfbf26b1e20eba71c5e88">&#9670;&nbsp;</a></span>_resizers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile long <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._resizers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00850">850</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>

</div>
</div>
<a id="a0cae5678cb4df12512bdeb9464d4d4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cae5678cb4df12512bdeb9464d4d4c0">&#9670;&nbsp;</a></span>_resizerUpdater</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final AtomicLongFieldUpdater&lt;<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&gt; <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._resizerUpdater</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      AtomicLongFieldUpdater.newUpdater(<a class="code" href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">CHM</a>.class, <span class="stringliteral">&quot;_resizers&quot;</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00851">851</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>.</p>

</div>
</div>
<a id="a7dcb49ee78b3d4e5230d2cd30e4876cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dcb49ee78b3d4e5230d2cd30e4876cd">&#9670;&nbsp;</a></span>_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a> <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00804">804</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00856">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CHM()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00805">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.size()</a>.</p>

</div>
</div>
<a id="a96654954f88ba2106d78160f2e4f2f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96654954f88ba2106d78160f2e4f2f13">&#9670;&nbsp;</a></span>_slots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final <a class="el" href="../../da/dcf/a01558.html">ConcurrentAutoTable</a> <a class="el" href="../../d1/d88/a01578.html">com.cliffc.aa.util.NonBlockingHashMap</a>&lt; TypeK, TypeV &gt;.<a class="el" href="../../d2/d2f/a01586.html">CHM</a>&lt; TypeK, TypeV &gt;._slots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d5e/a00275_source.html#l00817">817</a> of file <a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5e/a00275_source.html#l00856">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.CHM()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00638">com.cliffc.aa.util.NonBlockingHashMap&lt; com.cliffc.aa.type.Type.Key, com.cliffc.aa.type.Type &gt;.putIfMatch()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00885">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.resize()</a>, <a class="el" href="../../d3/d5e/a00275_source.html#l00818">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.slots()</a>, and <a class="el" href="../../d3/d5e/a00275_source.html#l00870">com.cliffc.aa.util.NonBlockingHashMap&lt; TypeK, TypeV &gt;.CHM&lt; TypeK, TypeV &gt;.tableFull()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d3/d5e/a00275_source.html">NonBlockingHashMap.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa01578_html_ae663333cf20049876dbf772db24daa32"><div class="ttname"><a href="../../d1/d88/a01578.html#ae663333cf20049876dbf772db24daa32">com.cliffc.aa.util.NonBlockingHashMap.val</a></div><div class="ttdeci">static final Object val(Object[] kvs, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00173">NonBlockingHashMap.java:173</a></div></div>
<div class="ttc" id="aa01586_html_a4778837c89f259b4a8dad0cf7dd4b2a2"><div class="ttname"><a href="../../d2/d2f/a01586.html#a4778837c89f259b4a8dad0cf7dd4b2a2">com.cliffc.aa.util.NonBlockingHashMap.CHM._newkvsUpdater</a></div><div class="ttdeci">final AtomicReferenceFieldUpdater&lt; CHM, Object[]&gt; _newkvsUpdater</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00828">NonBlockingHashMap.java:828</a></div></div>
<div class="ttc" id="aa01586_html_ab43304059040308580055a49cf390f01"><div class="ttname"><a href="../../d2/d2f/a01586.html#ab43304059040308580055a49cf390f01">com.cliffc.aa.util.NonBlockingHashMap.CHM.CAS_newkvs</a></div><div class="ttdeci">boolean CAS_newkvs(Object[] newkvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00831">NonBlockingHashMap.java:831</a></div></div>
<div class="ttc" id="aa01586_html_a06c8a3a20b51acada744e571b85ad91a"><div class="ttname"><a href="../../d2/d2f/a01586.html#a06c8a3a20b51acada744e571b85ad91a">com.cliffc.aa.util.NonBlockingHashMap.CHM.copy_check_and_promote</a></div><div class="ttdeci">final void copy_check_and_promote(NonBlockingHashMap topmap, Object[] oldkvs, int workdone)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01079">NonBlockingHashMap.java:1079</a></div></div>
<div class="ttc" id="aa01586_html_a0cae5678cb4df12512bdeb9464d4d4c0"><div class="ttname"><a href="../../d2/d2f/a01586.html#a0cae5678cb4df12512bdeb9464d4d4c0">com.cliffc.aa.util.NonBlockingHashMap.CHM._resizerUpdater</a></div><div class="ttdeci">static final AtomicLongFieldUpdater&lt; CHM &gt; _resizerUpdater</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00851">NonBlockingHashMap.java:851</a></div></div>
<div class="ttc" id="aa01586_html_a83c249a5e62177a70d11294cdf0f8ae1"><div class="ttname"><a href="../../d2/d2f/a01586.html#a83c249a5e62177a70d11294cdf0f8ae1">com.cliffc.aa.util.NonBlockingHashMap.CHM.size</a></div><div class="ttdeci">int size()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00805">NonBlockingHashMap.java:805</a></div></div>
<div class="ttc" id="aa01578_html_a6e1835db75a57079b5194e312f8de3d3"><div class="ttname"><a href="../../d1/d88/a01578.html#a6e1835db75a57079b5194e312f8de3d3">com.cliffc.aa.util.NonBlockingHashMap.len</a></div><div class="ttdeci">static final int len(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00138">NonBlockingHashMap.java:138</a></div></div>
<div class="ttc" id="aa01586_html_ae6837b4dbbfb16731686eb8c0c90a20b"><div class="ttname"><a href="../../d2/d2f/a01586.html#ae6837b4dbbfb16731686eb8c0c90a20b">com.cliffc.aa.util.NonBlockingHashMap.CHM._copyIdxUpdater</a></div><div class="ttdeci">static final AtomicLongFieldUpdater&lt; CHM &gt; _copyIdxUpdater</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00993">NonBlockingHashMap.java:993</a></div></div>
<div class="ttc" id="aa01578_html_a0935e42c9a836308eb5f4ebae3f19ebc"><div class="ttname"><a href="../../d1/d88/a01578.html#a0935e42c9a836308eb5f4ebae3f19ebc">com.cliffc.aa.util.NonBlockingHashMap.TOMBPRIME</a></div><div class="ttdeci">static final Prime TOMBPRIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00163">NonBlockingHashMap.java:163</a></div></div>
<div class="ttc" id="aa01578_html_ad36952c53870f9307338b1c5a4bf9258"><div class="ttname"><a href="../../d1/d88/a01578.html#ad36952c53870f9307338b1c5a4bf9258">com.cliffc.aa.util.NonBlockingHashMap.reprobe_limit</a></div><div class="ttdeci">static final int reprobe_limit(int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00242">NonBlockingHashMap.java:242</a></div></div>
<div class="ttc" id="aa01586_html_a5a8b9ba9efec713414f2d95424a01f94"><div class="ttname"><a href="../../d2/d2f/a01586.html#a5a8b9ba9efec713414f2d95424a01f94">com.cliffc.aa.util.NonBlockingHashMap.CHM.CHM</a></div><div class="ttdeci">CHM(ConcurrentAutoTable size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00856">NonBlockingHashMap.java:856</a></div></div>
<div class="ttc" id="aa01578_html_a17cadc8cc7460b02f6f76100f6e64513"><div class="ttname"><a href="../../d1/d88/a01578.html#a17cadc8cc7460b02f6f76100f6e64513">com.cliffc.aa.util.NonBlockingHashMap.key</a></div><div class="ttdeci">static final Object key(Object[] kvs, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00172">NonBlockingHashMap.java:172</a></div></div>
<div class="ttc" id="aa01586_html_a7dcb49ee78b3d4e5230d2cd30e4876cd"><div class="ttname"><a href="../../d2/d2f/a01586.html#a7dcb49ee78b3d4e5230d2cd30e4876cd">com.cliffc.aa.util.NonBlockingHashMap.CHM._size</a></div><div class="ttdeci">final ConcurrentAutoTable _size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00804">NonBlockingHashMap.java:804</a></div></div>
<div class="ttc" id="aa01578_html_ab2fad8e9cda544ddf7b4b4ea5d1ae0b4"><div class="ttname"><a href="../../d1/d88/a01578.html#ab2fad8e9cda544ddf7b4b4ea5d1ae0b4">com.cliffc.aa.util.NonBlockingHashMap.MIN_SIZE_LOG</a></div><div class="ttdeci">static final int MIN_SIZE_LOG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00146">NonBlockingHashMap.java:146</a></div></div>
<div class="ttc" id="aa01578_html_a73d36f36b4d06eaeee5e2a5331118f33"><div class="ttname"><a href="../../d1/d88/a01578.html#a73d36f36b4d06eaeee5e2a5331118f33">com.cliffc.aa.util.NonBlockingHashMap.TOMBSTONE</a></div><div class="ttdeci">static final Object TOMBSTONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00158">NonBlockingHashMap.java:158</a></div></div>
<div class="ttc" id="aa01578_html_ad5af05c979113a7acb20e9c222051b7a"><div class="ttname"><a href="../../d1/d88/a01578.html#ad5af05c979113a7acb20e9c222051b7a">com.cliffc.aa.util.NonBlockingHashMap.REPROBE_LIMIT</a></div><div class="ttdeci">static final int REPROBE_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00079">NonBlockingHashMap.java:79</a></div></div>
<div class="ttc" id="aa01586_html_ad1ff0a9f7f7dfbf26b1e20eba71c5e88"><div class="ttname"><a href="../../d2/d2f/a01586.html#ad1ff0a9f7f7dfbf26b1e20eba71c5e88">com.cliffc.aa.util.NonBlockingHashMap.CHM._resizers</a></div><div class="ttdeci">volatile long _resizers</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00850">NonBlockingHashMap.java:850</a></div></div>
<div class="ttc" id="aa01586_html_a9bfa5927a99814084a042cce290e3025"><div class="ttname"><a href="../../d2/d2f/a01586.html#a9bfa5927a99814084a042cce290e3025">com.cliffc.aa.util.NonBlockingHashMap.CHM.copy_slot</a></div><div class="ttdeci">boolean copy_slot(NonBlockingHashMap topmap, int idx, Object[] oldkvs, Object[] newkvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01119">NonBlockingHashMap.java:1119</a></div></div>
<div class="ttc" id="aa01578_html_a39c31fa94e334f5bb1e508349061b058"><div class="ttname"><a href="../../d1/d88/a01578.html#a39c31fa94e334f5bb1e508349061b058">com.cliffc.aa.util.NonBlockingHashMap.putIfMatch</a></div><div class="ttdeci">final TypeV putIfMatch(Object key, Object newVal, Object oldVal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00361">NonBlockingHashMap.java:361</a></div></div>
<div class="ttc" id="aa01558_html_a9344a8223e6fa082967da3a2a9a537ae"><div class="ttname"><a href="../../da/dcf/a01558.html#a9344a8223e6fa082967da3a2a9a537ae">com.cliffc.aa.util.ConcurrentAutoTable.estimate_get</a></div><div class="ttdeci">long estimate_get()</div><div class="ttdoc">A cheaper get.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/a00266_source.html#l00060">ConcurrentAutoTable.java:60</a></div></div>
<div class="ttc" id="aa01586_html_a7edc49d6f942cb2e850215dd21963b34"><div class="ttname"><a href="../../d2/d2f/a01586.html#a7edc49d6f942cb2e850215dd21963b34">com.cliffc.aa.util.NonBlockingHashMap.CHM._copyDone</a></div><div class="ttdeci">volatile long _copyDone</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00999">NonBlockingHashMap.java:999</a></div></div>
<div class="ttc" id="aa01586_html_a96654954f88ba2106d78160f2e4f2f13"><div class="ttname"><a href="../../d2/d2f/a01586.html#a96654954f88ba2106d78160f2e4f2f13">com.cliffc.aa.util.NonBlockingHashMap.CHM._slots</a></div><div class="ttdeci">final ConcurrentAutoTable _slots</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00817">NonBlockingHashMap.java:817</a></div></div>
<div class="ttc" id="aa01586_html_a8cef1cf7cb694ba20d101bb1a94a9aad"><div class="ttname"><a href="../../d2/d2f/a01586.html#a8cef1cf7cb694ba20d101bb1a94a9aad">com.cliffc.aa.util.NonBlockingHashMap.CHM._copyIdx</a></div><div class="ttdeci">volatile long _copyIdx</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00992">NonBlockingHashMap.java:992</a></div></div>
<div class="ttc" id="aa01586_html_a1f64746443d1cc59fd39f8705dd1767e"><div class="ttname"><a href="../../d2/d2f/a01586.html#a1f64746443d1cc59fd39f8705dd1767e">com.cliffc.aa.util.NonBlockingHashMap.CHM._copyDoneUpdater</a></div><div class="ttdeci">static final AtomicLongFieldUpdater&lt; CHM &gt; _copyDoneUpdater</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l01000">NonBlockingHashMap.java:1000</a></div></div>
<div class="ttc" id="aa01578_html_acdccf6b774bcd40e49b9befaddcff62f"><div class="ttname"><a href="../../d1/d88/a01578.html#acdccf6b774bcd40e49b9befaddcff62f">com.cliffc.aa.util.NonBlockingHashMap.CAS_val</a></div><div class="ttdeci">static final boolean CAS_val(Object[] kvs, int idx, Object old, Object val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00177">NonBlockingHashMap.java:177</a></div></div>
<div class="ttc" id="aa01578_html_a115294c7aac1ca8f3439ce725c0b025d"><div class="ttname"><a href="../../d1/d88/a01578.html#a115294c7aac1ca8f3439ce725c0b025d">com.cliffc.aa.util.NonBlockingHashMap.chm</a></div><div class="ttdeci">static final CHM chm(Object[] kvs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00135">NonBlockingHashMap.java:135</a></div></div>
<div class="ttc" id="aa01578_html_a0f8631d4996a2fe7a961ee7a1ce04aac"><div class="ttname"><a href="../../d1/d88/a01578.html#a0f8631d4996a2fe7a961ee7a1ce04aac">com.cliffc.aa.util.NonBlockingHashMap.CAS_key</a></div><div class="ttdeci">static final boolean CAS_key(Object[] kvs, int idx, Object old, Object key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00174">NonBlockingHashMap.java:174</a></div></div>
<div class="ttc" id="aa01558_html_a0829d01be3a5a0269feb836ed02db8f2"><div class="ttname"><a href="../../da/dcf/a01558.html#a0829d01be3a5a0269feb836ed02db8f2">com.cliffc.aa.util.ConcurrentAutoTable.get</a></div><div class="ttdeci">long get()</div><div class="ttdoc">Current value of the counter.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/a00266_source.html#l00050">ConcurrentAutoTable.java:50</a></div></div>
<div class="ttc" id="aa01586_html_aad7843f40cac657eb44ea7493942d932"><div class="ttname"><a href="../../d2/d2f/a01586.html#aad7843f40cac657eb44ea7493942d932">com.cliffc.aa.util.NonBlockingHashMap.CHM._newkvs</a></div><div class="ttdeci">volatile Object[] _newkvs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5e/a00275_source.html#l00827">NonBlockingHashMap.java:827</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d03/a00348.html">com</a></li><li class="navelem"><a class="el" href="../../d7/dfc/a00349.html">cliffc</a></li><li class="navelem"><a class="el" href="../../d1/dc6/a00347.html">aa</a></li><li class="navelem"><a class="el" href="../../d0/dc3/a00354.html">util</a></li><li class="navelem"><a class="el" href="../../d1/d88/a01578.html">NonBlockingHashMap</a></li><li class="navelem"><a class="el" href="../../d2/d2f/a01586.html">CHM</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
